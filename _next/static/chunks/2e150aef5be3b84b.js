(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,78894,e=>{"use strict";e.s(["AlertTriangle",()=>t],78894);let t=(0,e.i(75254).default)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},27612,e=>{"use strict";e.s(["Trash2",()=>t],27612);let t=(0,e.i(75254).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])},12426,e=>{"use strict";e.s(["DollarSign",()=>t],12426);let t=(0,e.i(75254).default)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},12482,e=>{"use strict";e.s(["RENTAL_STATUS",()=>r,"RENTAL_STATUS_COLORS",()=>t,"RentalTypes",()=>a,"calculateEndDate",()=>c,"calculateRemainingRentalDays",()=>m,"convertPhoneNumber",()=>g,"convertToDate",()=>l,"convertToTime",()=>o,"formatCurrency",()=>i,"formatRupiah",()=>s,"generatePickupMessage",()=>p,"generateWhatsAppMessage",()=>b,"getFormattedDuration",()=>u,"getFormattedRentalPrice",()=>x,"parseCurrency",()=>n,"removeSeconds",()=>d,"sortByDropoffTime",()=>h]);let t={available:"bg-green-100 text-green-800",returned:"bg-green-100 text-green-800",being_rented_out:"bg-yellow-100 text-yellow-800",maintenance:"bg-red-100 text-red-800",extend:"bg-blue-100 text-blue-800",extendNotPayment:"bg-gray-100 text-gray-800"},r={available:"Tersedia",returned:"Selesai Direntalkan",being_rented_out:"Sedang Direntalkan",maintenance:"Dalam Perawatan",extend:"Perpanjang",extendNotPayment:"Perpanjang Tapi Belum Bayar"},a={driver_days:"Driver (Ojol)",days:"Harian",weeks:"Mingguan",months:"Bulanan"},s=e=>{let t="string"==typeof e?parseFloat(e):e;return isNaN(t)?"Rp 0":"Rp ".concat(t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,"."))},i=e=>e?e.toString().replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,"."):"0",n=e=>e?parseInt(e.replace(/\./g,""),10):0,l=e=>{let t=new Date(e),r=t.getDate(),a=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"][t.getMonth()],s=t.getFullYear();return"".concat(r," ").concat(a," ").concat(s)},o=e=>{if(!e)return"-";try{return new Date(e).toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"})}catch(e){return"-"}},d=e=>{let t=e.split(":");return 2===t.length?e:3===t.length?"".concat(t[0],":").concat(t[1]):e};function c(e,t,r){let a=new Date(e);switch(r){case"weeks":a.setDate(a.getDate()+7*t);break;case"months":a.setMonth(a.getMonth()+t);break;default:a.setDate(a.getDate()+t)}return a.toISOString().split("T")[0]}function m(e,t,r){let a=new Date(e);switch(r){case"weeks":a.setDate(a.getDate()+7*t);break;case"months":a.setMonth(a.getMonth()+t);break;default:a.setDate(a.getDate()+t)}let s=new Date;return s.setHours(0,0,0,0),a.setHours(0,0,0,0),Math.ceil((a.getTime()-s.getTime())/864e5)}function u(e,t){let r="string"==typeof e?Number(e):e,a=function(e){switch(e){case"weeks":return"Minggu";case"months":return"Bulan";default:return"Hari"}}(t);return"".concat(r," ").concat(a)}let x=(e,t)=>{let r;switch(e){case"weeks":r=t.weeks;break;case"months":r=t.months;break;case"driver_days":r=Number(t.days)-Number(t.driver_deduction_days);break;case"days":r=t.days;break;default:r=0}return Number(r)},g=e=>e.startsWith("0")?"62"+e.slice(1):e.startsWith("62")?e:null,h=e=>e.sort((e,t)=>{let r=e.dropoff_time?e.dropoff_time:"00:00:00",a=t.dropoff_time?t.dropoff_time:"00:00:00";return r.localeCompare(a)}),b=(e,t)=>{var r,a,s,i,n,l;return"reminder"===t?"Selamat Siang, Bapak/Ibu *".concat(null!=(r=null==e?void 0:e.renter_name)?r:"Nama Customer","*%0A%0ASaya ingin mengingatkan bahwa penyewaan motor *").concat(null!=(a=e.bike_type_name)?a:"Merk Kendaraan","* dengan nomor kendaraan *").concat(null!=(s=null==e?void 0:e.licence_plat_number)?s:"PLAT NOT RECOGNIZED","* Anda akan segera berakhir pada pukul *").concat((null==e?void 0:e.dropoff_time)?d(null==e?void 0:e.dropoff_time):"TBD","*.%0A%0AMohon untuk konfirmasi jika ingin melanjutkan. Jika tidak, kami akan melakukan penjemputan sesuai jam pengantaran.%0A%0ATerima kasih sebelumnya."):"Selamat Siang, Bapak/Ibu *".concat(null!=(i=null==e?void 0:e.renter_name)?i:"Nama Customer","*%0A%0ATerima kasih telah menggunakan layanan penyewaan motor kami. Kami harap Anda puas dengan motor *").concat(null!=(n=e.bike_type_name)?n:"Merk Kendaraan","* dengan nomor kendaraan *").concat(null!=(l=null==e?void 0:e.licence_plat_number)?l:"DD DICOBA BB","* yang telah Anda sewa.%0A%0AJika Anda membutuhkan layanan penyewaan motor lagi di masa mendatang, jangan ragu untuk menghubungi kami. Kami siap melayani dengan armada motor yang terawat dan harga yang kompetitif.%0A%0A*Terima kasih atas kepercayaannya, semoga hari Anda menyenangkan.*")},p=(e,t)=>{let r="List Penjemputan Hari ini tanggal ".concat(e,"%0A%0A%0A");return t.forEach(e=>{r+="".concat(e.renter_name,", "),r+="".concat(e.bike_type_name,", "),r+="".concat(Number(e.rent_duration)," Hari, "),r+="Jumlah Helm: *".concat(Number(e.total_helm)||"-","*, "),r+="Jam Pengantaran: *".concat(d(e.dropoff_time||""),"*, "),r+="Lokasi: *".concat(e.renter_address,"*, "),r+="Nomor Telefon: ".concat(e.phone_number,", "),r+="Tim Penjemput: ,%0A%0A",r+="------------------------------ %0A%0A"}),r}},87316,e=>{"use strict";e.s(["Calendar",()=>t],87316);let t=(0,e.i(75254).default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},73708,e=>{"use strict";e.s(["Image",()=>t],73708);let t=(0,e.i(75254).default)("image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]])},54808,e=>{"use strict";e.s(["BikeTypeService",()=>i]),e.i(36180);var t=e.i(98925),r=e.i(59141);let a="bike_type_list",s="merk_bike";class i{static async getBikeTypes(){try{let e=await (0,t.getDocs)((0,t.collection)(r.db,a)),s=[];return e.forEach(e=>{s.push({id:e.id,...e.data()})}),s}catch(e){throw console.error("Error getting bike types:",e),Error("Failed to fetch bike types")}}static async getBikeType(e){try{let s=(0,t.doc)(r.db,a,e),i=await (0,t.getDoc)(s);if(i.exists())return{id:i.id,...i.data()};return null}catch(e){throw console.error("Error getting bike type:",e),Error("Failed to fetch bike type")}}static async getBikeTypesByMerk(e){try{let s=(0,t.query)((0,t.collection)(r.db,a),(0,t.where)("bike_merk","==",e),(0,t.orderBy)("bike_type","asc")),i=await (0,t.getDocs)(s),n=[];return i.forEach(e=>{n.push({id:e.id,...e.data()})}),n}catch(e){throw console.error("Error getting bike types by merk:",e),Error("Failed to fetch bike types by merk")}}static async createBikeType(e){try{return(await (0,t.addDoc)((0,t.collection)(r.db,a),e)).id}catch(e){throw console.error("Error creating bike type:",e),Error("Failed to create bike type")}}static async updateBikeType(e,s){try{let i=(0,t.doc)(r.db,a,e);await (0,t.updateDoc)(i,s)}catch(e){throw console.error("Error updating bike type:",e),Error("Failed to update bike type")}}static async deleteBikeType(e){try{let s=(0,t.doc)(r.db,a,e);await (0,t.deleteDoc)(s)}catch(e){throw console.error("Error deleting bike type:",e),Error("Failed to delete bike type")}}static async getUniqueMerks(){try{let e=await (0,t.getDocs)((0,t.collection)(r.db,s)),a=[];return e.forEach(e=>{let t=e.data(),r=t.name||t.id||e.id;r&&a.push(r)}),a.sort()}catch(e){throw console.error("Error getting unique merks:",e),Error("Failed to fetch unique merks")}}static async getBikeTypeNames(){try{let e=(await this.getBikeTypes()).map(e=>e.bike_type).filter(e=>!!e);return[...new Set(e)].sort()}catch(e){throw console.error("Error getting bike type names:",e),Error("Failed to fetch bike type names")}}static async getAllData(e){if(e===a)return this.getBikeTypes();if(e===s)return this.getUniqueMerks();throw Error("Unknown collection: ".concat(e))}static async getDataById(e,t){if(t===a)return this.getBikeType(e);throw Error("Unknown collection: ".concat(t))}static async createData(e,t){if(t===a)return this.createBikeType(e);throw Error("Unknown collection: ".concat(t))}static async updateData(e,t,r){if(r===a)return this.updateBikeType(e,t);throw Error("Unknown collection: ".concat(r))}static async deleteData(e,t){if(t===a)return this.deleteBikeType(e);throw Error("Unknown collection: ".concat(t))}}},55900,e=>{"use strict";e.s(["ChevronUp",()=>t],55900);let t=(0,e.i(75254).default)("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]])},55436,e=>{"use strict";e.s(["Search",()=>t],55436);let t=(0,e.i(75254).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},96945,e=>{"use strict";e.s(["default",()=>s]);var t=e.i(43476),r=e.i(71645),a=e.i(55900);let s=function(e){let{threshold:s=300,className:i="",position:n="left"}=e,[l,o]=(0,r.useState)(!1);return((0,r.useEffect)(()=>{let e=()=>{o(window.scrollY>s)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[s]),l)?(0,t.jsxs)("button",{onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})},className:"fixed bottom-6 z-50 bg-gradient-to-r from-amber-500 to-yellow-500 hover:from-amber-600 hover:to-yellow-600 text-white p-3 rounded-full shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-110 group ".concat("left"===n?"left-6":"right-6"," ").concat(i),"aria-label":"Scroll to top",children:[(0,t.jsx)(a.ChevronUp,{className:"w-5 h-5"}),(0,t.jsxs)("div",{className:"absolute left-full ml-3 top-1/2 transform -translate-y-1/2 bg-gray-900 text-white text-sm px-3 py-2 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300 whitespace-nowrap pointer-events-none",children:["Scroll to top",(0,t.jsx)("div",{className:"absolute right-full top-1/2 transform -translate-y-1/2 border-4 border-transparent border-r-gray-900"})]})]}):null}},51199,e=>{"use strict";e.s(["CustomTable",()=>l]);var t=e.i(43476),r=e.i(71645),a=e.i(55900),s=e.i(64659),i=e.i(73375),n=e.i(63059);function l(e){let{data:l,config:o,isLoading:d=!1,className:c=""}=e,{columns:m,actions:u=[],showRowNumbers:x=!1,responsive:g=!0,loading:h=!1,emptyState:b,mobileActionsPosition:p="bottom",pagination:y={enabled:!1,pageSize:10,pageSizeOptions:[5,10,25,50],showPageSizeSelector:!0}}=o,[f,v]=(0,r.useState)({key:null,direction:"asc"}),[k,j]=(0,r.useState)(1),[N,w]=(0,r.useState)(y.pageSize||10),[D,C]=(0,r.useState)(1),[T]=(0,r.useState)(10),[M,S]=(0,r.useState)(!1),_=(0,r.useMemo)(()=>f.key?[...l].sort((e,t)=>{let r=m.find(e=>e.key===f.key),a=(null==r?void 0:r.sortKey)||f.key,s=e[a],i=t[a];return("string"==typeof s&&"string"==typeof i&&(s=s.toLowerCase(),i=i.toLowerCase()),s<i)?"asc"===f.direction?-1:1:s>i?"asc"===f.direction?1:-1:0}):l,[l,f,m]),B=(0,r.useMemo)(()=>{if(!y.enabled)return _;let e=(k-1)*N,t=e+N;return _.slice(e,t)},[_,k,N,y.enabled]),A=_.length,E=Math.ceil(A/N),P=(k-1)*N+1,R=Math.min(k*N,A),U=e=>{j(e)},L=(0,r.useMemo)(()=>_.slice(0,D*T),[_,D,T]),H=L.length<_.length,O=(0,r.useCallback)(()=>{!M&&H&&(S(!0),setTimeout(()=>{C(e=>e+1),S(!1)},1500))},[M,H]);if((0,r.useEffect)(()=>{let e=()=>{if(!H||M)return;let e=window.pageYOffset||document.documentElement.scrollTop,t=window.innerHeight;e+t>=document.documentElement.scrollHeight-200&&O()};return window.addEventListener("scroll",e,{passive:!0}),()=>{window.removeEventListener("scroll",e)}},[H,M,O]),h||d)return(0,t.jsx)("div",{className:"bg-white rounded-lg shadow-sm ".concat(c),children:(0,t.jsx)("div",{className:"p-6",children:(0,t.jsxs)("div",{className:"animate-pulse",children:[(0,t.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-4"}),(0,t.jsx)("div",{className:"space-y-3",children:[void 0,void 0,void 0,void 0,void 0].map((e,r)=>(0,t.jsx)("div",{className:"h-4 bg-gray-200 rounded"},r))})]})})});if(!l||0===l.length){let e=null==b?void 0:b.icon;return(0,t.jsx)("div",{className:"bg-white rounded-lg shadow-sm ".concat(c),children:(0,t.jsxs)("div",{className:"p-12 text-center",children:[e&&(0,t.jsx)(e,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:(null==b?void 0:b.title)||"Tidak ada data"}),(0,t.jsx)("p",{className:"text-gray-500",children:(null==b?void 0:b.description)||"Belum ada data yang tersedia."})]})})}let F=()=>(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,t.jsx)("thead",{className:"bg-gray-50",children:(0,t.jsxs)("tr",{children:[x&&(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"No"}),m.map((e,r)=>(0,t.jsx)("th",{className:"px-6 py-3 text-".concat(e.align||"left"," text-xs font-medium text-gray-500 uppercase tracking-wider ").concat(e.width?"w-".concat(e.width):""," ").concat(!1!==e.sortable?"cursor-pointer hover:bg-gray-100 select-none":""),onClick:()=>{var t;return!1!==e.sortable&&(t=e.key,void v(e=>({key:t,direction:e.key===t&&"asc"===e.direction?"desc":"asc"})))},children:(0,t.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,t.jsx)("span",{children:e.label}),!1!==e.sortable&&(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)(a.ChevronUp,{className:"h-3 w-3 ".concat(f.key===e.key&&"asc"===f.direction?"text-gray-900":"text-gray-400")}),(0,t.jsx)(s.ChevronDown,{className:"h-3 w-3 -mt-1 ".concat(f.key===e.key&&"desc"===f.direction?"text-gray-900":"text-gray-400")})]})]})},r)),u.length>0&&(0,t.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aksi"})]})}),(0,t.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:B.map((e,r)=>(0,t.jsxs)("tr",{className:"hover:bg-gray-50",children:[x&&(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:y.enabled?P+r:r+1}),m.map((a,s)=>{let i="index"===a.key?r+1:e[a.key];return(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-".concat(a.align||"left"),children:a.render?a.render(i,e,r):String(i||"-")},s)}),u.length>0&&(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,t.jsx)("div",{className:"flex items-center justify-end space-x-2",children:u.map((r,a)=>{if(r.condition&&!r.condition(e))return null;let s=r.icon;return(0,t.jsxs)("button",{onClick:()=>r.onClick(e),title:r.title||r.label,className:"inline-flex items-center px-3 py-1 border border-transparent text-sm font-medium rounded-md transition-colors duration-200 ".concat({primary:"text-blue-600 hover:text-blue-900",secondary:"text-gray-600 hover:text-gray-900",success:"text-green-600 hover:text-green-900",danger:"text-red-600 hover:text-red-900",warning:"text-yellow-600 hover:text-yellow-900",info:"text-blue-600 hover:text-blue-900"}[r.variant]," ").concat(r.className||""),children:[(0,t.jsx)(s,{className:"h-4 w-4 mr-1"}),(0,t.jsx)("span",{className:"hidden sm:inline",children:r.label})]},a)})})})]},r))})]})}),q=()=>{var e;return!y.enabled||E<=1?null:(0,t.jsxs)("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6",children:[(0,t.jsxs)("div",{className:"flex-1 flex justify-between sm:hidden",children:[(0,t.jsx)("button",{onClick:()=>U(k-1),disabled:1===k,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),(0,t.jsx)("button",{onClick:()=>U(k+1),disabled:k===E,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),(0,t.jsxs)("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[(0,t.jsx)("div",{children:(0,t.jsxs)("p",{className:"text-sm text-gray-700",children:["Showing ",(0,t.jsx)("span",{className:"font-medium",children:P})," to"," ",(0,t.jsx)("span",{className:"font-medium",children:R})," of"," ",(0,t.jsx)("span",{className:"font-medium",children:A})," results"]})}),(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[y.showPageSizeSelector&&(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("span",{className:"text-sm text-gray-700",children:"Show:"}),(0,t.jsx)("select",{value:N,onChange:e=>{w(Number(e.target.value)),j(1)},className:"border border-gray-300 rounded-md px-2 py-1 text-sm",children:null==(e=y.pageSizeOptions)?void 0:e.map(e=>(0,t.jsx)("option",{value:e,children:e},e))})]}),(0,t.jsxs)("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[(0,t.jsx)("button",{onClick:()=>U(k-1),disabled:1===k,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:(0,t.jsx)(i.ChevronLeft,{className:"h-5 w-5"})}),(()=>{let e=[];if(E<=5)for(let t=1;t<=E;t++)e.push(t);else{let t=Math.max(1,k-2),r=Math.min(E,t+5-1);t>1&&(e.push(1),t>2&&e.push("..."));for(let a=t;a<=r;a++)e.push(a);r<E&&(r<E-1&&e.push("..."),e.push(E))}return e})().map((e,r)=>(0,t.jsx)("button",{onClick:()=>"number"==typeof e&&U(e),disabled:"number"!=typeof e,className:"relative inline-flex items-center px-4 py-2 border text-sm font-medium ".concat(e===k?"z-10 bg-blue-50 border-blue-500 text-blue-600":"..."===e?"bg-white border-gray-300 text-gray-700 cursor-default":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"),children:e},r)),(0,t.jsx)("button",{onClick:()=>U(k+1),disabled:k===E,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:(0,t.jsx)(n.ChevronRight,{className:"h-5 w-5"})})]})]})]})]})};return(0,t.jsx)("div",{className:"bg-white rounded-lg shadow-sm ".concat(c),children:g?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"hidden md:block",children:[(0,t.jsx)(F,{}),y.enabled&&(0,t.jsx)(q,{})]}),(0,t.jsx)("div",{className:"md:hidden",children:(0,t.jsx)(()=>(0,t.jsxs)("div",{className:"space-y-4",children:[L.map((e,r)=>{let a=u.length>0&&u.some(t=>!t.condition||t.condition(e)),s=m.find(e=>"actions"===e.key),i=s&&s.mobileRender;return(0,t.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm relative",children:["top-right"===p&&(a||i)&&(0,t.jsx)("div",{className:"absolute top-3 right-3 z-10",children:i?(null==s?void 0:s.mobileRender)&&s.mobileRender(e[s.key],e,r):(0,t.jsx)("div",{className:"flex flex-wrap gap-1",children:u.map((r,a)=>{if(r.condition&&!r.condition(e))return null;let s=r.icon;return(0,t.jsx)("button",{onClick:()=>r.onClick(e),title:r.title||r.label,className:"inline-flex items-center p-2 border text-sm font-medium rounded-md transition-colors duration-200 ".concat({primary:"bg-blue-50 text-blue-700 border-blue-200 hover:bg-blue-100",secondary:"bg-gray-50 text-gray-700 border-gray-200 hover:bg-gray-100",success:"bg-green-50 text-green-700 border-green-200 hover:bg-green-100",danger:"bg-red-50 text-red-700 border-red-200 hover:bg-red-100",warning:"bg-yellow-50 text-yellow-700 border-yellow-200 hover:bg-yellow-100",info:"bg-blue-50 text-blue-700 border-blue-200 hover:bg-blue-100"}[r.variant]," ").concat(r.className||""),children:(0,t.jsx)(s,{className:"h-4 w-4"})},a)})})}),(0,t.jsxs)("div",{className:"space-y-3 ".concat("top-right"===p&&(a||i)?"pr-16":""),children:[m.map((a,s)=>{if(a.hideOnMobile||"actions"===a.key)return null;let i="index"===a.key?r+1:e[a.key];return(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("div",{className:"text-xs font-medium text-gray-500 mb-1",children:a.label}),(0,t.jsx)("div",{className:"text-sm text-gray-900",children:a.mobileRender?a.mobileRender(i,e,r):a.render?a.render(i,e,r):String(i||"-")})]},s)}),"bottom"===p&&(a||i)&&(0,t.jsx)("div",{className:"pt-3 border-t border-gray-200",children:i?(null==s?void 0:s.mobileRender)&&s.mobileRender(e[s.key],e,r):(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:u.map((r,a)=>{if(r.condition&&!r.condition(e))return null;let s=r.icon;return(0,t.jsxs)("button",{onClick:()=>r.onClick(e),title:r.title||r.label,className:"inline-flex items-center px-3 py-2 border text-sm font-medium rounded-md transition-colors duration-200 ".concat({primary:"bg-blue-50 text-blue-700 border-blue-200",secondary:"bg-gray-50 text-gray-700 border-gray-200",success:"bg-green-50 text-green-700 border-green-200",danger:"bg-red-50 text-red-700 border-red-200",warning:"bg-yellow-50 text-yellow-700 border-yellow-200",info:"bg-blue-50 text-blue-700 border-blue-200"}[r.variant]," ").concat(r.className||""),children:[(0,t.jsx)(s,{className:"h-4 w-4 mr-2"}),r.label]},a)})})})]})]},r)}),H&&(0,t.jsx)("div",{className:"flex justify-center py-6",children:(0,t.jsxs)("div",{className:"flex flex-col items-center space-y-3",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"w-12 h-12 border-4 border-amber-200 rounded-full animate-spin border-t-amber-500"}),(0,t.jsx)("div",{className:"absolute inset-0 w-12 h-12 border-4 border-transparent rounded-full animate-ping border-t-amber-400 opacity-75"})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("p",{className:"text-sm font-medium bg-gradient-to-r from-amber-500 to-yellow-500 bg-clip-text text-transparent",children:"Loading more content..."}),(0,t.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[_.length-L.length," items remaining"]})]}),(0,t.jsx)("div",{className:"w-32 h-1 bg-gray-200 rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:"h-full bg-gradient-to-r from-blue-500 to-purple-500 rounded-full animate-pulse"})})]})}),!H&&L.length>0&&(0,t.jsx)("div",{className:"flex justify-center py-8",children:(0,t.jsxs)("div",{className:"flex flex-col items-center space-y-3",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:(0,t.jsx)("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,t.jsx)("div",{className:"absolute inset-0 w-12 h-12 bg-green-200 rounded-full animate-ping opacity-20"})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"🎉 Selamat! Anda telah memuat semua data"}),(0,t.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Semua ",L.length," item telah ditampilkan"]})]}),(0,t.jsx)("div",{className:"w-24 h-0.5 bg-gradient-to-r from-green-400 to-blue-400 rounded-full"})]})})]}),{})})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(F,{}),y.enabled&&(0,t.jsx)(q,{})]})})}},63209,e=>{"use strict";e.s(["AlertCircle",()=>t],63209);let t=(0,e.i(75254).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},69638,e=>{"use strict";e.s(["CheckCircle",()=>t],69638);let t=(0,e.i(75254).default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},43782,e=>{"use strict";e.s(["AlertModal",()=>i]);var t=e.i(43476),r=e.i(37727),a=e.i(69638),s=e.i(63209);function i(e){let{isOpen:i,onClose:n,title:l,message:o,type:d,buttonText:c="Tutup"}=e;if(!i)return null;let m="success"===d,u=m?a.CheckCircle:s.AlertCircle;return(0,t.jsxs)("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4",onClick:e=>{e.target===e.currentTarget&&n()},children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-black/20 backdrop-blur-sm"}),(0,t.jsxs)("div",{className:"relative bg-white rounded-xl shadow-2xl max-w-md w-full mx-4 transform transition-all duration-300 ease-out",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 ".concat(m?"bg-green-100":"bg-red-100"," rounded-full flex items-center justify-center"),children:(0,t.jsx)(u,{className:"h-5 w-5 ".concat(m?"text-green-600":"text-red-600")})}),(0,t.jsx)("div",{children:(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:l})})]}),(0,t.jsx)("button",{onClick:n,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors","aria-label":"Tutup modal",children:(0,t.jsx)(r.X,{className:"h-5 w-5 text-gray-400"})})]}),(0,t.jsx)("div",{className:"p-6",children:(0,t.jsx)("div",{className:"text-center",children:(0,t.jsx)("p",{className:"text-gray-700 mb-4",children:o})})}),(0,t.jsx)("div",{className:"flex justify-end p-6 pt-0 border-t border-gray-200",children:(0,t.jsx)("button",{onClick:n,className:"px-6 py-2 ".concat(m?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700"," text-white font-medium rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 ").concat(m?"focus:ring-green-500":"focus:ring-red-500"),children:c})})]})]})}},7233,88511,e=>{"use strict";e.s(["Plus",()=>r],7233);var t=e.i(75254);let r=(0,t.default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Edit",()=>a],88511);let a=(0,t.default)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},91318,e=>{"use strict";e.s(["FormModal",()=>a]);var t=e.i(43476),r=e.i(37727);function a(e){let{isOpen:a,onClose:s,title:i,children:n,childrenFooter:l,maxWidth:o="max-w-2xl"}=e;return a?(0,t.jsxs)("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4",onClick:e=>{e.target===e.currentTarget&&s()},children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-black/20 backdrop-blur-sm"}),(0,t.jsxs)("div",{className:"relative bg-white rounded-xl shadow-2xl ".concat(o," w-full mx-4 transform transition-all duration-300 ease-out max-h-[90vh] flex flex-col"),children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 flex-shrink-0",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:i}),(0,t.jsx)("button",{onClick:s,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors","aria-label":"Tutup modal",children:(0,t.jsx)(r.X,{className:"h-5 w-5 text-gray-400"})})]}),(0,t.jsx)("div",{className:"p-6 overflow-y-auto flex-1",children:n}),l&&(0,t.jsx)("div",{className:"flex flex-col sm:flex-row gap-3 p-6 pt-0 border-t border-gray-200 flex-shrink-0",children:l})]})]}):null}},19566,e=>{"use strict";e.s(["ConfirmationModal",()=>s]);var t=e.i(43476),r=e.i(78894),a=e.i(37727);function s(e){let{isOpen:s,onClose:i,onConfirm:n,title:l,message:o,confirmText:d="Ya, Hapus",cancelText:c="Batal",type:m="danger",isLoading:u=!1}=e;if(!s)return null;let x=(()=>{switch(m){case"danger":default:return{icon:"text-red-600",iconBg:"bg-red-100",button:"bg-red-600 hover:bg-red-700 text-white"};case"warning":return{icon:"text-yellow-600",iconBg:"bg-yellow-100",button:"bg-yellow-600 hover:bg-yellow-700 text-white"};case"info":return{icon:"text-blue-600",iconBg:"bg-blue-100",button:"bg-blue-600 hover:bg-blue-700 text-white"}}})();return(0,t.jsxs)("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4",onClick:e=>{e.target===e.currentTarget&&i()},children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-black/20 backdrop-blur-sm"}),(0,t.jsxs)("div",{className:"relative bg-white rounded-xl shadow-2xl max-w-md w-full mx-4 transform transition-all duration-300 ease-out",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 ".concat(x.iconBg," rounded-full flex items-center justify-center"),children:(0,t.jsx)(r.AlertTriangle,{className:"h-5 w-5 ".concat(x.icon)})}),(0,t.jsx)("div",{children:(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:l})})]}),(0,t.jsx)("button",{onClick:i,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors","aria-label":"Tutup modal",disabled:u,children:(0,t.jsx)(a.X,{className:"h-5 w-5 text-gray-400"})})]}),(0,t.jsx)("div",{className:"p-6",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("p",{className:"text-gray-700 mb-4",children:o}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Tindakan ini tidak dapat dibatalkan."})]})}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 p-6 pt-0",children:[(0,t.jsx)("button",{onClick:i,className:"flex-1 px-4 py-2.5 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg font-medium transition-colors",disabled:u,children:c}),(0,t.jsx)("button",{onClick:n,className:"flex-1 px-4 py-2.5 rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed ".concat(x.button),disabled:u,children:u?"Memproses...":d})]})]})]})}},37536,e=>{"use strict";e.s(["default",()=>_],37536);var t=e.i(43476),r=e.i(71645),a=e.i(7233),s=e.i(55436),i=e.i(51975),n=e.i(52962),l=e.i(54808),o=e.i(13893),d=e.i(91318),c=e.i(19566),m=e.i(43782),u=e.i(88511),x=e.i(27612),g=e.i(12426),h=e.i(87316),b=e.i(3116),p=e.i(12482),y=e.i(51199);function f(e){let{data:r,onEdit:a,onDelete:s,isLoading:n=!1}=e,l={columns:[{key:"bike_merk",label:"Merek Motor",render:(e,r)=>(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"h-8 w-8 bg-blue-100 rounded-full flex items-center justify-center mr-3",children:(0,t.jsx)(i.Tag,{className:"h-4 w-4 text-blue-600"})}),(0,t.jsx)("span",{className:"text-sm font-medium text-gray-900",children:r.bike_merk?r.bike_merk.charAt(0).toUpperCase()+r.bike_merk.slice(1):"-"})]}),mobileRender:(e,r)=>(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:r.bike_type||"-"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:r.bike_merk?r.bike_merk.charAt(0).toUpperCase()+r.bike_merk.slice(1):"-"})]})},{key:"bike_type",label:"Tipe Motor",render:e=>e||"-"},{key:"days",label:"Biaya Harian",render:e=>(0,t.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800",children:(0,p.formatRupiah)(Number(e))}),mobileRender:(e,r)=>(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-gray-700",children:"Harga Sewa:"}),(0,t.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,t.jsxs)("div",{className:"text-center p-2 bg-blue-50 rounded-lg",children:[(0,t.jsx)("div",{className:"text-xs text-blue-600 font-medium",children:"Harian"}),(0,t.jsx)("div",{className:"text-sm font-semibold text-blue-800",children:(0,p.formatRupiah)(Number(r.days))})]}),(0,t.jsxs)("div",{className:"text-center p-2 bg-green-50 rounded-lg",children:[(0,t.jsx)("div",{className:"text-xs text-green-600 font-medium",children:"Mingguan"}),(0,t.jsx)("div",{className:"text-sm font-semibold text-green-800",children:(0,p.formatRupiah)(Number(r.weeks))})]}),(0,t.jsxs)("div",{className:"text-center p-2 bg-yellow-50 rounded-lg",children:[(0,t.jsx)("div",{className:"text-xs text-yellow-600 font-medium",children:"Bulanan"}),(0,t.jsx)("div",{className:"text-sm font-semibold text-yellow-800",children:(0,p.formatRupiah)(Number(r.months))})]})]})]})},{key:"weeks",label:"Biaya Mingguan",render:e=>(0,t.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800",children:(0,p.formatRupiah)(Number(e))}),hideOnMobile:!0},{key:"months",label:"Biaya Bulanan",render:e=>(0,t.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-yellow-100 text-yellow-800",children:(0,p.formatRupiah)(Number(e))}),hideOnMobile:!0},{key:"driver_deduction",label:"Potongan Driver",render:(e,r)=>(0,t.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(g.DollarSign,{className:"h-4 w-4 mr-1"}),(0,t.jsxs)("span",{children:["Harian: ",(0,p.formatRupiah)(Number(r.driver_deduction_days))]})]}),(0,t.jsxs)("div",{className:"flex items-center mt-1",children:[(0,t.jsx)(h.Calendar,{className:"h-4 w-4 mr-1"}),(0,t.jsxs)("span",{children:["Mingguan: ",(0,p.formatRupiah)(Number(r.driver_deduction_weeks))]})]}),(0,t.jsxs)("div",{className:"flex items-center mt-1",children:[(0,t.jsx)(b.Clock,{className:"h-4 w-4 mr-1"}),(0,t.jsxs)("span",{children:["Bulanan: ",(0,p.formatRupiah)(Number(r.driver_deduction_months))]})]})]}),mobileRender:(e,r)=>(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-gray-700",children:"Potongan Driver:"}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Harian:"}),(0,t.jsx)("span",{className:"font-medium",children:(0,p.formatRupiah)(Number(r.driver_deduction_days))})]}),(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Mingguan:"}),(0,t.jsx)("span",{className:"font-medium",children:(0,p.formatRupiah)(Number(r.driver_deduction_weeks))})]}),(0,t.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Bulanan:"}),(0,t.jsx)("span",{className:"font-medium",children:(0,p.formatRupiah)(Number(r.driver_deduction_months))})]})]})]})}],actions:[{key:"edit",label:"Edit",icon:u.Edit,variant:"primary",onClick:a,title:"Edit bike type"},{key:"delete",label:"Delete",icon:x.Trash2,variant:"danger",onClick:s,title:"Delete bike type"}],showRowNumbers:!0,responsive:!0,loading:n,emptyState:{icon:i.Tag,title:"Tidak ada data ditemukan",description:"Coba sesuaikan kriteria pencarian atau filter Anda."}};return(0,t.jsx)(y.CustomTable,{data:r,config:l,isLoading:n})}var v=e.i(96945),k=e.i(53145),j=e.i(80202),N=e.i(99683);let w=N.object({bikeType:N.string().required("Tipe motor wajib diisi").min(2,"Tipe motor minimal 2 karakter").max(100,"Tipe motor maksimal 100 karakter"),bikeMerk:N.string().required("Merek motor wajib dipilih"),days:N.number().required("Biaya harian wajib diisi").min(0,"Biaya harian tidak boleh negatif").max(1e7,"Biaya harian maksimal 10 juta"),weeks:N.number().required("Biaya mingguan wajib diisi").min(0,"Biaya mingguan tidak boleh negatif").max(1e7,"Biaya mingguan maksimal 10 juta"),months:N.number().required("Biaya bulanan wajib diisi").min(0,"Biaya bulanan tidak boleh negatif").max(1e7,"Biaya bulanan maksimal 10 juta"),driverDeductionDays:N.number().required("Potongan driver harian wajib diisi").min(0,"Potongan tidak boleh negatif").max(1e5,"Potongan maksimal 100 ribu"),driverDeductionWeeks:N.number().required("Potongan driver mingguan wajib diisi").min(0,"Potongan tidak boleh negatif").max(1e5,"Potongan maksimal 100 ribu"),driverDeductionMonths:N.number().required("Potongan driver bulanan wajib diisi").min(0,"Potongan tidak boleh negatif").max(1e5,"Potongan maksimal 100 ribu"),imageUrl:N.string().url("URL gambar harus valid").optional().default("")});var D=e.i(40921),C=e.i(73708),T=e.i(64659);let M=e=>{let{onSubmit:a,onCancel:s,initialData:n,availableMerks:l,isEditing:o=!1,isLoading:d=!1}=e,[c,m]=(0,r.useState)((null==n?void 0:n.imageUrl)||null),[u,x]=(0,r.useState)(null),{control:h,handleSubmit:b,formState:{errors:y,isSubmitting:f},watch:v,reset:N}=(0,k.useForm)({resolver:(0,j.yupResolver)(w),defaultValues:{bikeType:(null==n?void 0:n.bikeType)||"",bikeMerk:(null==n?void 0:n.bikeMerk)||"",days:(null==n?void 0:n.days)||0,weeks:(null==n?void 0:n.weeks)||0,months:(null==n?void 0:n.months)||0,driverDeductionDays:(null==n?void 0:n.driverDeductionDays)||5e3,driverDeductionWeeks:(null==n?void 0:n.driverDeductionWeeks)||5e3,driverDeductionMonths:(null==n?void 0:n.driverDeductionMonths)||5e3,imageUrl:(null==n?void 0:n.imageUrl)||""}});console.log("initialData",n),console.log("isEditing",o),console.log("form defaultValues:",{bikeType:(null==n?void 0:n.bikeType)||"",bikeMerk:(null==n?void 0:n.bikeMerk)||"",days:(null==n?void 0:n.days)||0,weeks:(null==n?void 0:n.weeks)||0,months:(null==n?void 0:n.months)||0,driverDeductionDays:(null==n?void 0:n.driverDeductionDays)||5e3,driverDeductionWeeks:(null==n?void 0:n.driverDeductionWeeks)||5e3,driverDeductionMonths:(null==n?void 0:n.driverDeductionMonths)||5e3,imageUrl:(null==n?void 0:n.imageUrl)||""});let M=v("imageUrl");r.default.useEffect(()=>{N({bikeType:(null==n?void 0:n.bikeType)||"",bikeMerk:(null==n?void 0:n.bikeMerk)||"",days:(null==n?void 0:n.days)||0,weeks:(null==n?void 0:n.weeks)||0,months:(null==n?void 0:n.months)||0,driverDeductionDays:(null==n?void 0:n.driverDeductionDays)||5e3,driverDeductionWeeks:(null==n?void 0:n.driverDeductionWeeks)||5e3,driverDeductionMonths:(null==n?void 0:n.driverDeductionMonths)||5e3,imageUrl:(null==n?void 0:n.imageUrl)||""}),m((null==n?void 0:n.imageUrl)||null),x(null)},[n,N]),r.default.useEffect(()=>{M&&""!==M.trim()?(x(null),m(M)):m(null)},[M]);let S=l.map(e=>({value:e,label:e.charAt(0).toUpperCase()+e.slice(1)}));return(0,t.jsxs)("form",{onSubmit:b(a),className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsx)(k.Controller,{name:"bikeMerk",control:h,render:e=>{let{field:r}=e;return(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(D.Bike,{className:"h-4 w-4 mr-2 text-blue-600"}),"Merek Motor *"]})}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("select",{...r,className:"w-full appearance-none bg-white border rounded-lg px-4 py-3 pr-8 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors hover:border-gray-400 ".concat(y.bikeMerk?"border-red-300 bg-red-50":"border-gray-300"),children:[(0,t.jsx)("option",{value:"",children:"Pilih merek motor"}),S.map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},e.value))]}),(0,t.jsx)(T.ChevronDown,{className:"absolute right-2 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 pointer-events-none"})]}),y.bikeMerk&&(0,t.jsx)("p",{className:"mt-1 text-sm text-red-600",children:y.bikeMerk.message})]})}}),(0,t.jsx)(k.Controller,{name:"bikeType",control:h,render:e=>{let{field:r}=e;return(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(i.Tag,{className:"h-4 w-4 mr-2 text-blue-600"}),"Tipe Kendaraan *"]})}),(0,t.jsx)("input",{...r,type:"text",className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors hover:border-gray-400 ".concat(y.bikeType?"border-red-300 bg-red-50":"border-gray-300"),placeholder:"Contoh: Honda Beat"}),y.bikeType&&(0,t.jsx)("p",{className:"mt-1 text-sm text-red-600",children:y.bikeType.message})]})}})]}),(0,t.jsx)(k.Controller,{name:"imageUrl",control:h,render:e=>{let{field:r}=e;return(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(C.Image,{className:"h-4 w-4 mr-2 text-blue-600"}),"URL Gambar Motor"]})}),(0,t.jsx)("input",{...r,type:"url",className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors hover:border-gray-400 ".concat(y.imageUrl?"border-red-300 bg-red-50":"border-gray-300"),placeholder:"https://example.com/motor-image.jpg"}),y.imageUrl&&(0,t.jsx)("p",{className:"mt-1 text-sm text-red-600",children:y.imageUrl.message}),c&&(0,t.jsxs)("div",{className:"mt-4",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Preview Gambar"}),(0,t.jsxs)("div",{className:"relative w-full max-w-xs",children:[(0,t.jsx)("img",{src:c,alt:"Preview gambar motor",className:"w-full h-32 object-cover rounded-lg border border-gray-300",onError:()=>x("Gagal memuat gambar"),onLoad:()=>x(null)}),u&&(0,t.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-red-50 rounded-lg",children:(0,t.jsx)("span",{className:"text-red-600 text-sm font-medium",children:u})})]})]})]})}}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(g.DollarSign,{className:"h-5 w-5 mr-2 text-green-600"}),(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Harga Sewa"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsx)(k.Controller,{name:"days",control:h,render:e=>{let{field:r}=e;return(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(g.DollarSign,{className:"h-4 w-4 mr-2 text-green-600"}),"Biaya Harian *"]})}),(0,t.jsx)("input",{...r,type:"text",className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors hover:border-gray-400 ".concat(y.days?"border-red-300 bg-red-50":"border-gray-300"),placeholder:"Contoh: 100.000",value:(0,p.formatCurrency)(r.value),onChange:e=>{let t=(0,p.parseCurrency)(e.target.value);r.onChange(t)}}),y.days&&(0,t.jsx)("p",{className:"mt-1 text-sm text-red-600",children:y.days.message})]})}}),(0,t.jsx)(k.Controller,{name:"weeks",control:h,render:e=>{let{field:r}=e;return(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(g.DollarSign,{className:"h-4 w-4 mr-2 text-green-600"}),"Biaya Mingguan *"]})}),(0,t.jsx)("input",{...r,type:"text",className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors hover:border-gray-400 ".concat(y.weeks?"border-red-300 bg-red-50":"border-gray-300"),placeholder:"Contoh: 100.000",value:(0,p.formatCurrency)(r.value),onChange:e=>{let t=(0,p.parseCurrency)(e.target.value);r.onChange(t)}}),y.weeks&&(0,t.jsx)("p",{className:"mt-1 text-sm text-red-600",children:y.weeks.message})]})}}),(0,t.jsx)(k.Controller,{name:"months",control:h,render:e=>{let{field:r}=e;return(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(g.DollarSign,{className:"h-4 w-4 mr-2 text-green-600"}),"Biaya Bulanan *"]})}),(0,t.jsx)("input",{...r,type:"text",className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors hover:border-gray-400 ".concat(y.months?"border-red-300 bg-red-50":"border-gray-300"),placeholder:"Contoh: 100.000",value:(0,p.formatCurrency)(r.value),onChange:e=>{let t=(0,p.parseCurrency)(e.target.value);r.onChange(t)}}),y.months&&(0,t.jsx)("p",{className:"mt-1 text-sm text-red-600",children:y.months.message})]})}})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(g.DollarSign,{className:"h-5 w-5 mr-2 text-orange-600"}),(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Potongan untuk Driver Ojek"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsx)(k.Controller,{name:"driverDeductionDays",control:h,render:e=>{let{field:r}=e;return(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(g.DollarSign,{className:"h-4 w-4 mr-2 text-orange-600"}),"Potongan Harian *"]})}),(0,t.jsx)("input",{...r,type:"text",className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors hover:border-gray-400 ".concat(y.driverDeductionDays?"border-red-300 bg-red-50":"border-gray-300"),placeholder:"Contoh: 5.000",value:(0,p.formatCurrency)(r.value),onChange:e=>{let t=(0,p.parseCurrency)(e.target.value);r.onChange(t)}}),y.driverDeductionDays&&(0,t.jsx)("p",{className:"mt-1 text-sm text-red-600",children:y.driverDeductionDays.message})]})}}),(0,t.jsx)(k.Controller,{name:"driverDeductionWeeks",control:h,render:e=>{let{field:r}=e;return(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(g.DollarSign,{className:"h-4 w-4 mr-2 text-orange-600"}),"Potongan Mingguan *"]})}),(0,t.jsx)("input",{...r,type:"text",className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors hover:border-gray-400 ".concat(y.driverDeductionWeeks?"border-red-300 bg-red-50":"border-gray-300"),placeholder:"Contoh: 5.000",value:(0,p.formatCurrency)(r.value),onChange:e=>{let t=(0,p.parseCurrency)(e.target.value);r.onChange(t)}}),y.driverDeductionWeeks&&(0,t.jsx)("p",{className:"mt-1 text-sm text-red-600",children:y.driverDeductionWeeks.message})]})}}),(0,t.jsx)(k.Controller,{name:"driverDeductionMonths",control:h,render:e=>{let{field:r}=e;return(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(g.DollarSign,{className:"h-4 w-4 mr-2 text-orange-600"}),"Potongan Bulanan *"]})}),(0,t.jsx)("input",{...r,type:"text",className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors hover:border-gray-400 ".concat(y.driverDeductionMonths?"border-red-300 bg-red-50":"border-gray-300"),placeholder:"Contoh: 5.000",value:(0,p.formatCurrency)(r.value),onChange:e=>{let t=(0,p.parseCurrency)(e.target.value);r.onChange(t)}}),y.driverDeductionMonths&&(0,t.jsx)("p",{className:"mt-1 text-sm text-red-600",children:y.driverDeductionMonths.message})]})}})]})]}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 pt-4",children:[(0,t.jsx)("button",{type:"button",onClick:s,className:"flex-1 px-4 py-2.5 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg font-medium transition-colors",disabled:f||d,children:"Batal"}),(0,t.jsx)("button",{type:"submit",className:"flex-1 px-4 py-2.5 text-white bg-green-600 hover:bg-green-700 rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:f||d,children:f||d?"Menyimpan...":o?"Simpan Perubahan":"Simpan"})]})]})};var S=e.i(86993);function _(){let{userRole:e,loading:u}=(0,n.useAuth)(),[x,g]=(0,r.useState)([]),[h,b]=(0,r.useState)([]),[p,y]=(0,r.useState)(!0),[k,j]=(0,r.useState)(null),[N,w]=(0,r.useState)(""),[D,C]=(0,r.useState)(!1),[T,_]=(0,r.useState)(!1),[B,A]=(0,r.useState)(null),[E,P]=(0,r.useState)(!1),[R,U]=(0,r.useState)(!1),[L,H]=(0,r.useState)({title:"",message:"",type:"success"}),[O,F]=(0,r.useState)([]),q=null!=e&&!!e.role&&(0,o.canAccessFeature)(e.role,[1,3]),z=(0,r.useCallback)(async()=>{try{y(!0),j(null);let e=await l.BikeTypeService.getBikeTypes();if(g(e),0===O.length){let e=await l.BikeTypeService.getUniqueMerks();F(e)}}catch(e){j("Failed to load bike types. Please try again."),console.error("Error loading bike types:",e)}finally{y(!1)}},[O.length]),W=(0,r.useCallback)(()=>{let e=[...x];if(N){let t=N.toLowerCase();e=e.filter(e=>{var r,a;return(null==(r=e.bike_type)?void 0:r.toLowerCase().includes(t))||(null==(a=e.bike_merk)?void 0:a.toLowerCase().includes(t))})}b(e)},[x,N]),I=(e,t,r)=>{H({title:e,message:t,type:r}),U(!0)};if((0,r.useEffect)(()=>{q&&z()},[q,z]),(0,r.useEffect)(()=>{W()},[x,N,W]),u)return(0,t.jsx)(S.default,{message:"Memuat Data Tipe Motor...",size:"xl",fullscreen:!0,showProgress:!1});let K=async e=>{try{y(!0);let t={bike_type:e.bikeType,bike_merk:e.bikeMerk,days:String(e.days),weeks:String(e.weeks),months:String(e.months),driver_deduction_days:String(e.driverDeductionDays),driver_deduction_weeks:String(e.driverDeductionWeeks),driver_deduction_months:String(e.driverDeductionMonths),image_url:e.imageUrl||""};E&&(null==B?void 0:B.id)?(await l.BikeTypeService.updateBikeType(B.id,t),I("Berhasil","Data tipe kendaraan berhasil diubah","success")):(await l.BikeTypeService.createBikeType(t),I("Berhasil","Data tipe kendaraan berhasil ditambahkan","success")),await z(),C(!1),A(null),P(!1)}catch(e){console.error("Error saving bike type:",e),I("Error","Terjadi masalah saat menyimpan data, silahkan hubungi admin","error")}finally{y(!1)}},J=async()=>{if(null==B?void 0:B.id)try{y(!0),await l.BikeTypeService.deleteBikeType(B.id),I("Berhasil","Data tipe kendaraan berhasil dihapus","success"),await z(),_(!1),A(null)}catch(e){console.error("Error deleting bike type:",e),I("Error","Gagal menghapus data, silahkan hubungi admin","error")}finally{y(!1)}},G=()=>{C(!1),A(null),P(!1)};return q?(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Manajemen Tipe Motor"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Kelola tipe motor dan kategori"})]}),(0,t.jsx)("div",{className:"mt-4 sm:mt-0 flex space-x-3",children:(0,t.jsxs)("button",{onClick:()=>{A(null),P(!1),C(!0)},className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-amber-500 to-yellow-500 text-white rounded-md hover:from-amber-600 hover:to-yellow-600 focus:outline-none focus:ring-2 focus:ring-amber-500 focus:ring-offset-2 transition-colors",children:[(0,t.jsx)(a.Plus,{className:"h-5 w-5 mr-2"}),"Tambah Tipe Motor"]})})]}),k&&(0,t.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:(0,t.jsx)("div",{className:"flex",children:(0,t.jsx)("div",{className:"ml-3",children:(0,t.jsx)("p",{className:"text-sm text-red-800",children:k})})})}),(0,t.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(s.Search,{className:"h-5 w-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,t.jsx)("input",{type:"text",placeholder:"Cari berdasarkan tipe motor, merek...",value:N,onChange:e=>w(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]})}),(0,t.jsx)(f,{data:h,onEdit:e=>{A(e),P(!0),C(!0)},onDelete:e=>{A(e),_(!0)},isLoading:p}),(0,t.jsx)(d.FormModal,{isOpen:D,onClose:G,title:E?"Edit Tipe Motor":"Tambah Tipe Motor",maxWidth:"max-w-2xl",children:(0,t.jsx)(M,{onSubmit:K,onCancel:G,initialData:B?{bikeType:B.bike_type||"",bikeMerk:B.bike_merk||"",days:Number(B.days)||0,weeks:Number(B.weeks)||0,months:Number(B.months)||0,driverDeductionDays:Number(B.driver_deduction_days)||5e3,driverDeductionWeeks:Number(B.driver_deduction_weeks)||5e3,driverDeductionMonths:Number(B.driver_deduction_months)||5e3,imageUrl:B.image_url||""}:void 0,availableMerks:O,isEditing:E,isLoading:p})}),(0,t.jsx)(c.ConfirmationModal,{isOpen:T,onClose:()=>{_(!1),A(null)},onConfirm:J,title:"Konfirmasi Hapus",message:'Apakah Anda yakin ingin menghapus tipe motor "'.concat(null==B?void 0:B.bike_type,'"?'),confirmText:"Ya, Hapus",cancelText:"Batal",type:"danger",isLoading:p}),(0,t.jsx)(m.AlertModal,{isOpen:R,onClose:()=>U(!1),title:L.title,message:L.message,type:L.type}),(0,t.jsx)(v.default,{})]}):(0,t.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(i.Tag,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Akses Ditolak"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Anda tidak memiliki izin untuk mengakses halaman ini."}),(0,t.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Peran yang diperlukan: Super Admin (1) atau Operation (3)"})]})})}}]);