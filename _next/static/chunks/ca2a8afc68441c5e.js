(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,70770,e=>{"use strict";e.s(["MotorService",()=>a]),e.i(36180);var t=e.i(98925),r=e.i(59141);let o=["bg-red-500","bg-blue-500","bg-green-500","bg-yellow-500","bg-purple-500","bg-pink-500","bg-indigo-500","bg-orange-500","bg-teal-500","bg-cyan-500","bg-lime-500","bg-amber-500","bg-emerald-500","bg-violet-500","bg-rose-500","bg-sky-500"],i=e=>{let t=0;for(let r=0;r<e.length;r++)t=(t<<5)-t+e.charCodeAt(r),t&=t;return o[Math.abs(t)%o.length]};class a{static async getMotorTypesWithAvailability(){try{console.log("🔍 Fetching motor types from Firebase...");let e=await (0,t.getDocs)((0,t.collection)(r.db,"bike_type_list")),o=[];console.log("📊 Found ".concat(e.size," bike types in collection")),e.forEach(e=>{o.push({id:e.id,...e.data()})});let a=await (0,t.getDocs)((0,t.collection)(r.db,"bike_list")),n=[];console.log("🚲 Found ".concat(a.size," bikes in collection")),a.forEach(e=>{n.push({id:e.id,...e.data()})});let l=new Map;n.forEach(e=>{let t=e.bike_type||"",r=e.status||"";l.has(t)||l.set(t,{total:0,available:0});let o=l.get(t);o.total++,("available"===r.toLowerCase()||"tersedia"===r.toLowerCase())&&o.available++}),console.log("📈 Bike type counts:",Object.fromEntries(l));let s=o.map(e=>{let t=e.id||"",r=l.get(t)||{total:0,available:0},o=(e.bike_merk||"unknown").toLowerCase(),a=i(o);return{id:e.id||"",name:e.bike_type||"Unknown Motor",type:o,pricePerDay:Number(e.days)||0,pricePerWeek:Number(e.weeks)||0,pricePerMonth:Number(e.months)||0,image:e.image_url||null,availableCount:r.available,totalCount:r.total,isAvailable:r.available>0,description:"".concat(e.bike_type||"Unknown Motor"," - ").concat(r.available," tersedia dari ").concat(r.total," total"),color:a}});if(console.log("✅ Generated ".concat(s.length," motor types")),0===s.length)return console.log("⚠️ No data from Firebase, returning sample data"),["honda","yamaha","listrik"].map((e,t)=>({id:"sample-".concat(e,"-").concat(t+1),name:"".concat(e.charAt(0).toUpperCase()+e.slice(1)," Sample"),type:e,pricePerDay:5e4+25e3*t,pricePerWeek:3e5+15e4*t,pricePerMonth:1e6+5e5*t,image:null,availableCount:3-t,totalCount:5-t,isAvailable:!0,description:"".concat(e.charAt(0).toUpperCase()+e.slice(1)," Sample - ").concat(3-t," tersedia dari ").concat(5-t," total"),color:i(e)}));let c=s.filter(e=>e.totalCount>0);return console.log("🔍 Filtered to ".concat(c.length," motor types with bikes")),c}catch(e){throw console.error("❌ Error getting motor types with availability:",e),Error("Failed to fetch motor types with availability")}}static async getMotorTypesGrouped(){try{let e=await this.getMotorTypesWithAvailability(),t={};return e.forEach(e=>{t[e.type]||(t[e.type]=[]),t[e.type].push(e)}),t}catch(e){throw console.error("Error getting grouped motor types:",e),Error("Failed to fetch grouped motor types")}}static async getMotorStats(){try{let e=await this.getMotorTypesWithAvailability(),t={};return e.forEach(e=>{t[e.type]||(t[e.type]=0),t[e.type]+=e.availableCount}),{totalTypes:e.length,totalBikes:e.reduce((e,t)=>e+t.totalCount,0),availableBikes:e.reduce((e,t)=>e+t.availableCount,0),typeCounts:t}}catch(e){throw console.error("Error getting motor stats:",e),Error("Failed to fetch motor statistics")}}static async getMotorTypeFilters(){try{console.log("🔍 Fetching motor type filters from merk_bike collection...");let e=await (0,t.getDocs)((0,t.collection)(r.db,"merk_bike")),o=[{id:"all",name:"all",displayName:"Semua",color:"bg-gray-500"}];if(console.log("📊 Found ".concat(e.size," motor brands in merk_bike collection")),e.forEach(e=>{let t=e.data(),r=e.id,a=t.name||r,n=a.toLowerCase();o.some(e=>e.id===n)||o.push({id:n,name:a,displayName:a.charAt(0).toUpperCase()+a.slice(1),color:i(n)})}),console.log("✅ Generated ".concat(o.length," motor type filters:"),o),1===o.length)return console.log("⚠️ No brands found in merk_bike collection, returning default filters"),[{id:"all",name:"all",displayName:"Semua",color:"bg-gray-500"},{id:"honda",name:"honda",displayName:"Honda",color:i("honda")},{id:"yamaha",name:"yamaha",displayName:"Yamaha",color:i("yamaha")},{id:"listrik",name:"listrik",displayName:"Listrik",color:i("listrik")}];return o}catch(e){return console.error("❌ Error getting motor type filters:",e),[{id:"all",name:"all",displayName:"Semua",color:"bg-gray-500"},{id:"honda",name:"honda",displayName:"Honda",color:i("honda")},{id:"yamaha",name:"yamaha",displayName:"Yamaha",color:i("yamaha")},{id:"listrik",name:"listrik",displayName:"Listrik",color:i("listrik")}]}}static convertToMotorcycle(e){return{id:e.id,name:e.name,isAvailable:e.isAvailable,pricePerDay:e.pricePerDay,pricePerWeek:e.pricePerWeek,pricePerMonth:e.pricePerMonth,status:e.isAvailable?"tersedia":"belum tersedia",type:e.type,image:e.image,description:e.description,color:e.color}}}},71689,e=>{"use strict";e.s(["ArrowLeft",()=>t],71689);let t=(0,e.i(75254).default)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},43432,e=>{"use strict";e.s(["Phone",()=>t],43432);let t=(0,e.i(75254).default)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]])},12426,e=>{"use strict";e.s(["DollarSign",()=>t],12426);let t=(0,e.i(75254).default)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},33525,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"warnOnce",{enumerable:!0,get:function(){return o}});let o=e=>{}},18581,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"useMergedRef",{enumerable:!0,get:function(){return i}});let o=e.r(71645);function i(e,t){let r=(0,o.useRef)(null),i=(0,o.useRef)(null);return(0,o.useCallback)(o=>{if(null===o){let e=r.current;e&&(r.current=null,e());let t=i.current;t&&(i.current=null,t())}else e&&(r.current=a(e,o)),t&&(i.current=a(t,o))},[e,t])}function a(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let r=e(t);return"function"==typeof r?r:()=>e(null)}}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},88143,(e,t,r)=>{"use strict";function o(e){let{widthInt:t,heightInt:r,blurWidth:o,blurHeight:i,blurDataURL:a,objectFit:n}=e,l=o?40*o:t,s=i?40*i:r,c=l&&s?"viewBox='0 0 "+l+" "+s+"'":"";return"%3Csvg xmlns='http://www.w3.org/2000/svg' "+c+"%3E%3Cfilter id='b' color-interpolation-filters='sRGB'%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3CfeColorMatrix values='1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 100 -1' result='s'/%3E%3CfeFlood x='0' y='0' width='100%25' height='100%25'/%3E%3CfeComposite operator='out' in='s'/%3E%3CfeComposite in2='SourceGraphic'/%3E%3CfeGaussianBlur stdDeviation='20'/%3E%3C/filter%3E%3Cimage width='100%25' height='100%25' x='0' y='0' preserveAspectRatio='"+(c?"none":"contain"===n?"xMidYMid":"cover"===n?"xMidYMid slice":"none")+"' style='filter: url(%23b);' href='"+a+"'/%3E%3C/svg%3E"}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"getImageBlurSvg",{enumerable:!0,get:function(){return o}})},87690,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(r,{VALID_LOADERS:function(){return o},imageConfigDefault:function(){return i}});let o=["default","imgix","cloudinary","akamai","custom"],i={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",loaderFile:"",domains:[],disableStaticImages:!1,minimumCacheTTL:60,formats:["image/webp"],dangerouslyAllowSVG:!1,contentSecurityPolicy:"script-src 'none'; frame-src 'none'; sandbox;",contentDispositionType:"attachment",localPatterns:void 0,remotePatterns:[],qualities:void 0,unoptimized:!1}},8927,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"getImgProps",{enumerable:!0,get:function(){return s}}),e.r(33525);let o=e.r(88143),i=e.r(87690),a=["-moz-initial","fill","none","scale-down",void 0];function n(e){return void 0!==e.default}function l(e){return void 0===e?e:"number"==typeof e?Number.isFinite(e)?e:NaN:"string"==typeof e&&/^[0-9]+$/.test(e)?parseInt(e,10):NaN}function s(e,t){var r,s;let c,d,u,{src:p,sizes:f,unoptimized:m=!1,priority:g=!1,loading:h,className:y,quality:b,width:v,height:_,fill:w=!1,style:k,overrideSrc:A,onLoad:C,onLoadingComplete:E,placeholder:D="empty",blurDataURL:x,fetchPriority:j,decoding:P="async",layout:M,objectFit:O,objectPosition:S,lazyBoundary:z,lazyRoot:R,...T}=e,{imgConf:F,showAltText:N,blurComplete:I,defaultLoader:L}=t,B=F||i.imageConfigDefault;if("allSizes"in B)c=B;else{let e=[...B.deviceSizes,...B.imageSizes].sort((e,t)=>e-t),t=B.deviceSizes.sort((e,t)=>e-t),o=null==(r=B.qualities)?void 0:r.sort((e,t)=>e-t);c={...B,allSizes:e,deviceSizes:t,qualities:o}}if(void 0===L)throw Object.defineProperty(Error("images.loaderFile detected but the file is missing default export.\nRead more: https://nextjs.org/docs/messages/invalid-images-config"),"__NEXT_ERROR_CODE",{value:"E163",enumerable:!1,configurable:!0});let U=T.loader||L;delete T.loader,delete T.srcSet;let W="__next_img_default"in U;if(W){if("custom"===c.loader)throw Object.defineProperty(Error('Image with src "'+p+'" is missing "loader" prop.\nRead more: https://nextjs.org/docs/messages/next-image-missing-loader'),"__NEXT_ERROR_CODE",{value:"E252",enumerable:!1,configurable:!0})}else{let e=U;U=t=>{let{config:r,...o}=t;return e(o)}}if(M){"fill"===M&&(w=!0);let e={intrinsic:{maxWidth:"100%",height:"auto"},responsive:{width:"100%",height:"auto"}}[M];e&&(k={...k,...e});let t={responsive:"100vw",fill:"100vw"}[M];t&&!f&&(f=t)}let q="",G=l(v),H=l(_);if((s=p)&&"object"==typeof s&&(n(s)||void 0!==s.src)){let e=n(p)?p.default:p;if(!e.src)throw Object.defineProperty(Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include src. Received "+JSON.stringify(e)),"__NEXT_ERROR_CODE",{value:"E460",enumerable:!1,configurable:!0});if(!e.height||!e.width)throw Object.defineProperty(Error("An object should only be passed to the image component src parameter if it comes from a static image import. It must include height and width. Received "+JSON.stringify(e)),"__NEXT_ERROR_CODE",{value:"E48",enumerable:!1,configurable:!0});if(d=e.blurWidth,u=e.blurHeight,x=x||e.blurDataURL,q=e.src,!w)if(G||H){if(G&&!H){let t=G/e.width;H=Math.round(e.height*t)}else if(!G&&H){let t=H/e.height;G=Math.round(e.width*t)}}else G=e.width,H=e.height}let V=!g&&("lazy"===h||void 0===h);(!(p="string"==typeof p?p:q)||p.startsWith("data:")||p.startsWith("blob:"))&&(m=!0,V=!1),c.unoptimized&&(m=!0),W&&!c.dangerouslyAllowSVG&&p.split("?",1)[0].endsWith(".svg")&&(m=!0);let X=l(b),$=Object.assign(w?{position:"absolute",height:"100%",width:"100%",left:0,top:0,right:0,bottom:0,objectFit:O,objectPosition:S}:{},N?{}:{color:"transparent"},k),Y=I||"empty"===D?null:"blur"===D?'url("data:image/svg+xml;charset=utf-8,'+(0,o.getImageBlurSvg)({widthInt:G,heightInt:H,blurWidth:d,blurHeight:u,blurDataURL:x||"",objectFit:$.objectFit})+'")':'url("'+D+'")',J=a.includes($.objectFit)?"fill"===$.objectFit?"100% 100%":"cover":$.objectFit,K=Y?{backgroundSize:J,backgroundPosition:$.objectPosition||"50% 50%",backgroundRepeat:"no-repeat",backgroundImage:Y}:{},Z=function(e){let{config:t,src:r,unoptimized:o,width:i,quality:a,sizes:n,loader:l}=e;if(o)return{src:r,srcSet:void 0,sizes:void 0};let{widths:s,kind:c}=function(e,t,r){let{deviceSizes:o,allSizes:i}=e;if(r){let e=/(^|\s)(1?\d?\d)vw/g,t=[];for(let o;o=e.exec(r);)t.push(parseInt(o[2]));if(t.length){let e=.01*Math.min(...t);return{widths:i.filter(t=>t>=o[0]*e),kind:"w"}}return{widths:i,kind:"w"}}return"number"!=typeof t?{widths:o,kind:"w"}:{widths:[...new Set([t,2*t].map(e=>i.find(t=>t>=e)||i[i.length-1]))],kind:"x"}}(t,i,n),d=s.length-1;return{sizes:n||"w"!==c?n:"100vw",srcSet:s.map((e,o)=>l({config:t,src:r,quality:a,width:e})+" "+("w"===c?e:o+1)+c).join(", "),src:l({config:t,src:r,quality:a,width:s[d]})}}({config:c,src:p,unoptimized:m,width:G,quality:X,sizes:f,loader:U});return{props:{...T,loading:V?"lazy":h,fetchPriority:j,width:G,height:H,decoding:P,className:y,style:{...$,...K},sizes:Z.sizes,srcSet:Z.srcSet,src:A||Z.src},meta:{unoptimized:m,priority:g,placeholder:D,fill:w}}}},98879,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"default",{enumerable:!0,get:function(){return l}});let o=e.r(71645),i="undefined"==typeof window,a=i?()=>{}:o.useLayoutEffect,n=i?()=>{}:o.useEffect;function l(e){let{headManager:t,reduceComponentsToState:r}=e;function l(){if(t&&t.mountedInstances){let i=o.Children.toArray(Array.from(t.mountedInstances).filter(Boolean));t.updateHead(r(i,e))}}if(i){var s;null==t||null==(s=t.mountedInstances)||s.add(e.children),l()}return a(()=>{var r;return null==t||null==(r=t.mountedInstances)||r.add(e.children),()=>{var r;null==t||null==(r=t.mountedInstances)||r.delete(e.children)}}),a(()=>(t&&(t._pendingUpdate=l),()=>{t&&(t._pendingUpdate=l)})),n(()=>(t&&t._pendingUpdate&&(t._pendingUpdate(),t._pendingUpdate=null),()=>{t&&t._pendingUpdate&&(t._pendingUpdate(),t._pendingUpdate=null)})),null}},58908,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"AmpStateContext",{enumerable:!0,get:function(){return o}});let o=e.r(55682)._(e.r(71645)).default.createContext({})},15986,(e,t,r)=>{"use strict";function o(e){let{ampFirst:t=!1,hybrid:r=!1,hasQuery:o=!1}=void 0===e?{}:e;return t||r&&o}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"isInAmpMode",{enumerable:!0,get:function(){return o}})},25633,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(r,{default:function(){return g},defaultHead:function(){return u}});let o=e.r(55682),i=e.r(90809),a=e.r(43476),n=i._(e.r(71645)),l=o._(e.r(98879)),s=e.r(58908),c=e.r(42732),d=e.r(15986);function u(e){void 0===e&&(e=!1);let t=[(0,a.jsx)("meta",{charSet:"utf-8"},"charset")];return e||t.push((0,a.jsx)("meta",{name:"viewport",content:"width=device-width"},"viewport")),t}function p(e,t){return"string"==typeof t||"number"==typeof t?e:t.type===n.default.Fragment?e.concat(n.default.Children.toArray(t.props.children).reduce((e,t)=>"string"==typeof t||"number"==typeof t?e:e.concat(t),[])):e.concat(t)}e.r(33525);let f=["name","httpEquiv","charSet","itemProp"];function m(e,t){let{inAmpMode:r}=t;return e.reduce(p,[]).reverse().concat(u(r).reverse()).filter(function(){let e=new Set,t=new Set,r=new Set,o={};return i=>{let a=!0,n=!1;if(i.key&&"number"!=typeof i.key&&i.key.indexOf("$")>0){n=!0;let t=i.key.slice(i.key.indexOf("$")+1);e.has(t)?a=!1:e.add(t)}switch(i.type){case"title":case"base":t.has(i.type)?a=!1:t.add(i.type);break;case"meta":for(let e=0,t=f.length;e<t;e++){let t=f[e];if(i.props.hasOwnProperty(t))if("charSet"===t)r.has(t)?a=!1:r.add(t);else{let e=i.props[t],r=o[t]||new Set;("name"!==t||!n)&&r.has(e)?a=!1:(r.add(e),o[t]=r)}}}return a}}()).reverse().map((e,t)=>{let r=e.key||t;return n.default.cloneElement(e,{key:r})})}let g=function(e){let{children:t}=e,r=(0,n.useContext)(s.AmpStateContext),o=(0,n.useContext)(c.HeadManagerContext);return(0,a.jsx)(l.default,{reduceComponentsToState:m,headManager:o,inAmpMode:(0,d.isInAmpMode)(r),children:t})};("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},18556,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"ImageConfigContext",{enumerable:!0,get:function(){return a}});let o=e.r(55682)._(e.r(71645)),i=e.r(87690),a=o.default.createContext(i.imageConfigDefault)},65856,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"RouterContext",{enumerable:!0,get:function(){return o}});let o=e.r(55682)._(e.r(71645)).default.createContext(null)},1948,(e,t,r)=>{"use strict";function o(e){var t;let{config:r,src:o,width:i,quality:a}=e,n=a||(null==(t=r.qualities)?void 0:t.reduce((e,t)=>Math.abs(t-75)<Math.abs(e-75)?t:e))||75;return r.path+"?url="+encodeURIComponent(o)+"&w="+i+"&q="+n+(o.startsWith("/_next/static/media/"),"")}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"default",{enumerable:!0,get:function(){return i}}),o.__next_img_default=!0;let i=o},5500,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"Image",{enumerable:!0,get:function(){return _}});let o=e.r(55682),i=e.r(90809),a=e.r(43476),n=i._(e.r(71645)),l=o._(e.r(74080)),s=o._(e.r(25633)),c=e.r(8927),d=e.r(87690),u=e.r(18556);e.r(33525);let p=e.r(65856),f=o._(e.r(1948)),m=e.r(18581),g={deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image/",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0};function h(e,t,r,o,i,a,n){let l=null==e?void 0:e.src;e&&e["data-loaded-src"]!==l&&(e["data-loaded-src"]=l,("decode"in e?e.decode():Promise.resolve()).catch(()=>{}).then(()=>{if(e.parentElement&&e.isConnected){if("empty"!==t&&i(!0),null==r?void 0:r.current){let t=new Event("load");Object.defineProperty(t,"target",{writable:!1,value:e});let o=!1,i=!1;r.current({...t,nativeEvent:t,currentTarget:e,target:e,isDefaultPrevented:()=>o,isPropagationStopped:()=>i,persist:()=>{},preventDefault:()=>{o=!0,t.preventDefault()},stopPropagation:()=>{i=!0,t.stopPropagation()}})}(null==o?void 0:o.current)&&o.current(e)}}))}function y(e){return n.use?{fetchPriority:e}:{fetchpriority:e}}"undefined"==typeof window&&(globalThis.__NEXT_IMAGE_IMPORTED=!0);let b=(0,n.forwardRef)((e,t)=>{let{src:r,srcSet:o,sizes:i,height:l,width:s,decoding:c,className:d,style:u,fetchPriority:p,placeholder:f,loading:g,unoptimized:b,fill:v,onLoadRef:_,onLoadingCompleteRef:w,setBlurComplete:k,setShowAltText:A,sizesInput:C,onLoad:E,onError:D,...x}=e,j=(0,n.useCallback)(e=>{e&&(D&&(e.src=e.src),e.complete&&h(e,f,_,w,k,b,C))},[r,f,_,w,k,D,b,C]),P=(0,m.useMergedRef)(t,j);return(0,a.jsx)("img",{...x,...y(p),loading:g,width:s,height:l,decoding:c,"data-nimg":v?"fill":"1",className:d,style:u,sizes:i,srcSet:o,src:r,ref:P,onLoad:e=>{h(e.currentTarget,f,_,w,k,b,C)},onError:e=>{A(!0),"empty"!==f&&k(!0),D&&D(e)}})});function v(e){let{isAppRouter:t,imgAttributes:r}=e,o={as:"image",imageSrcSet:r.srcSet,imageSizes:r.sizes,crossOrigin:r.crossOrigin,referrerPolicy:r.referrerPolicy,...y(r.fetchPriority)};return t&&l.default.preload?(l.default.preload(r.src,o),null):(0,a.jsx)(s.default,{children:(0,a.jsx)("link",{rel:"preload",href:r.srcSet?void 0:r.src,...o},"__nimg-"+r.src+r.srcSet+r.sizes)})}let _=(0,n.forwardRef)((e,t)=>{let r=(0,n.useContext)(p.RouterContext),o=(0,n.useContext)(u.ImageConfigContext),i=(0,n.useMemo)(()=>{var e;let t=g||o||d.imageConfigDefault,r=[...t.deviceSizes,...t.imageSizes].sort((e,t)=>e-t),i=t.deviceSizes.sort((e,t)=>e-t),a=null==(e=t.qualities)?void 0:e.sort((e,t)=>e-t);return{...t,allSizes:r,deviceSizes:i,qualities:a}},[o]),{onLoad:l,onLoadingComplete:s}=e,m=(0,n.useRef)(l);(0,n.useEffect)(()=>{m.current=l},[l]);let h=(0,n.useRef)(s);(0,n.useEffect)(()=>{h.current=s},[s]);let[y,_]=(0,n.useState)(!1),[w,k]=(0,n.useState)(!1),{props:A,meta:C}=(0,c.getImgProps)(e,{defaultLoader:f.default,imgConf:i,blurComplete:y,showAltText:w});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(b,{...A,unoptimized:C.unoptimized,placeholder:C.placeholder,fill:C.fill,onLoadRef:m,onLoadingCompleteRef:h,setBlurComplete:_,setShowAltText:k,sizesInput:e.sizes,ref:t}),C.priority?(0,a.jsx)(v,{isAppRouter:!r,imgAttributes:A}):null]})});("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},94909,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(r,{default:function(){return s},getImageProps:function(){return l}});let o=e.r(55682),i=e.r(8927),a=e.r(5500),n=o._(e.r(1948));function l(e){let{props:t}=(0,i.getImgProps)(e,{defaultLoader:n.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image/",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!0}});for(let[e,r]of Object.entries(t))void 0===r&&delete t[e];return{props:t}}let s=a.Image},57688,(e,t,r)=>{t.exports=e.r(94909)},40921,e=>{"use strict";e.s(["Bike",()=>t],40921);let t=(0,e.i(75254).default)("bike",[["circle",{cx:"18.5",cy:"17.5",r:"3.5",key:"15x4ox"}],["circle",{cx:"5.5",cy:"17.5",r:"3.5",key:"1noe27"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["path",{d:"M12 17.5V14l-3-3 4-3 2 3h2",key:"1npguv"}]])},3116,e=>{"use strict";e.s(["Clock",()=>t],3116);let t=(0,e.i(75254).default)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},55436,e=>{"use strict";e.s(["Search",()=>t],55436);let t=(0,e.i(75254).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},75254,e=>{"use strict";e.s(["default",()=>n],75254);var t=e.i(71645);let r=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)},o=function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim()};var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let a=(0,t.forwardRef)((e,r)=>{let{color:a="currentColor",size:n=24,strokeWidth:l=2,absoluteStrokeWidth:s,className:c="",children:d,iconNode:u,...p}=e;return(0,t.createElement)("svg",{ref:r,...i,width:n,height:n,stroke:a,strokeWidth:s?24*Number(l)/Number(n):l,className:o("lucide",c),...!d&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0})(p)&&{"aria-hidden":"true"},...p},[...u.map(e=>{let[r,o]=e;return(0,t.createElement)(r,o)}),...Array.isArray(d)?d:[d]])}),n=(e,i)=>{let n=(0,t.forwardRef)((n,l)=>{let{className:s,...c}=n;return(0,t.createElement)(a,{ref:l,iconNode:i,className:o("lucide-".concat(r(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),s),...c})});return n.displayName=r(e),n}},64659,e=>{"use strict";e.s(["ChevronDown",()=>t],64659);let t=(0,e.i(75254).default)("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},37727,e=>{"use strict";e.s(["X",()=>t],37727);let t=(0,e.i(75254).default)("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},63209,e=>{"use strict";e.s(["AlertCircle",()=>t],63209);let t=(0,e.i(75254).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},69638,e=>{"use strict";e.s(["CheckCircle",()=>t],69638);let t=(0,e.i(75254).default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},86536,e=>{"use strict";e.s(["Eye",()=>t],86536);let t=(0,e.i(75254).default)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},82164,e=>{"use strict";e.s(["DiscountService",()=>i]),e.i(36180);var t=e.i(98925),r=e.i(59141);let o="discount_list";class i{static async getDiscounts(){try{let e=await (0,t.getDocs)((0,t.collection)(r.db,o)),i=[];return console.log("📊 Fetching discounts from collection:",o),console.log("📊 Found documents:",e.size),e.forEach(e=>{var t,r,o,a;let n=e.data();console.log("📊 Document data:",e.id,n),i.push({id:e.id,...n,start_date:null==(t=n.start_date)?void 0:t.toDate(),end_date:null==(r=n.end_date)?void 0:r.toDate(),createdAt:null==(o=n.createdAt)?void 0:o.toDate(),updatedAt:null==(a=n.updatedAt)?void 0:a.toDate()})}),console.log("discountsdiscounts1",i),i.sort((e,t)=>e.createdAt&&t.createdAt?t.createdAt.getTime()-e.createdAt.getTime():e.name.localeCompare(t.name)),console.log("discountsdiscounts2",i),console.log("📊 Processed discounts:",i),i}catch(e){throw console.error("Error getting discounts:",e),Error("Failed to fetch discounts")}}static async getActiveDiscount(){try{let e=new Date,i=await (0,t.getDocs)((0,t.collection)(r.db,o));if(i.empty)return null;let a=[];return i.forEach(t=>{var r,o,i,n;let l=t.data(),s=null==(r=l.start_date)?void 0:r.toDate(),c=null==(o=l.end_date)?void 0:o.toDate();l.isActive&&s&&c&&s<=e&&c>=e&&a.push({id:t.id,...l,start_date:s,end_date:c,createdAt:null==(i=l.createdAt)?void 0:i.toDate(),updatedAt:null==(n=l.updatedAt)?void 0:n.toDate()})}),a.length>0?a[0]:null}catch(e){throw console.error("Error getting active discount:",e),Error("Failed to fetch active discount")}}static async getActiveDiscountsForDropdown(){try{let e=new Date,i=await (0,t.getDocs)((0,t.collection)(r.db,o)),a=[];return i.forEach(t=>{var r,o,i,n;let l=t.data(),s=null==(r=l.start_date)?void 0:r.toDate(),c=null==(o=l.end_date)?void 0:o.toDate();l.isActive&&c&&c>=e&&a.push({id:t.id,...l,start_date:s,end_date:c,createdAt:null==(i=l.createdAt)?void 0:i.toDate(),updatedAt:null==(n=l.updatedAt)?void 0:n.toDate()})}),a.sort((e,t)=>e.end_date.getTime()-t.end_date.getTime())}catch(e){throw console.error("Error getting active discounts for dropdown:",e),Error("Failed to fetch active discounts")}}static async getDiscount(e){try{let s=(0,t.doc)(r.db,o,e),c=await (0,t.getDoc)(s);if(c.exists()){var i,a,n,l;let e=c.data();return{id:c.id,...e,start_date:null==(i=e.start_date)?void 0:i.toDate(),end_date:null==(a=e.end_date)?void 0:a.toDate(),createdAt:null==(n=e.createdAt)?void 0:n.toDate(),updatedAt:null==(l=e.updatedAt)?void 0:l.toDate()}}return null}catch(e){throw console.error("Error getting discount:",e),Error("Failed to fetch discount")}}static async createDiscount(e,i){try{console.log("🚀 Creating discount with data:",e);let a={name:e.name,discount_type:e.discount_type,discount_amount:e.discount_amount,start_date:new Date(e.start_date),end_date:new Date(e.end_date),isActive:e.isActive,motor_types:e.motor_types||[],image_url:e.image_url||"",createdAt:(0,t.serverTimestamp)(),createdBy:i||"",updatedAt:(0,t.serverTimestamp)(),updatedBy:i||""};console.log("📊 Creating document with data:",a);let n=await (0,t.addDoc)((0,t.collection)(r.db,o),a);if(console.log("✅ Document created with ID:",n.id),e.isActive){console.log("🔄 Deactivating other active discounts...");let e=(0,t.query)((0,t.collection)(r.db,o),(0,t.where)("isActive","==",!0)),a=await (0,t.getDocs)(e),l=(0,t.writeBatch)(r.db);a.forEach(e=>{if(e.id!==n.id){let a=(0,t.doc)(r.db,o,e.id);l.update(a,{isActive:!1,updatedAt:(0,t.serverTimestamp)(),updatedBy:i||""})}}),a.size>1&&(await l.commit(),console.log("✅ Other active discounts deactivated"))}return n.id}catch(e){throw console.error("❌ Error creating discount:",e),console.error("Error details:",e),Error("Failed to create discount")}}static async updateDiscount(e,i,a){try{let n=(0,t.writeBatch)(r.db);if(i.isActive){let i=(0,t.query)((0,t.collection)(r.db,o),(0,t.where)("isActive","==",!0));(await (0,t.getDocs)(i)).forEach(i=>{if(i.id!==e){let e=(0,t.doc)(r.db,o,i.id);n.update(e,{isActive:!1,updatedAt:(0,t.serverTimestamp)(),updatedBy:a||""})}})}let l=(0,t.doc)(r.db,o,e),s={name:i.name,discount_type:i.discount_type,discount_amount:i.discount_amount,start_date:new Date(i.start_date),end_date:new Date(i.end_date),isActive:i.isActive,motor_types:i.motor_types||[],image_url:i.image_url||"",updatedAt:(0,t.serverTimestamp)(),updatedBy:a||""};n.update(l,s),await n.commit()}catch(e){throw console.error("Error updating discount:",e),Error("Failed to update discount")}}static async deleteDiscount(e){try{let i=(0,t.doc)(r.db,o,e);await (0,t.deleteDoc)(i)}catch(e){throw console.error("Error deleting discount:",e),Error("Failed to delete discount")}}static calculateDiscountAmount(e,t){return"percent"===t.discount_type?Math.round(e*(t.discount_amount/100)):t.discount_amount}static calculateDiscountedPrice(e,t){let r=this.calculateDiscountAmount(e,t);return Math.max(0,e-r)}static isDiscountValid(e){let t=new Date;return e.isActive&&e.start_date<=t&&e.end_date>=t}static doesDiscountApplyToMotorType(e,t){return!e.motor_types||0===e.motor_types.length||e.motor_types.includes(t)}}}]);