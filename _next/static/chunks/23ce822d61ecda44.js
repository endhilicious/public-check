(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,78894,e=>{"use strict";e.s(["AlertTriangle",()=>t],78894);let t=(0,e.i(75254).default)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},7233,88511,e=>{"use strict";e.s(["Plus",()=>a],7233);var t=e.i(75254);let a=(0,t.default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Edit",()=>r],88511);let r=(0,t.default)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},27612,e=>{"use strict";e.s(["Trash2",()=>t],27612);let t=(0,e.i(75254).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])},43432,e=>{"use strict";e.s(["Phone",()=>t],43432);let t=(0,e.i(75254).default)("phone",[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]])},87316,e=>{"use strict";e.s(["Calendar",()=>t],87316);let t=(0,e.i(75254).default)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},43531,e=>{"use strict";e.s(["Check",()=>t],43531);let t=(0,e.i(75254).default)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},12426,e=>{"use strict";e.s(["DollarSign",()=>t],12426);let t=(0,e.i(75254).default)("dollar-sign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]])},12482,e=>{"use strict";e.s(["RENTAL_STATUS",()=>a,"RENTAL_STATUS_COLORS",()=>t,"RentalTypes",()=>r,"calculateEndDate",()=>d,"calculateRemainingRentalDays",()=>u,"convertPhoneNumber",()=>b,"convertToDate",()=>l,"convertToTime",()=>o,"formatCurrency",()=>i,"formatRupiah",()=>n,"generatePickupMessage",()=>p,"generateWhatsAppMessage",()=>g,"getFormattedDuration",()=>m,"getFormattedRentalPrice",()=>h,"parseCurrency",()=>s,"removeSeconds",()=>c,"sortByDropoffTime",()=>x]);let t={available:"bg-green-100 text-green-800",returned:"bg-green-100 text-green-800",being_rented_out:"bg-yellow-100 text-yellow-800",maintenance:"bg-red-100 text-red-800",extend:"bg-blue-100 text-blue-800",extendNotPayment:"bg-gray-100 text-gray-800"},a={available:"Tersedia",returned:"Selesai Direntalkan",being_rented_out:"Sedang Direntalkan",maintenance:"Dalam Perawatan",extend:"Perpanjang",extendNotPayment:"Perpanjang Tapi Belum Bayar"},r={driver_days:"Driver (Ojol)",days:"Harian",weeks:"Mingguan",months:"Bulanan"},n=e=>{let t="string"==typeof e?parseFloat(e):e;return isNaN(t)?"Rp 0":"Rp ".concat(t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,"."))},i=e=>e?e.toString().replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,"."):"0",s=e=>e?parseInt(e.replace(/\./g,""),10):0,l=e=>{let t=new Date(e),a=t.getDate(),r=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"][t.getMonth()],n=t.getFullYear();return"".concat(a," ").concat(r," ").concat(n)},o=e=>{if(!e)return"-";try{return new Date(e).toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"})}catch(e){return"-"}},c=e=>{let t=e.split(":");return 2===t.length?e:3===t.length?"".concat(t[0],":").concat(t[1]):e};function d(e,t,a){let r=new Date(e);switch(a){case"weeks":r.setDate(r.getDate()+7*t);break;case"months":r.setMonth(r.getMonth()+t);break;default:r.setDate(r.getDate()+t)}return r.toISOString().split("T")[0]}function u(e,t,a){let r=new Date(e);switch(a){case"weeks":r.setDate(r.getDate()+7*t);break;case"months":r.setMonth(r.getMonth()+t);break;default:r.setDate(r.getDate()+t)}let n=new Date;return n.setHours(0,0,0,0),r.setHours(0,0,0,0),Math.ceil((r.getTime()-n.getTime())/864e5)}function m(e,t){let a="string"==typeof e?Number(e):e,r=function(e){switch(e){case"weeks":return"Minggu";case"months":return"Bulan";default:return"Hari"}}(t);return"".concat(a," ").concat(r)}let h=(e,t)=>{let a;switch(e){case"weeks":a=t.weeks;break;case"months":a=t.months;break;case"driver_days":a=Number(t.days)-Number(t.driver_deduction_days);break;case"days":a=t.days;break;default:a=0}return Number(a)},b=e=>e.startsWith("0")?"62"+e.slice(1):e.startsWith("62")?e:null,x=e=>e.sort((e,t)=>{let a=e.dropoff_time?e.dropoff_time:"00:00:00",r=t.dropoff_time?t.dropoff_time:"00:00:00";return a.localeCompare(r)}),g=(e,t)=>{var a,r,n,i,s,l;return"reminder"===t?"Selamat Siang, Bapak/Ibu *".concat(null!=(a=null==e?void 0:e.renter_name)?a:"Nama Customer","*%0A%0ASaya ingin mengingatkan bahwa penyewaan motor *").concat(null!=(r=e.bike_type_name)?r:"Merk Kendaraan","* dengan nomor kendaraan *").concat(null!=(n=null==e?void 0:e.licence_plat_number)?n:"PLAT NOT RECOGNIZED","* Anda akan segera berakhir pada pukul *").concat((null==e?void 0:e.dropoff_time)?c(null==e?void 0:e.dropoff_time):"TBD","*.%0A%0AMohon untuk konfirmasi jika ingin melanjutkan. Jika tidak, kami akan melakukan penjemputan sesuai jam pengantaran.%0A%0ATerima kasih sebelumnya."):"Selamat Siang, Bapak/Ibu *".concat(null!=(i=null==e?void 0:e.renter_name)?i:"Nama Customer","*%0A%0ATerima kasih telah menggunakan layanan penyewaan motor kami. Kami harap Anda puas dengan motor *").concat(null!=(s=e.bike_type_name)?s:"Merk Kendaraan","* dengan nomor kendaraan *").concat(null!=(l=null==e?void 0:e.licence_plat_number)?l:"DD DICOBA BB","* yang telah Anda sewa.%0A%0AJika Anda membutuhkan layanan penyewaan motor lagi di masa mendatang, jangan ragu untuk menghubungi kami. Kami siap melayani dengan armada motor yang terawat dan harga yang kompetitif.%0A%0A*Terima kasih atas kepercayaannya, semoga hari Anda menyenangkan.*")},p=(e,t)=>{let a="List Penjemputan Hari ini tanggal ".concat(e,"%0A%0A%0A");return t.forEach(e=>{a+="".concat(e.renter_name,", "),a+="".concat(e.bike_type_name,", "),a+="".concat(Number(e.rent_duration)," Hari, "),a+="Jumlah Helm: *".concat(Number(e.total_helm)||"-","*, "),a+="Jam Pengantaran: *".concat(c(e.dropoff_time||""),"*, "),a+="Lokasi: *".concat(e.renter_address,"*, "),a+="Nomor Telefon: ".concat(e.phone_number,", "),a+="Tim Penjemput: ,%0A%0A",a+="------------------------------ %0A%0A"}),a}},63209,e=>{"use strict";e.s(["AlertCircle",()=>t],63209);let t=(0,e.i(75254).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},69638,e=>{"use strict";e.s(["CheckCircle",()=>t],69638);let t=(0,e.i(75254).default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},43782,e=>{"use strict";e.s(["AlertModal",()=>i]);var t=e.i(43476),a=e.i(37727),r=e.i(69638),n=e.i(63209);function i(e){let{isOpen:i,onClose:s,title:l,message:o,type:c,buttonText:d="Tutup"}=e;if(!i)return null;let u="success"===c,m=u?r.CheckCircle:n.AlertCircle;return(0,t.jsxs)("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4",onClick:e=>{e.target===e.currentTarget&&s()},children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-black/20 backdrop-blur-sm"}),(0,t.jsxs)("div",{className:"relative bg-white rounded-xl shadow-2xl max-w-md w-full mx-4 transform transition-all duration-300 ease-out",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 ".concat(u?"bg-green-100":"bg-red-100"," rounded-full flex items-center justify-center"),children:(0,t.jsx)(m,{className:"h-5 w-5 ".concat(u?"text-green-600":"text-red-600")})}),(0,t.jsx)("div",{children:(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:l})})]}),(0,t.jsx)("button",{onClick:s,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors","aria-label":"Tutup modal",children:(0,t.jsx)(a.X,{className:"h-5 w-5 text-gray-400"})})]}),(0,t.jsx)("div",{className:"p-6",children:(0,t.jsx)("div",{className:"text-center",children:(0,t.jsx)("p",{className:"text-gray-700 mb-4",children:o})})}),(0,t.jsx)("div",{className:"flex justify-end p-6 pt-0 border-t border-gray-200",children:(0,t.jsx)("button",{onClick:s,className:"px-6 py-2 ".concat(u?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700"," text-white font-medium rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 ").concat(u?"focus:ring-green-500":"focus:ring-red-500"),children:d})})]})]})}},14812,e=>{"use strict";e.s(["BikeService",()=>i]),e.i(36180);var t=e.i(98925),a=e.i(59141);let r="bike_list",n="history_bike_list";class i{static async getBikes(e,n){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{let s=await (0,t.getDocs)((0,t.collection)(a.db,r)),l=[];s.forEach(e=>{let t=e.data();l.push({id:e.id,branchId:t.branch||null,...t})});let o=l;if(!i&&n?o=o.filter(e=>e.branchId===n||null===e.branchId&&"andi-rental"===n):i||n||(o=[]),i&&(null==e?void 0:e.filterBranch)&&"all"!==e.filterBranch&&(o=o.filter(t=>t.branchId===e.filterBranch||null===t.branchId&&"andi-rental"===e.filterBranch)),null==e?void 0:e.searchTerm){let t=e.searchTerm.toLowerCase();o=o.filter(e=>{var a,r,n,i;return(null==(a=e.renter_name)?void 0:a.toLowerCase().includes(t))||(null==(r=e.licence_plat_number)?void 0:r.toLowerCase().includes(t))||(null==(n=e.bike_type_name)?void 0:n.toLowerCase().includes(t))||(null==(i=e.phone_number)?void 0:i.includes(t))})}return o}catch(e){throw console.error("Error getting bikes:",e),Error("Failed to fetch bikes")}}static async getBikesByStatus(e){try{let n=(0,t.query)((0,t.collection)(a.db,r),(0,t.where)("status","==",e)),i=await (0,t.getDocs)(n),s=[];return i.forEach(e=>{s.push({id:e.id,...e.data()})}),s}catch(e){throw console.error("Error getting bikes by status:",e),Error("Failed to fetch bikes by status")}}static async getMaintenanceBikes(){return this.getBikesByStatus("maintenance")}static async getAvailableBikes(){return this.getBikesByStatus("available")}static async getRentedBikes(){return this.getBikesByStatus("being_rented_out")}static async getBike(e){try{let n=(0,t.doc)(a.db,r,e),i=await (0,t.getDoc)(n);if(i.exists())return{id:i.id,...i.data()};return null}catch(e){throw console.error("Error getting bike:",e),Error("Failed to fetch bike")}}static async updateBikeStatus(e,n){try{let i=(0,t.doc)(a.db,r,e);await (0,t.updateDoc)(i,{status:n})}catch(e){throw console.error("Error updating bike status:",e),Error("Failed to update bike status")}}static async updateBikeForMaintenance(e,n){try{let i=(0,t.doc)(a.db,r,e);await (0,t.updateDoc)(i,{status:n})}catch(e){throw console.error("Error updating bike for maintenance:",e),Error("Failed to update bike for maintenance")}}static async createBikeRental(e){try{return(await (0,t.addDoc)((0,t.collection)(a.db,r),e)).id}catch(e){throw console.error("Error creating bike rental:",e),Error("Failed to create bike rental")}}static async createBike(e){return this.createBikeRental(e)}static async updateBikeRental(e,n){try{let i=(0,t.doc)(a.db,r,e);await (0,t.updateDoc)(i,n)}catch(e){throw console.error("Error updating bike rental:",e),Error("Failed to update bike rental")}}static async updateBike(e,t){return this.updateBikeRental(e,t)}static async moveBikeToHistory(e,r){try{let i={...e,status:r,movedAt:(0,t.serverTimestamp)()};return(await (0,t.addDoc)((0,t.collection)(a.db,n),i)).id}catch(e){throw console.error("Error moving bike to history:",e),Error("Failed to move bike to history")}}static async deleteBike(e){try{let n=(0,t.doc)(a.db,r,e);await (0,t.deleteDoc)(n)}catch(e){throw console.error("Error deleting bike:",e),Error("Failed to delete bike")}}static async finishRental(e,t){try{let a=await this.getBike(e);if(!a)throw Error("Bike not found");await this.moveBikeToHistory(a,"returned");let r={status:"available",rental_rate:null,renter_name:null,renter_address:null,phone_number:null,phone_number_emergency:null,rent_type:null,start_date_rent:null,total_helm:null,security_deposit:null,rent_duration:null,additional_payment:null,total_payment:null,dropoff_time:null,...t};await this.updateBikeRental(e,r)}catch(e){throw console.error("Error finishing rental:",e),Error("Failed to finish rental")}}static async extendRental(e,t,a,r){try{let n=await this.getBike(e);if(!n)throw Error("Bike not found");await this.moveBikeToHistory(n,"extend");let i=new Date(n.start_date_rent),s=parseInt(n.rent_duration),l={start_date_rent:new Date(i.getTime()+24*s*36e5).toISOString(),rent_duration:t,additional_payment:a,status:"not_paid"===r?"extendNotPayment":"being_rented_out"};await this.updateBikeRental(e,l)}catch(e){throw console.error("Error extending rental:",e),Error("Failed to extend rental")}}static async getAllData(e){if(e===r)return this.getBikes();if(e===n){let e=await (0,t.getDocs)((0,t.collection)(a.db,n)),r=[];return e.forEach(e=>{r.push({id:e.id,...e.data()})}),r}throw Error("Unknown collection: ".concat(e))}static async getDataById(e,t){if(t===r)return this.getBike(e);throw Error("Unknown collection: ".concat(t))}static async createData(e,t){if(t===r)return this.createBikeRental(e);if(t===n)return this.moveBikeToHistory(e,e.status||"unknown");throw Error("Unknown collection: ".concat(t))}static async updateData(e,t,a){if(a===r)return this.updateBikeRental(e,t);throw Error("Unknown collection: ".concat(a))}static async getMaintenanceStats(){try{let e=await this.getBikes();return{total:e.length,maintenance:e.filter(e=>"maintenance"===e.status).length,available:e.filter(e=>"available"===e.status).length,rented:e.filter(e=>"being_rented_out"===e.status).length}}catch(e){throw console.error("Error getting maintenance stats:",e),Error("Failed to fetch maintenance statistics")}}static async getBikeStats(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{let a=await this.getBikes(void 0,e,t),r=a.reduce((e,t)=>{let a=t.status||"unknown";return e[a]=(e[a]||0)+1,e},{}),n=a.reduce((e,t)=>{let a=t.rent_type||"unknown";return e[a]=(e[a]||0)+1,e},{});return{total:a.length,available:r.available||0,rented:r.being_rented_out||0,maintenance:r.maintenance||0,sold:r.sold||0,daily:n.days||0,weekly:n.weeks||0,monthly:n.months||0}}catch(e){throw console.error("Error getting bike statistics:",e),Error("Failed to fetch bike statistics")}}static async getBikesByBranch(e){try{let n=await (0,t.getDocs)((0,t.collection)(a.db,r)),i=[];return n.forEach(t=>{let a=t.data(),r={id:t.id,branchId:a.branch||null,...a};(r.branchId===e||null===r.branchId&&"andi-rental"===e)&&i.push(r)}),i}catch(e){throw console.error("Error getting bikes by branch:",e),Error("Failed to fetch bikes by branch")}}static async getBranchStats(e){try{let t=e?await this.getBikesByBranch(e):await this.getBikes(),a=t.reduce((e,t)=>{let a=t.status||"unknown";return e[a]=(e[a]||0)+1,e},{}),r=t.reduce((e,t)=>{let a=t.rent_type||"unknown";return e[a]=(e[a]||0)+1,e},{});return{total:t.length,available:a.available||0,rented:a.being_rented_out||0,maintenance:a.maintenance||0,sold:a.sold||0,daily:r.days||0,weekly:r.weeks||0,monthly:r.months||0}}catch(e){throw console.error("Error getting branch stats:",e),Error("Failed to fetch branch statistics")}}}},55900,e=>{"use strict";e.s(["ChevronUp",()=>t],55900);let t=(0,e.i(75254).default)("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]])},55436,e=>{"use strict";e.s(["Search",()=>t],55436);let t=(0,e.i(75254).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},96945,e=>{"use strict";e.s(["default",()=>n]);var t=e.i(43476),a=e.i(71645),r=e.i(55900);let n=function(e){let{threshold:n=300,className:i="",position:s="left"}=e,[l,o]=(0,a.useState)(!1);return((0,a.useEffect)(()=>{let e=()=>{o(window.scrollY>n)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[n]),l)?(0,t.jsxs)("button",{onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})},className:"fixed bottom-6 z-50 bg-gradient-to-r from-amber-500 to-yellow-500 hover:from-amber-600 hover:to-yellow-600 text-white p-3 rounded-full shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-110 group ".concat("left"===s?"left-6":"right-6"," ").concat(i),"aria-label":"Scroll to top",children:[(0,t.jsx)(r.ChevronUp,{className:"w-5 h-5"}),(0,t.jsxs)("div",{className:"absolute left-full ml-3 top-1/2 transform -translate-y-1/2 bg-gray-900 text-white text-sm px-3 py-2 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300 whitespace-nowrap pointer-events-none",children:["Scroll to top",(0,t.jsx)("div",{className:"absolute right-full top-1/2 transform -translate-y-1/2 border-4 border-transparent border-r-gray-900"})]})]}):null}},51199,e=>{"use strict";e.s(["CustomTable",()=>l]);var t=e.i(43476),a=e.i(71645),r=e.i(55900),n=e.i(64659),i=e.i(73375),s=e.i(63059);function l(e){let{data:l,config:o,isLoading:c=!1,className:d=""}=e,{columns:u,actions:m=[],showRowNumbers:h=!1,responsive:b=!0,loading:x=!1,emptyState:g,mobileActionsPosition:p="bottom",pagination:y={enabled:!1,pageSize:10,pageSizeOptions:[5,10,25,50],showPageSizeSelector:!0}}=o,[f,k]=(0,a.useState)({key:null,direction:"asc"}),[v,w]=(0,a.useState)(1),[j,N]=(0,a.useState)(y.pageSize||10),[_,B]=(0,a.useState)(1),[C]=(0,a.useState)(10),[S,T]=(0,a.useState)(!1),E=(0,a.useMemo)(()=>f.key?[...l].sort((e,t)=>{let a=u.find(e=>e.key===f.key),r=(null==a?void 0:a.sortKey)||f.key,n=e[r],i=t[r];return("string"==typeof n&&"string"==typeof i&&(n=n.toLowerCase(),i=i.toLowerCase()),n<i)?"asc"===f.direction?-1:1:n>i?"asc"===f.direction?1:-1:0}):l,[l,f,u]),M=(0,a.useMemo)(()=>{if(!y.enabled)return E;let e=(v-1)*j,t=e+j;return E.slice(e,t)},[E,v,j,y.enabled]),D=E.length,A=Math.ceil(D/j),R=(v-1)*j+1,P=Math.min(v*j,D),I=e=>{w(e)},F=(0,a.useMemo)(()=>E.slice(0,_*C),[E,_,C]),L=F.length<E.length,z=(0,a.useCallback)(()=>{!S&&L&&(T(!0),setTimeout(()=>{B(e=>e+1),T(!1)},1500))},[S,L]);if((0,a.useEffect)(()=>{let e=()=>{if(!L||S)return;let e=window.pageYOffset||document.documentElement.scrollTop,t=window.innerHeight;e+t>=document.documentElement.scrollHeight-200&&z()};return window.addEventListener("scroll",e,{passive:!0}),()=>{window.removeEventListener("scroll",e)}},[L,S,z]),x||c)return(0,t.jsx)("div",{className:"bg-white rounded-lg shadow-sm ".concat(d),children:(0,t.jsx)("div",{className:"p-6",children:(0,t.jsxs)("div",{className:"animate-pulse",children:[(0,t.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-4"}),(0,t.jsx)("div",{className:"space-y-3",children:[void 0,void 0,void 0,void 0,void 0].map((e,a)=>(0,t.jsx)("div",{className:"h-4 bg-gray-200 rounded"},a))})]})})});if(!l||0===l.length){let e=null==g?void 0:g.icon;return(0,t.jsx)("div",{className:"bg-white rounded-lg shadow-sm ".concat(d),children:(0,t.jsxs)("div",{className:"p-12 text-center",children:[e&&(0,t.jsx)(e,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:(null==g?void 0:g.title)||"Tidak ada data"}),(0,t.jsx)("p",{className:"text-gray-500",children:(null==g?void 0:g.description)||"Belum ada data yang tersedia."})]})})}let H=()=>(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,t.jsx)("thead",{className:"bg-gray-50",children:(0,t.jsxs)("tr",{children:[h&&(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"No"}),u.map((e,a)=>(0,t.jsx)("th",{className:"px-6 py-3 text-".concat(e.align||"left"," text-xs font-medium text-gray-500 uppercase tracking-wider ").concat(e.width?"w-".concat(e.width):""," ").concat(!1!==e.sortable?"cursor-pointer hover:bg-gray-100 select-none":""),onClick:()=>{var t;return!1!==e.sortable&&(t=e.key,void k(e=>({key:t,direction:e.key===t&&"asc"===e.direction?"desc":"asc"})))},children:(0,t.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,t.jsx)("span",{children:e.label}),!1!==e.sortable&&(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)(r.ChevronUp,{className:"h-3 w-3 ".concat(f.key===e.key&&"asc"===f.direction?"text-gray-900":"text-gray-400")}),(0,t.jsx)(n.ChevronDown,{className:"h-3 w-3 -mt-1 ".concat(f.key===e.key&&"desc"===f.direction?"text-gray-900":"text-gray-400")})]})]})},a)),m.length>0&&(0,t.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aksi"})]})}),(0,t.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:M.map((e,a)=>(0,t.jsxs)("tr",{className:"hover:bg-gray-50",children:[h&&(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:y.enabled?R+a:a+1}),u.map((r,n)=>{let i="index"===r.key?a+1:e[r.key];return(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-".concat(r.align||"left"),children:r.render?r.render(i,e,a):String(i||"-")},n)}),m.length>0&&(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,t.jsx)("div",{className:"flex items-center justify-end space-x-2",children:m.map((a,r)=>{if(a.condition&&!a.condition(e))return null;let n=a.icon;return(0,t.jsxs)("button",{onClick:()=>a.onClick(e),title:a.title||a.label,className:"inline-flex items-center px-3 py-1 border border-transparent text-sm font-medium rounded-md transition-colors duration-200 ".concat({primary:"text-blue-600 hover:text-blue-900",secondary:"text-gray-600 hover:text-gray-900",success:"text-green-600 hover:text-green-900",danger:"text-red-600 hover:text-red-900",warning:"text-yellow-600 hover:text-yellow-900",info:"text-blue-600 hover:text-blue-900"}[a.variant]," ").concat(a.className||""),children:[(0,t.jsx)(n,{className:"h-4 w-4 mr-1"}),(0,t.jsx)("span",{className:"hidden sm:inline",children:a.label})]},r)})})})]},a))})]})}),O=()=>{var e;return!y.enabled||A<=1?null:(0,t.jsxs)("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6",children:[(0,t.jsxs)("div",{className:"flex-1 flex justify-between sm:hidden",children:[(0,t.jsx)("button",{onClick:()=>I(v-1),disabled:1===v,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),(0,t.jsx)("button",{onClick:()=>I(v+1),disabled:v===A,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),(0,t.jsxs)("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[(0,t.jsx)("div",{children:(0,t.jsxs)("p",{className:"text-sm text-gray-700",children:["Showing ",(0,t.jsx)("span",{className:"font-medium",children:R})," to"," ",(0,t.jsx)("span",{className:"font-medium",children:P})," of"," ",(0,t.jsx)("span",{className:"font-medium",children:D})," results"]})}),(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[y.showPageSizeSelector&&(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("span",{className:"text-sm text-gray-700",children:"Show:"}),(0,t.jsx)("select",{value:j,onChange:e=>{N(Number(e.target.value)),w(1)},className:"border border-gray-300 rounded-md px-2 py-1 text-sm",children:null==(e=y.pageSizeOptions)?void 0:e.map(e=>(0,t.jsx)("option",{value:e,children:e},e))})]}),(0,t.jsxs)("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[(0,t.jsx)("button",{onClick:()=>I(v-1),disabled:1===v,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:(0,t.jsx)(i.ChevronLeft,{className:"h-5 w-5"})}),(()=>{let e=[];if(A<=5)for(let t=1;t<=A;t++)e.push(t);else{let t=Math.max(1,v-2),a=Math.min(A,t+5-1);t>1&&(e.push(1),t>2&&e.push("..."));for(let r=t;r<=a;r++)e.push(r);a<A&&(a<A-1&&e.push("..."),e.push(A))}return e})().map((e,a)=>(0,t.jsx)("button",{onClick:()=>"number"==typeof e&&I(e),disabled:"number"!=typeof e,className:"relative inline-flex items-center px-4 py-2 border text-sm font-medium ".concat(e===v?"z-10 bg-blue-50 border-blue-500 text-blue-600":"..."===e?"bg-white border-gray-300 text-gray-700 cursor-default":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"),children:e},a)),(0,t.jsx)("button",{onClick:()=>I(v+1),disabled:v===A,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:(0,t.jsx)(s.ChevronRight,{className:"h-5 w-5"})})]})]})]})]})};return(0,t.jsx)("div",{className:"bg-white rounded-lg shadow-sm ".concat(d),children:b?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"hidden md:block",children:[(0,t.jsx)(H,{}),y.enabled&&(0,t.jsx)(O,{})]}),(0,t.jsx)("div",{className:"md:hidden",children:(0,t.jsx)(()=>(0,t.jsxs)("div",{className:"space-y-4",children:[F.map((e,a)=>{let r=m.length>0&&m.some(t=>!t.condition||t.condition(e)),n=u.find(e=>"actions"===e.key),i=n&&n.mobileRender;return(0,t.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm relative",children:["top-right"===p&&(r||i)&&(0,t.jsx)("div",{className:"absolute top-3 right-3 z-10",children:i?(null==n?void 0:n.mobileRender)&&n.mobileRender(e[n.key],e,a):(0,t.jsx)("div",{className:"flex flex-wrap gap-1",children:m.map((a,r)=>{if(a.condition&&!a.condition(e))return null;let n=a.icon;return(0,t.jsx)("button",{onClick:()=>a.onClick(e),title:a.title||a.label,className:"inline-flex items-center p-2 border text-sm font-medium rounded-md transition-colors duration-200 ".concat({primary:"bg-blue-50 text-blue-700 border-blue-200 hover:bg-blue-100",secondary:"bg-gray-50 text-gray-700 border-gray-200 hover:bg-gray-100",success:"bg-green-50 text-green-700 border-green-200 hover:bg-green-100",danger:"bg-red-50 text-red-700 border-red-200 hover:bg-red-100",warning:"bg-yellow-50 text-yellow-700 border-yellow-200 hover:bg-yellow-100",info:"bg-blue-50 text-blue-700 border-blue-200 hover:bg-blue-100"}[a.variant]," ").concat(a.className||""),children:(0,t.jsx)(n,{className:"h-4 w-4"})},r)})})}),(0,t.jsxs)("div",{className:"space-y-3 ".concat("top-right"===p&&(r||i)?"pr-16":""),children:[u.map((r,n)=>{if(r.hideOnMobile||"actions"===r.key)return null;let i="index"===r.key?a+1:e[r.key];return(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("div",{className:"text-xs font-medium text-gray-500 mb-1",children:r.label}),(0,t.jsx)("div",{className:"text-sm text-gray-900",children:r.mobileRender?r.mobileRender(i,e,a):r.render?r.render(i,e,a):String(i||"-")})]},n)}),"bottom"===p&&(r||i)&&(0,t.jsx)("div",{className:"pt-3 border-t border-gray-200",children:i?(null==n?void 0:n.mobileRender)&&n.mobileRender(e[n.key],e,a):(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:m.map((a,r)=>{if(a.condition&&!a.condition(e))return null;let n=a.icon;return(0,t.jsxs)("button",{onClick:()=>a.onClick(e),title:a.title||a.label,className:"inline-flex items-center px-3 py-2 border text-sm font-medium rounded-md transition-colors duration-200 ".concat({primary:"bg-blue-50 text-blue-700 border-blue-200",secondary:"bg-gray-50 text-gray-700 border-gray-200",success:"bg-green-50 text-green-700 border-green-200",danger:"bg-red-50 text-red-700 border-red-200",warning:"bg-yellow-50 text-yellow-700 border-yellow-200",info:"bg-blue-50 text-blue-700 border-blue-200"}[a.variant]," ").concat(a.className||""),children:[(0,t.jsx)(n,{className:"h-4 w-4 mr-2"}),a.label]},r)})})})]})]},a)}),L&&(0,t.jsx)("div",{className:"flex justify-center py-6",children:(0,t.jsxs)("div",{className:"flex flex-col items-center space-y-3",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"w-12 h-12 border-4 border-amber-200 rounded-full animate-spin border-t-amber-500"}),(0,t.jsx)("div",{className:"absolute inset-0 w-12 h-12 border-4 border-transparent rounded-full animate-ping border-t-amber-400 opacity-75"})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("p",{className:"text-sm font-medium bg-gradient-to-r from-amber-500 to-yellow-500 bg-clip-text text-transparent",children:"Loading more content..."}),(0,t.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[E.length-F.length," items remaining"]})]}),(0,t.jsx)("div",{className:"w-32 h-1 bg-gray-200 rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:"h-full bg-gradient-to-r from-blue-500 to-purple-500 rounded-full animate-pulse"})})]})}),!L&&F.length>0&&(0,t.jsx)("div",{className:"flex justify-center py-8",children:(0,t.jsxs)("div",{className:"flex flex-col items-center space-y-3",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:(0,t.jsx)("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,t.jsx)("div",{className:"absolute inset-0 w-12 h-12 bg-green-200 rounded-full animate-ping opacity-20"})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"🎉 Selamat! Anda telah memuat semua data"}),(0,t.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Semua ",F.length," item telah ditampilkan"]})]}),(0,t.jsx)("div",{className:"w-24 h-0.5 bg-gradient-to-r from-green-400 to-blue-400 rounded-full"})]})})]}),{})})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(H,{}),y.enabled&&(0,t.jsx)(O,{})]})})}},54808,e=>{"use strict";e.s(["BikeTypeService",()=>i]),e.i(36180);var t=e.i(98925),a=e.i(59141);let r="bike_type_list",n="merk_bike";class i{static async getBikeTypes(){try{let e=await (0,t.getDocs)((0,t.collection)(a.db,r)),n=[];return e.forEach(e=>{n.push({id:e.id,...e.data()})}),n}catch(e){throw console.error("Error getting bike types:",e),Error("Failed to fetch bike types")}}static async getBikeType(e){try{let n=(0,t.doc)(a.db,r,e),i=await (0,t.getDoc)(n);if(i.exists())return{id:i.id,...i.data()};return null}catch(e){throw console.error("Error getting bike type:",e),Error("Failed to fetch bike type")}}static async getBikeTypesByMerk(e){try{let n=(0,t.query)((0,t.collection)(a.db,r),(0,t.where)("bike_merk","==",e),(0,t.orderBy)("bike_type","asc")),i=await (0,t.getDocs)(n),s=[];return i.forEach(e=>{s.push({id:e.id,...e.data()})}),s}catch(e){throw console.error("Error getting bike types by merk:",e),Error("Failed to fetch bike types by merk")}}static async createBikeType(e){try{return(await (0,t.addDoc)((0,t.collection)(a.db,r),e)).id}catch(e){throw console.error("Error creating bike type:",e),Error("Failed to create bike type")}}static async updateBikeType(e,n){try{let i=(0,t.doc)(a.db,r,e);await (0,t.updateDoc)(i,n)}catch(e){throw console.error("Error updating bike type:",e),Error("Failed to update bike type")}}static async deleteBikeType(e){try{let n=(0,t.doc)(a.db,r,e);await (0,t.deleteDoc)(n)}catch(e){throw console.error("Error deleting bike type:",e),Error("Failed to delete bike type")}}static async getUniqueMerks(){try{let e=await (0,t.getDocs)((0,t.collection)(a.db,n)),r=[];return e.forEach(e=>{let t=e.data(),a=t.name||t.id||e.id;a&&r.push(a)}),r.sort()}catch(e){throw console.error("Error getting unique merks:",e),Error("Failed to fetch unique merks")}}static async getBikeTypeNames(){try{let e=(await this.getBikeTypes()).map(e=>e.bike_type).filter(e=>!!e);return[...new Set(e)].sort()}catch(e){throw console.error("Error getting bike type names:",e),Error("Failed to fetch bike type names")}}static async getAllData(e){if(e===r)return this.getBikeTypes();if(e===n)return this.getUniqueMerks();throw Error("Unknown collection: ".concat(e))}static async getDataById(e,t){if(t===r)return this.getBikeType(e);throw Error("Unknown collection: ".concat(t))}static async createData(e,t){if(t===r)return this.createBikeType(e);throw Error("Unknown collection: ".concat(t))}static async updateData(e,t,a){if(a===r)return this.updateBikeType(e,t);throw Error("Unknown collection: ".concat(a))}static async deleteData(e,t){if(t===r)return this.deleteBikeType(e);throw Error("Unknown collection: ".concat(t))}}},87748,e=>{"use strict";e.s(["useBranches",()=>n]);var t=e.i(71645);e.i(36180);var a=e.i(98925),r=e.i(59141);let n=()=>{let[e,n]=(0,t.useState)([]),[i,s]=(0,t.useState)(!0),[l,o]=(0,t.useState)(null),c=async()=>{try{s(!0),o(null);let e=(0,a.collection)(r.db,"branch"),t=(0,a.query)(e,(0,a.orderBy)("name","asc")),i=await (0,a.getDocs)(t),l=[];i.forEach(e=>{var t,a;let r=e.data();l.push({id:e.id,name:r.name||"",address:r.address||"",phone:r.phone||"",urlMaps:r.urlMaps||"",shortenerLink:r.shortenerLink||"",isActive:"active"===r.status,createdAt:null==(t=r.createdAt)?void 0:t.toDate(),updatedAt:null==(a=r.updatedAt)?void 0:a.toDate(),createdBy:r.createdBy,updatedBy:r.updatedBy})}),n(l)}catch(e){console.error("Error fetching branches:",e),o("Failed to fetch branches")}finally{s(!1)}},d=t=>e.find(e=>e.id===t);return(0,t.useEffect)(()=>{c()},[]),{branches:e,activeBranches:e.filter(e=>e.isActive),loading:i,error:l,refetch:c,getBranchById:d,getBranchName:e=>{if(!e)return"Andi Rental";let t=d(e);return(null==t?void 0:t.name)||e}}}},46472,e=>{"use strict";e.s(["default",()=>n]);var t=e.i(43476),a=e.i(64659),r=e.i(87748);let n=e=>{let{value:n,onChange:i,showAllOption:s=!1,placeholder:l="Pilih cabang...",className:o="",onlyActive:c=!0}=e,{branches:d,activeBranches:u,loading:m}=(0,r.useBranches)(),h=[...s?[{id:"all",name:"Semua Cabang"}]:[],...c?u:d];return m?(0,t.jsxs)("div",{className:"relative ".concat(o),children:[(0,t.jsx)("select",{disabled:!0,className:"w-full appearance-none bg-gray-100 border border-gray-300 rounded-md px-3 py-2 pr-8 text-sm text-gray-500",children:(0,t.jsx)("option",{children:"Memuat cabang..."})}),(0,t.jsx)(a.ChevronDown,{className:"absolute right-2 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 pointer-events-none"})]}):(0,t.jsxs)("div",{className:"relative ".concat(o),children:[(0,t.jsx)("select",{value:n,onChange:e=>i(e.target.value),className:"w-full appearance-none bg-white border border-gray-300 rounded-md px-3 py-2 pr-8 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:h.map(e=>(0,t.jsx)("option",{value:e.id,children:e.name},e.id))}),(0,t.jsx)(a.ChevronDown,{className:"absolute right-2 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 pointer-events-none"})]})}},16715,e=>{"use strict";e.s(["RefreshCw",()=>t],16715);let t=(0,e.i(75254).default)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},79500,e=>{"use strict";e.s(["default",()=>n]);var t=e.i(43476),a=e.i(7486),r=e.i(87748);let n=e=>{let{branchId:n,size:i="md",className:s=""}=e,{getBranchName:l}=(0,r.useBranches)(),o=l(n);return(0,t.jsxs)("span",{className:"inline-flex items-center ".concat((()=>{switch(i){case"sm":return"px-2 py-1 text-xs";case"lg":return"px-4 py-2 text-sm";default:return"px-3 py-1.5 text-sm"}})()," rounded-full bg-blue-100 text-blue-800 font-medium ").concat(s),children:[(0,t.jsx)(a.Building2,{className:"h-3 w-3 mr-1"}),o]})}},42920,e=>{"use strict";e.s(["Building",()=>t],42920);let t=(0,e.i(75254).default)("building",[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]])},91318,e=>{"use strict";e.s(["FormModal",()=>r]);var t=e.i(43476),a=e.i(37727);function r(e){let{isOpen:r,onClose:n,title:i,children:s,childrenFooter:l,maxWidth:o="max-w-2xl"}=e;return r?(0,t.jsxs)("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4",onClick:e=>{e.target===e.currentTarget&&n()},children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-black/20 backdrop-blur-sm"}),(0,t.jsxs)("div",{className:"relative bg-white rounded-xl shadow-2xl ".concat(o," w-full mx-4 transform transition-all duration-300 ease-out max-h-[90vh] flex flex-col"),children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 flex-shrink-0",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:i}),(0,t.jsx)("button",{onClick:n,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors","aria-label":"Tutup modal",children:(0,t.jsx)(a.X,{className:"h-5 w-5 text-gray-400"})})]}),(0,t.jsx)("div",{className:"p-6 overflow-y-auto flex-1",children:s}),l&&(0,t.jsx)("div",{className:"flex flex-col sm:flex-row gap-3 p-6 pt-0 border-t border-gray-200 flex-shrink-0",children:l})]})]}):null}},19566,e=>{"use strict";e.s(["ConfirmationModal",()=>n]);var t=e.i(43476),a=e.i(78894),r=e.i(37727);function n(e){let{isOpen:n,onClose:i,onConfirm:s,title:l,message:o,confirmText:c="Ya, Hapus",cancelText:d="Batal",type:u="danger",isLoading:m=!1}=e;if(!n)return null;let h=(()=>{switch(u){case"danger":default:return{icon:"text-red-600",iconBg:"bg-red-100",button:"bg-red-600 hover:bg-red-700 text-white"};case"warning":return{icon:"text-yellow-600",iconBg:"bg-yellow-100",button:"bg-yellow-600 hover:bg-yellow-700 text-white"};case"info":return{icon:"text-blue-600",iconBg:"bg-blue-100",button:"bg-blue-600 hover:bg-blue-700 text-white"}}})();return(0,t.jsxs)("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4",onClick:e=>{e.target===e.currentTarget&&i()},children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-black/20 backdrop-blur-sm"}),(0,t.jsxs)("div",{className:"relative bg-white rounded-xl shadow-2xl max-w-md w-full mx-4 transform transition-all duration-300 ease-out",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 ".concat(h.iconBg," rounded-full flex items-center justify-center"),children:(0,t.jsx)(a.AlertTriangle,{className:"h-5 w-5 ".concat(h.icon)})}),(0,t.jsx)("div",{children:(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:l})})]}),(0,t.jsx)("button",{onClick:i,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors","aria-label":"Tutup modal",disabled:m,children:(0,t.jsx)(r.X,{className:"h-5 w-5 text-gray-400"})})]}),(0,t.jsx)("div",{className:"p-6",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("p",{className:"text-gray-700 mb-4",children:o}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Tindakan ini tidak dapat dibatalkan."})]})}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 p-6 pt-0",children:[(0,t.jsx)("button",{onClick:i,className:"flex-1 px-4 py-2.5 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg font-medium transition-colors",disabled:m,children:d}),(0,t.jsx)("button",{onClick:s,className:"flex-1 px-4 py-2.5 rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed ".concat(h.button),disabled:m,children:m?"Memproses...":c})]})]})]})}},55846,e=>{"use strict";e.s(["default",()=>I],55846);var t=e.i(43476),a=e.i(71645),r=e.i(55436),n=e.i(16715),i=e.i(63209),s=e.i(37727),l=e.i(7233),o=e.i(52962),c=e.i(14812),d=e.i(54808),u=e.i(13893),m=e.i(46472),h=e.i(91318),b=e.i(19566),x=e.i(43782),g=e.i(88511),p=e.i(27612),y=e.i(40921),f=e.i(87316),k=e.i(7486);function v(e,t){let a=t.find(t=>t.id===e);return(null==a?void 0:a.bike_type)||"Unknown Type"}function w(e,t){let a=t.find(t=>t.id===e);return(null==a?void 0:a.bike_merk)||"Unknown Merk"}var j=e.i(51199),N=e.i(79500);function _(e){let{data:a,onEdit:r,onDelete:n,bikeTypes:i,isLoading:s=!1}=e,{isSuperAdmin:l}=(0,o.useAuth)(),c=e=>{let a={available:{bg:"bg-green-100",text:"text-green-800",label:"Tersedia"},being_rented_out:{bg:"bg-blue-100",text:"text-blue-800",label:"Sedang Disewakan"},maintenance:{bg:"bg-red-100",text:"text-red-800",label:"Maintenance"}}[e]||{bg:"bg-gray-100",text:"text-gray-800",label:e||"Unknown"};return(0,t.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(a.bg," ").concat(a.text),children:a.label})},d={columns:[{key:"licence_plat_number",label:"Nomor Kendaraan",render:(e,a)=>(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"h-8 w-8 bg-blue-100 rounded-full flex items-center justify-center mr-3",children:(0,t.jsx)(y.Bike,{className:"h-4 w-4 text-blue-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm font-medium text-gray-900",children:a.licence_plat_number||"-"}),(0,t.jsx)("div",{className:"text-sm text-gray-500",children:w(a.bike_type||"",i)})]})]}),mobileRender:(e,a)=>(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:a.licence_plat_number||"-"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:v(a.bike_type||"",i)})]})},{key:"bike_type",label:"Tipe Motor",render:(e,a)=>(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-sm font-medium text-gray-900",children:v(a.bike_type||"",i)}),(0,t.jsx)("div",{className:"text-sm text-gray-500",children:a.bike_type_name||"-"})]}),mobileRender:(e,a)=>(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)("div",{className:"text-sm text-gray-900",children:v(a.bike_type||"",i)}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"text-xs text-gray-500 font-medium",children:"Merek"}),(0,t.jsx)("div",{className:"text-sm text-gray-900",children:w(a.bike_type||"",i)})]})]})},{key:"bike_year",label:"Tahun Keluaran",render:e=>(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(f.Calendar,{className:"h-4 w-4 text-gray-400 mr-2"}),(0,t.jsx)("span",{className:"text-sm text-gray-900",children:String(e||"-")})]}),mobileRender:e=>(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(f.Calendar,{className:"h-3 w-3 mr-1"}),(0,t.jsx)("span",{className:"text-sm text-gray-900",children:String(e||"-")})]})},{key:"status",label:"Status",render:e=>c(String(e||"")),mobileRender:e=>c(String(e||""))},{key:"branchId",label:"Cabang",render:(e,a)=>(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(k.Building2,{className:"h-4 w-4 text-gray-400 mr-2"}),(0,t.jsx)(N.default,{branchId:a.branchId,size:"sm"})]}),mobileRender:(e,a)=>(0,t.jsx)(N.default,{branchId:a.branchId,size:"sm"}),hideOnMobile:!l()}],actions:[{key:"edit",label:"Edit",icon:g.Edit,variant:"primary",onClick:r,title:"Edit bike"},{key:"delete",label:"Delete",icon:p.Trash2,variant:"danger",onClick:n,title:"Delete bike"}],showRowNumbers:!0,responsive:!0,loading:s,emptyState:{icon:y.Bike,title:"Tidak ada data ditemukan",description:"Coba sesuaikan kriteria pencarian atau filter Anda."}};return(0,t.jsx)(j.CustomTable,{data:a,config:d,isLoading:s})}var B=e.i(86993),C=e.i(96945),S=e.i(53145),T=e.i(80202);e.i(65652);var E=e.i(21125),M=e.i(99683);let D=M.object({licencePlatNumber:M.string().required("Nomor kendaraan wajib diisi").min(2,"Nomor kendaraan minimal 2 karakter").max(20,"Nomor kendaraan maksimal 20 karakter"),bikeType:M.string().required("Tipe motor wajib dipilih"),bikeYear:M.string().required("Tahun keluaran motor wajib dipilih"),branchId:M.string().optional().default("")});var A=e.i(42920),R=e.i(64659);let P=e=>{let{onSubmit:a,onCancel:r,initialData:n,availableBikeTypes:i,isEditing:s=!1,isLoading:l=!1}=e,{isSuperAdmin:c,getCurrentBranchId:d}=(0,o.useAuth)(),{control:u,handleSubmit:h,formState:{errors:b,isSubmitting:x},setError:g,clearErrors:p}=(0,S.useForm)({resolver:(0,T.yupResolver)(D),defaultValues:{licencePlatNumber:(null==n?void 0:n.licencePlatNumber)||"",bikeType:(null==n?void 0:n.bikeType)||"",bikeYear:(null==n?void 0:n.bikeYear)||"",branchId:(null==n?void 0:n.branchId)||(c()?"":d()||"")},mode:"onChange"}),k=i.filter(e=>e.id&&e.bike_type).map(e=>({value:e.id,label:e.bike_type})),v=(function(){let e=new Date().getFullYear(),t=[];for(let a=0;a<20;a++)t.push(String(e-a));return t})().map(e=>({value:e,label:e}));return(0,t.jsxs)("form",{onSubmit:h(e=>{(c()&&!e.branchId?(g("branchId",{type:"manual",message:"Cabang wajib dipilih untuk Super Admin"}),1):(p("branchId"),0))||a(e)}),className:"space-y-6",children:[(0,t.jsx)(S.Controller,{name:"licencePlatNumber",control:u,render:e=>{let{field:a}=e;return(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(y.Bike,{className:"h-4 w-4 mr-2 text-blue-600"}),"Nomor Kendaraan *"]})}),(0,t.jsx)("input",{...a,type:"text",className:"w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors hover:border-gray-400 ".concat(b.licencePlatNumber?"border-red-300 bg-red-50":"border-gray-300"),placeholder:"Masukkan nomor kendaraan"}),b.licencePlatNumber&&(0,t.jsx)("p",{className:"mt-1 text-sm text-red-600",children:b.licencePlatNumber.message})]})}}),(0,t.jsx)(S.Controller,{name:"bikeType",control:u,render:e=>{var a;let{field:r}=e;return(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(y.Bike,{className:"h-4 w-4 mr-2 text-blue-600"}),"Tipe Motor *"]})}),(0,t.jsx)(E.Combobox,{...r,options:k,placeholder:"Pilih tipe motor",searchPlaceholder:"Cari tipe motor...",error:null==(a=b.bikeType)?void 0:a.message,required:!0})]})}}),(0,t.jsx)(S.Controller,{name:"bikeYear",control:u,render:e=>{let{field:a}=e;return(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(f.Calendar,{className:"h-4 w-4 mr-2 text-blue-600"}),"Tahun Keluaran Motor *"]})}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsxs)("select",{...a,className:"w-full appearance-none bg-white border rounded-lg px-4 py-3 pr-8 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors hover:border-gray-400 ".concat(b.bikeYear?"border-red-300 bg-red-50":"border-gray-300"),children:[(0,t.jsx)("option",{value:"",children:"Pilih tahun keluaran"}),v.map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},e.value))]}),(0,t.jsx)(R.ChevronDown,{className:"absolute right-2 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 pointer-events-none"})]}),b.bikeYear&&(0,t.jsx)("p",{className:"mt-1 text-sm text-red-600",children:b.bikeYear.message})]})}}),c()?(0,t.jsx)(S.Controller,{name:"branchId",control:u,render:e=>{let{field:a}=e;return(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)(A.Building,{className:"h-4 w-4 mr-2 text-blue-600"}),"Cabang *"]})}),(0,t.jsx)(m.default,{value:a.value||"",onChange:a.onChange,placeholder:"Pilih cabang...",className:"w-full"}),b.branchId&&(0,t.jsx)("p",{className:"mt-1 text-sm text-red-600",children:b.branchId.message})]})}}):(0,t.jsx)(S.Controller,{name:"branchId",control:u,render:e=>{let{field:a}=e;return(0,t.jsx)("input",{type:"hidden",...a,value:d()||""})}}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 pt-4",children:[(0,t.jsx)("button",{type:"button",onClick:r,className:"flex-1 px-4 py-2.5 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg font-medium transition-colors",disabled:x||l,children:"Batal"}),(0,t.jsx)("button",{type:"submit",className:"flex-1 px-4 py-2.5 text-white bg-green-600 hover:bg-green-700 rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:x||l,children:x||l?"Menyimpan...":s?"Simpan Perubahan":"Simpan"})]})]})};function I(){let{userRole:e,isSuperAdmin:g,getCurrentBranchId:p,loading:y}=(0,o.useAuth)(),[f,k]=(0,a.useState)([]),[w,j]=(0,a.useState)([]),[N,S]=(0,a.useState)(!0),[T,E]=(0,a.useState)(null),[M,D]=(0,a.useState)(""),[A,R]=(0,a.useState)("all"),[I,F]=(0,a.useState)(!1),[L,z]=(0,a.useState)(!1),[H,O]=(0,a.useState)(null),[U,q]=(0,a.useState)(!1),[Y,K]=(0,a.useState)(!1),[J,W]=(0,a.useState)({title:"",message:"",type:"success"}),[X,V]=(0,a.useState)([]),G=null!=e&&!!e.role&&(0,u.canAccessFeature)(e.role,[1,3]),Z=p(),Q=g(),$=async()=>{try{S(!0),E(null),console.log("Loading bikes with params:",{currentBranchId:Z,isSuperAdminUser:Q,branchFilter:A,userRole:null==e?void 0:e.role});let t=await c.BikeService.getBikes({searchTerm:"",filterType:"all",filterStatus:"all",filterYear:"all",filterRentType:"all",filterBranch:"all"!==A?A:void 0},Z,Q);console.log("Loaded bikes:",t.length,"bikes"),console.log("Bikes data:",t.map(e=>({id:e.id,branchId:e.branchId,licence_plat_number:e.licence_plat_number}))),k(t)}catch(e){E("Failed to load bikes. Please try again."),console.error("Error loading bikes:",e)}finally{S(!1)}},ee=async()=>{try{if(0===X.length){let e=await d.BikeTypeService.getBikeTypes();V(e)}}catch(e){console.error("Error loading bike types:",e)}},et=(e,t,a)=>{W({title:e,message:t,type:a}),K(!0)};if((0,a.useEffect)(()=>{G&&ee()},[G]),(0,a.useEffect)(()=>{G&&$()},[G,A]),(0,a.useEffect)(()=>{let e=[...f];if(M){let t=M.toLowerCase();e=e.filter(e=>{var a,r;return(null==(a=e.licence_plat_number)?void 0:a.toLowerCase().includes(t))||(null==(r=e.bike_type_name)?void 0:r.toLowerCase().includes(t))||v(e.bike_type||"",X.filter(e=>e.id&&e.bike_type).map(e=>({id:e.id,bike_type:e.bike_type}))).toLowerCase().includes(t)||String(e.bike_year||"").includes(t)})}j(e)},[f,M]),y)return(0,t.jsx)(B.default,{message:"Memuat Data Motor...",size:"xl",fullscreen:!0,showProgress:!1});let ea=async e=>{try{S(!0);let t=e.branchId||Z;console.log("Saving bike with data:",{formData:e,currentBranchId:Z,finalBranchId:t,isSuperAdmin:Q});let a={licence_plat_number:e.licencePlatNumber,bike_type:e.bikeType,bike_type_name:v(e.bikeType,X.filter(e=>e.id&&e.bike_type).map(e=>({id:e.id,bike_type:e.bike_type}))),bike_year:e.bikeYear,branch:t,rental_rate:null,renter_name:null,renter_address:null,phone_number:null,phone_number_emergency:null,rent_type:null,start_date_rent:null,rent_duration:null,security_deposit:null,status:"available"};U&&(null==H?void 0:H.id)?(await c.BikeService.updateBike(H.id,a),et("Berhasil","Data kendaraan berhasil diubah","success")):(await c.BikeService.createBike(a),et("Berhasil","Data kendaraan berhasil ditambahkan","success")),await $(),F(!1),O(null),q(!1)}catch(e){console.error("Error saving bike:",e),et("Error","Terjadi masalah saat menyimpan data, silahkan hubungi admin","error")}finally{S(!1)}},er=async()=>{if(null==H?void 0:H.id)try{S(!0),await c.BikeService.deleteBike(H.id),et("Berhasil","Data kendaraan berhasil dihapus","success"),await $(),z(!1),O(null)}catch(e){console.error("Error deleting bike:",e),et("Error","Gagal menghapus data, silahkan hubungi admin","error")}finally{S(!1)}},en=()=>{F(!1),O(null),q(!1)};return G?(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Daftar Motor Rental"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Kelola inventori dan detail motor rental lengkap"})]}),(0,t.jsxs)("div",{className:"mt-4 sm:mt-0 flex space-x-3",children:[(0,t.jsxs)("button",{onClick:$,disabled:N,className:"inline-flex items-center px-3 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:[(0,t.jsx)(n.RefreshCw,{className:"h-4 w-4 mr-2 ".concat(N?"animate-spin":"")}),N?"Memperbarui...":"Perbarui"]}),(0,t.jsxs)("button",{onClick:()=>{O(null),q(!1),F(!0)},className:"inline-flex items-center px-4 py-2 bg-gradient-to-r from-amber-500 to-yellow-500 text-white rounded-md hover:from-amber-600 hover:to-yellow-600 focus:outline-none focus:ring-2 focus:ring-amber-500 focus:ring-offset-2 transition-colors",children:[(0,t.jsx)(l.Plus,{className:"h-5 w-5 mr-2"}),"Tambah Motor"]})]})]}),T&&(0,t.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)(i.AlertCircle,{className:"h-5 w-5 text-red-400"}),(0,t.jsx)("div",{className:"ml-3",children:(0,t.jsx)("p",{className:"text-sm text-red-800",children:T})}),(0,t.jsx)("div",{className:"ml-auto pl-3",children:(0,t.jsx)("button",{className:"text-red-400 hover:text-red-600",children:(0,t.jsx)(s.X,{className:"h-5 w-5"})})})]})}),(0,t.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(r.Search,{className:"h-5 w-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),(0,t.jsx)("input",{type:"text",placeholder:"Cari berdasarkan nomor kendaraan, tipe motor, tahun...",value:M,onChange:e=>D(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500"})]}),Q&&(0,t.jsx)(m.default,{value:A,onChange:R,showAllOption:!0,placeholder:"Pilih cabang...",className:"w-full"})]})}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[(0,t.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,t.jsxs)("h3",{className:"text-lg font-medium text-gray-900",children:["List Kendaraan (",w.length,")"]})}),(0,t.jsx)(_,{data:w,onEdit:e=>{O(e),q(!0),F(!0)},onDelete:e=>{O(e),z(!0)},bikeTypes:X.filter(e=>e.id&&e.bike_type&&e.bike_merk).map(e=>({id:e.id,bike_type:e.bike_type,bike_merk:e.bike_merk})),isLoading:N})]}),(0,t.jsx)(h.FormModal,{isOpen:I,onClose:en,title:U?"Edit Penyediaan Motor":"Tambah Penyediaan Motor",maxWidth:"max-w-lg",children:(0,t.jsx)(P,{onSubmit:ea,onCancel:en,initialData:H?{licencePlatNumber:H.licence_plat_number||"",bikeType:H.bike_type||"",bikeYear:H.bike_year||"",branchId:H.branchId||""}:void 0,availableBikeTypes:X,isEditing:U,isLoading:N})}),(0,t.jsx)(b.ConfirmationModal,{isOpen:L,onClose:()=>{z(!1),O(null)},onConfirm:er,title:"Konfirmasi Hapus",message:'Apakah Anda yakin ingin menghapus motor "'.concat(null==H?void 0:H.licence_plat_number,'"?'),confirmText:"Ya, Hapus",cancelText:"Batal",type:"danger",isLoading:N}),(0,t.jsx)(x.AlertModal,{isOpen:Y,onClose:()=>K(!1),title:J.title,message:J.message,type:J.type}),(0,t.jsx)(C.default,{})]}):(0,t.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)(i.AlertCircle,{className:"h-16 w-16 text-red-500 mx-auto mb-4"}),(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Access Denied"}),(0,t.jsx)("p",{className:"text-gray-600",children:"You don't have permission to access this page."}),(0,t.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Required roles: Super Admin (1) or Operation (3)"})]})})}}]);