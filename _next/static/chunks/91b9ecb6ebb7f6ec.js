(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,63209,e=>{"use strict";e.s(["AlertCircle",()=>t],63209);let t=(0,e.i(75254).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},69638,e=>{"use strict";e.s(["CheckCircle",()=>t],69638);let t=(0,e.i(75254).default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},2849,e=>{"use strict";e.s(["SelectDropdown",()=>r]);var t=e.i(43476),a=e.i(64659);function r(e){let{value:r,onChange:s,options:n,placeholder:i="Pilih...",icon:l,className:o=""}=e;return(0,t.jsxs)("div",{className:"relative ".concat(o),children:[l&&(0,t.jsx)("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 pointer-events-none",children:l}),(0,t.jsxs)("select",{value:r,onChange:e=>s(e.target.value),className:"w-full border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 text-sm appearance-none bg-white hover:border-gray-400 ".concat(l?"pl-10 pr-10 py-2.5":"px-3 py-2.5 pr-10"),children:[(0,t.jsx)("option",{value:"",disabled:!0,children:i}),n.map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},e.value))]}),(0,t.jsx)(a.ChevronDown,{className:"h-4 w-4 absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 pointer-events-none"})]})}},87130,18342,e=>{"use strict";e.s(["Filter",()=>t],87130);let t=(0,e.i(75254).default)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]);e.s(["SearchField",()=>s],18342);var a=e.i(43476),r=e.i(55436);function s(e){let{value:t,onChange:s,placeholder:n="Cari...",className:i=""}=e;return(0,a.jsxs)("div",{className:"relative ".concat(i),children:[(0,a.jsx)(r.Search,{className:"h-5 w-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 pointer-events-none"}),(0,a.jsx)("input",{type:"text",placeholder:n,value:t,onChange:e=>s(e.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 text-sm placeholder-gray-500 hover:border-gray-400"})]})}},87748,e=>{"use strict";e.s(["useBranches",()=>s]);var t=e.i(71645);e.i(36180);var a=e.i(98925),r=e.i(59141);let s=()=>{let[e,s]=(0,t.useState)([]),[n,i]=(0,t.useState)(!0),[l,o]=(0,t.useState)(null),c=async()=>{try{i(!0),o(null);let e=(0,a.collection)(r.db,"branch"),t=(0,a.query)(e,(0,a.orderBy)("name","asc")),n=await (0,a.getDocs)(t),l=[];n.forEach(e=>{var t,a;let r=e.data();l.push({id:e.id,name:r.name||"",address:r.address||"",phone:r.phone||"",urlMaps:r.urlMaps||"",shortenerLink:r.shortenerLink||"",isActive:"active"===r.status,createdAt:null==(t=r.createdAt)?void 0:t.toDate(),updatedAt:null==(a=r.updatedAt)?void 0:a.toDate(),createdBy:r.createdBy,updatedBy:r.updatedBy})}),s(l)}catch(e){console.error("Error fetching branches:",e),o("Failed to fetch branches")}finally{i(!1)}},d=t=>e.find(e=>e.id===t);return(0,t.useEffect)(()=>{c()},[]),{branches:e,activeBranches:e.filter(e=>e.isActive),loading:n,error:l,refetch:c,getBranchById:d,getBranchName:e=>{if(!e)return"Andi Rental";let t=d(e);return(null==t?void 0:t.name)||e}}}},46472,e=>{"use strict";e.s(["default",()=>s]);var t=e.i(43476),a=e.i(64659),r=e.i(87748);let s=e=>{let{value:s,onChange:n,showAllOption:i=!1,placeholder:l="Pilih cabang...",className:o="",onlyActive:c=!0}=e,{branches:d,activeBranches:u,loading:m}=(0,r.useBranches)(),h=[...i?[{id:"all",name:"Semua Cabang"}]:[],...c?u:d];return m?(0,t.jsxs)("div",{className:"relative ".concat(o),children:[(0,t.jsx)("select",{disabled:!0,className:"w-full appearance-none bg-gray-100 border border-gray-300 rounded-md px-3 py-2 pr-8 text-sm text-gray-500",children:(0,t.jsx)("option",{children:"Memuat cabang..."})}),(0,t.jsx)(a.ChevronDown,{className:"absolute right-2 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 pointer-events-none"})]}):(0,t.jsxs)("div",{className:"relative ".concat(o),children:[(0,t.jsx)("select",{value:s,onChange:e=>n(e.target.value),className:"w-full appearance-none bg-white border border-gray-300 rounded-md px-3 py-2 pr-8 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:h.map(e=>(0,t.jsx)("option",{value:e.id,children:e.name},e.id))}),(0,t.jsx)(a.ChevronDown,{className:"absolute right-2 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400 pointer-events-none"})]})}},54808,e=>{"use strict";e.s(["BikeTypeService",()=>n]),e.i(36180);var t=e.i(98925),a=e.i(59141);let r="bike_type_list",s="merk_bike";class n{static async getBikeTypes(){try{let e=await (0,t.getDocs)((0,t.collection)(a.db,r)),s=[];return e.forEach(e=>{s.push({id:e.id,...e.data()})}),s}catch(e){throw console.error("Error getting bike types:",e),Error("Failed to fetch bike types")}}static async getBikeType(e){try{let s=(0,t.doc)(a.db,r,e),n=await (0,t.getDoc)(s);if(n.exists())return{id:n.id,...n.data()};return null}catch(e){throw console.error("Error getting bike type:",e),Error("Failed to fetch bike type")}}static async getBikeTypesByMerk(e){try{let s=(0,t.query)((0,t.collection)(a.db,r),(0,t.where)("bike_merk","==",e),(0,t.orderBy)("bike_type","asc")),n=await (0,t.getDocs)(s),i=[];return n.forEach(e=>{i.push({id:e.id,...e.data()})}),i}catch(e){throw console.error("Error getting bike types by merk:",e),Error("Failed to fetch bike types by merk")}}static async createBikeType(e){try{return(await (0,t.addDoc)((0,t.collection)(a.db,r),e)).id}catch(e){throw console.error("Error creating bike type:",e),Error("Failed to create bike type")}}static async updateBikeType(e,s){try{let n=(0,t.doc)(a.db,r,e);await (0,t.updateDoc)(n,s)}catch(e){throw console.error("Error updating bike type:",e),Error("Failed to update bike type")}}static async deleteBikeType(e){try{let s=(0,t.doc)(a.db,r,e);await (0,t.deleteDoc)(s)}catch(e){throw console.error("Error deleting bike type:",e),Error("Failed to delete bike type")}}static async getUniqueMerks(){try{let e=await (0,t.getDocs)((0,t.collection)(a.db,s)),r=[];return e.forEach(e=>{let t=e.data(),a=t.name||t.id||e.id;a&&r.push(a)}),r.sort()}catch(e){throw console.error("Error getting unique merks:",e),Error("Failed to fetch unique merks")}}static async getBikeTypeNames(){try{let e=(await this.getBikeTypes()).map(e=>e.bike_type).filter(e=>!!e);return[...new Set(e)].sort()}catch(e){throw console.error("Error getting bike type names:",e),Error("Failed to fetch bike type names")}}static async getAllData(e){if(e===r)return this.getBikeTypes();if(e===s)return this.getUniqueMerks();throw Error("Unknown collection: ".concat(e))}static async getDataById(e,t){if(t===r)return this.getBikeType(e);throw Error("Unknown collection: ".concat(t))}static async createData(e,t){if(t===r)return this.createBikeType(e);throw Error("Unknown collection: ".concat(t))}static async updateData(e,t,a){if(a===r)return this.updateBikeType(e,t);throw Error("Unknown collection: ".concat(a))}static async deleteData(e,t){if(t===r)return this.deleteBikeType(e);throw Error("Unknown collection: ".concat(t))}}},14812,e=>{"use strict";e.s(["BikeService",()=>n]),e.i(36180);var t=e.i(98925),a=e.i(59141);let r="bike_list",s="history_bike_list";class n{static async getBikes(e,s){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{let i=await (0,t.getDocs)((0,t.collection)(a.db,r)),l=[];i.forEach(e=>{let t=e.data();l.push({id:e.id,branchId:t.branch||null,...t})});let o=l;if(!n&&s?o=o.filter(e=>e.branchId===s||null===e.branchId&&"andi-rental"===s):n||s||(o=[]),n&&(null==e?void 0:e.filterBranch)&&"all"!==e.filterBranch&&(o=o.filter(t=>t.branchId===e.filterBranch||null===t.branchId&&"andi-rental"===e.filterBranch)),null==e?void 0:e.searchTerm){let t=e.searchTerm.toLowerCase();o=o.filter(e=>{var a,r,s,n;return(null==(a=e.renter_name)?void 0:a.toLowerCase().includes(t))||(null==(r=e.licence_plat_number)?void 0:r.toLowerCase().includes(t))||(null==(s=e.bike_type_name)?void 0:s.toLowerCase().includes(t))||(null==(n=e.phone_number)?void 0:n.includes(t))})}return o}catch(e){throw console.error("Error getting bikes:",e),Error("Failed to fetch bikes")}}static async getBikesByStatus(e){try{let s=(0,t.query)((0,t.collection)(a.db,r),(0,t.where)("status","==",e)),n=await (0,t.getDocs)(s),i=[];return n.forEach(e=>{i.push({id:e.id,...e.data()})}),i}catch(e){throw console.error("Error getting bikes by status:",e),Error("Failed to fetch bikes by status")}}static async getMaintenanceBikes(){return this.getBikesByStatus("maintenance")}static async getAvailableBikes(){return this.getBikesByStatus("available")}static async getRentedBikes(){return this.getBikesByStatus("being_rented_out")}static async getBike(e){try{let s=(0,t.doc)(a.db,r,e),n=await (0,t.getDoc)(s);if(n.exists())return{id:n.id,...n.data()};return null}catch(e){throw console.error("Error getting bike:",e),Error("Failed to fetch bike")}}static async updateBikeStatus(e,s){try{let n=(0,t.doc)(a.db,r,e);await (0,t.updateDoc)(n,{status:s})}catch(e){throw console.error("Error updating bike status:",e),Error("Failed to update bike status")}}static async updateBikeForMaintenance(e,s){try{let n=(0,t.doc)(a.db,r,e);await (0,t.updateDoc)(n,{status:s})}catch(e){throw console.error("Error updating bike for maintenance:",e),Error("Failed to update bike for maintenance")}}static async createBikeRental(e){try{return(await (0,t.addDoc)((0,t.collection)(a.db,r),e)).id}catch(e){throw console.error("Error creating bike rental:",e),Error("Failed to create bike rental")}}static async createBike(e){return this.createBikeRental(e)}static async updateBikeRental(e,s){try{let n=(0,t.doc)(a.db,r,e);await (0,t.updateDoc)(n,s)}catch(e){throw console.error("Error updating bike rental:",e),Error("Failed to update bike rental")}}static async updateBike(e,t){return this.updateBikeRental(e,t)}static async moveBikeToHistory(e,r){try{let n={...e,status:r,movedAt:(0,t.serverTimestamp)()};return(await (0,t.addDoc)((0,t.collection)(a.db,s),n)).id}catch(e){throw console.error("Error moving bike to history:",e),Error("Failed to move bike to history")}}static async deleteBike(e){try{let s=(0,t.doc)(a.db,r,e);await (0,t.deleteDoc)(s)}catch(e){throw console.error("Error deleting bike:",e),Error("Failed to delete bike")}}static async finishRental(e,t){try{let a=await this.getBike(e);if(!a)throw Error("Bike not found");await this.moveBikeToHistory(a,"returned");let r={status:"available",rental_rate:null,renter_name:null,renter_address:null,phone_number:null,phone_number_emergency:null,rent_type:null,start_date_rent:null,total_helm:null,security_deposit:null,rent_duration:null,additional_payment:null,total_payment:null,dropoff_time:null,...t};await this.updateBikeRental(e,r)}catch(e){throw console.error("Error finishing rental:",e),Error("Failed to finish rental")}}static async extendRental(e,t,a,r){try{let s=await this.getBike(e);if(!s)throw Error("Bike not found");await this.moveBikeToHistory(s,"extend");let n=new Date(s.start_date_rent),i=parseInt(s.rent_duration),l={start_date_rent:new Date(n.getTime()+24*i*36e5).toISOString(),rent_duration:t,additional_payment:a,status:"not_paid"===r?"extendNotPayment":"being_rented_out"};await this.updateBikeRental(e,l)}catch(e){throw console.error("Error extending rental:",e),Error("Failed to extend rental")}}static async getAllData(e){if(e===r)return this.getBikes();if(e===s){let e=await (0,t.getDocs)((0,t.collection)(a.db,s)),r=[];return e.forEach(e=>{r.push({id:e.id,...e.data()})}),r}throw Error("Unknown collection: ".concat(e))}static async getDataById(e,t){if(t===r)return this.getBike(e);throw Error("Unknown collection: ".concat(t))}static async createData(e,t){if(t===r)return this.createBikeRental(e);if(t===s)return this.moveBikeToHistory(e,e.status||"unknown");throw Error("Unknown collection: ".concat(t))}static async updateData(e,t,a){if(a===r)return this.updateBikeRental(e,t);throw Error("Unknown collection: ".concat(a))}static async getMaintenanceStats(){try{let e=await this.getBikes();return{total:e.length,maintenance:e.filter(e=>"maintenance"===e.status).length,available:e.filter(e=>"available"===e.status).length,rented:e.filter(e=>"being_rented_out"===e.status).length}}catch(e){throw console.error("Error getting maintenance stats:",e),Error("Failed to fetch maintenance statistics")}}static async getBikeStats(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{let a=await this.getBikes(void 0,e,t),r=a.reduce((e,t)=>{let a=t.status||"unknown";return e[a]=(e[a]||0)+1,e},{}),s=a.reduce((e,t)=>{let a=t.rent_type||"unknown";return e[a]=(e[a]||0)+1,e},{});return{total:a.length,available:r.available||0,rented:r.being_rented_out||0,maintenance:r.maintenance||0,sold:r.sold||0,daily:s.days||0,weekly:s.weeks||0,monthly:s.months||0}}catch(e){throw console.error("Error getting bike statistics:",e),Error("Failed to fetch bike statistics")}}static async getBikesByBranch(e){try{let s=await (0,t.getDocs)((0,t.collection)(a.db,r)),n=[];return s.forEach(t=>{let a=t.data(),r={id:t.id,branchId:a.branch||null,...a};(r.branchId===e||null===r.branchId&&"andi-rental"===e)&&n.push(r)}),n}catch(e){throw console.error("Error getting bikes by branch:",e),Error("Failed to fetch bikes by branch")}}static async getBranchStats(e){try{let t=e?await this.getBikesByBranch(e):await this.getBikes(),a=t.reduce((e,t)=>{let a=t.status||"unknown";return e[a]=(e[a]||0)+1,e},{}),r=t.reduce((e,t)=>{let a=t.rent_type||"unknown";return e[a]=(e[a]||0)+1,e},{});return{total:t.length,available:a.available||0,rented:a.being_rented_out||0,maintenance:a.maintenance||0,sold:a.sold||0,daily:r.days||0,weekly:r.weeks||0,monthly:r.months||0}}catch(e){throw console.error("Error getting branch stats:",e),Error("Failed to fetch branch statistics")}}}},55900,e=>{"use strict";e.s(["ChevronUp",()=>t],55900);let t=(0,e.i(75254).default)("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]])},55436,e=>{"use strict";e.s(["Search",()=>t],55436);let t=(0,e.i(75254).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},96945,e=>{"use strict";e.s(["default",()=>s]);var t=e.i(43476),a=e.i(71645),r=e.i(55900);let s=function(e){let{threshold:s=300,className:n="",position:i="left"}=e,[l,o]=(0,a.useState)(!1);return((0,a.useEffect)(()=>{let e=()=>{o(window.scrollY>s)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[s]),l)?(0,t.jsxs)("button",{onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})},className:"fixed bottom-6 z-50 bg-gradient-to-r from-amber-500 to-yellow-500 hover:from-amber-600 hover:to-yellow-600 text-white p-3 rounded-full shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-110 group ".concat("left"===i?"left-6":"right-6"," ").concat(n),"aria-label":"Scroll to top",children:[(0,t.jsx)(r.ChevronUp,{className:"w-5 h-5"}),(0,t.jsxs)("div",{className:"absolute left-full ml-3 top-1/2 transform -translate-y-1/2 bg-gray-900 text-white text-sm px-3 py-2 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300 whitespace-nowrap pointer-events-none",children:["Scroll to top",(0,t.jsx)("div",{className:"absolute right-full top-1/2 transform -translate-y-1/2 border-4 border-transparent border-r-gray-900"})]})]}):null}},51199,e=>{"use strict";e.s(["CustomTable",()=>l]);var t=e.i(43476),a=e.i(71645),r=e.i(55900),s=e.i(64659),n=e.i(73375),i=e.i(63059);function l(e){let{data:l,config:o,isLoading:c=!1,className:d=""}=e,{columns:u,actions:m=[],showRowNumbers:h=!1,responsive:x=!0,loading:b=!1,emptyState:g,mobileActionsPosition:p="bottom",pagination:y={enabled:!1,pageSize:10,pageSizeOptions:[5,10,25,50],showPageSizeSelector:!0}}=o,[f,v]=(0,a.useState)({key:null,direction:"asc"}),[k,w]=(0,a.useState)(1),[j,N]=(0,a.useState)(y.pageSize||10),[_,B]=(0,a.useState)(1),[E]=(0,a.useState)(10),[C,S]=(0,a.useState)(!1),T=(0,a.useMemo)(()=>f.key?[...l].sort((e,t)=>{let a=u.find(e=>e.key===f.key),r=(null==a?void 0:a.sortKey)||f.key,s=e[r],n=t[r];return("string"==typeof s&&"string"==typeof n&&(s=s.toLowerCase(),n=n.toLowerCase()),s<n)?"asc"===f.direction?-1:1:s>n?"asc"===f.direction?1:-1:0}):l,[l,f,u]),M=(0,a.useMemo)(()=>{if(!y.enabled)return T;let e=(k-1)*j,t=e+j;return T.slice(e,t)},[T,k,j,y.enabled]),D=T.length,L=Math.ceil(D/j),A=(k-1)*j+1,R=Math.min(k*j,D),F=e=>{w(e)},O=(0,a.useMemo)(()=>T.slice(0,_*E),[T,_,E]),z=O.length<T.length,I=(0,a.useCallback)(()=>{!C&&z&&(S(!0),setTimeout(()=>{B(e=>e+1),S(!1)},1500))},[C,z]);if((0,a.useEffect)(()=>{let e=()=>{if(!z||C)return;let e=window.pageYOffset||document.documentElement.scrollTop,t=window.innerHeight;e+t>=document.documentElement.scrollHeight-200&&I()};return window.addEventListener("scroll",e,{passive:!0}),()=>{window.removeEventListener("scroll",e)}},[z,C,I]),b||c)return(0,t.jsx)("div",{className:"bg-white rounded-lg shadow-sm ".concat(d),children:(0,t.jsx)("div",{className:"p-6",children:(0,t.jsxs)("div",{className:"animate-pulse",children:[(0,t.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/4 mb-4"}),(0,t.jsx)("div",{className:"space-y-3",children:[void 0,void 0,void 0,void 0,void 0].map((e,a)=>(0,t.jsx)("div",{className:"h-4 bg-gray-200 rounded"},a))})]})})});if(!l||0===l.length){let e=null==g?void 0:g.icon;return(0,t.jsx)("div",{className:"bg-white rounded-lg shadow-sm ".concat(d),children:(0,t.jsxs)("div",{className:"p-12 text-center",children:[e&&(0,t.jsx)(e,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:(null==g?void 0:g.title)||"Tidak ada data"}),(0,t.jsx)("p",{className:"text-gray-500",children:(null==g?void 0:g.description)||"Belum ada data yang tersedia."})]})})}let P=()=>(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,t.jsx)("thead",{className:"bg-gray-50",children:(0,t.jsxs)("tr",{children:[h&&(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"No"}),u.map((e,a)=>(0,t.jsx)("th",{className:"px-6 py-3 text-".concat(e.align||"left"," text-xs font-medium text-gray-500 uppercase tracking-wider ").concat(e.width?"w-".concat(e.width):""," ").concat(!1!==e.sortable?"cursor-pointer hover:bg-gray-100 select-none":""),onClick:()=>{var t;return!1!==e.sortable&&(t=e.key,void v(e=>({key:t,direction:e.key===t&&"asc"===e.direction?"desc":"asc"})))},children:(0,t.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,t.jsx)("span",{children:e.label}),!1!==e.sortable&&(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)(r.ChevronUp,{className:"h-3 w-3 ".concat(f.key===e.key&&"asc"===f.direction?"text-gray-900":"text-gray-400")}),(0,t.jsx)(s.ChevronDown,{className:"h-3 w-3 -mt-1 ".concat(f.key===e.key&&"desc"===f.direction?"text-gray-900":"text-gray-400")})]})]})},a)),m.length>0&&(0,t.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aksi"})]})}),(0,t.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:M.map((e,a)=>(0,t.jsxs)("tr",{className:"hover:bg-gray-50",children:[h&&(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:y.enabled?A+a:a+1}),u.map((r,s)=>{let n="index"===r.key?a+1:e[r.key];return(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 text-".concat(r.align||"left"),children:r.render?r.render(n,e,a):String(n||"-")},s)}),m.length>0&&(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,t.jsx)("div",{className:"flex items-center justify-end space-x-2",children:m.map((a,r)=>{if(a.condition&&!a.condition(e))return null;let s=a.icon;return(0,t.jsxs)("button",{onClick:()=>a.onClick(e),title:a.title||a.label,className:"inline-flex items-center px-3 py-1 border border-transparent text-sm font-medium rounded-md transition-colors duration-200 ".concat({primary:"text-blue-600 hover:text-blue-900",secondary:"text-gray-600 hover:text-gray-900",success:"text-green-600 hover:text-green-900",danger:"text-red-600 hover:text-red-900",warning:"text-yellow-600 hover:text-yellow-900",info:"text-blue-600 hover:text-blue-900"}[a.variant]," ").concat(a.className||""),children:[(0,t.jsx)(s,{className:"h-4 w-4 mr-1"}),(0,t.jsx)("span",{className:"hidden sm:inline",children:a.label})]},r)})})})]},a))})]})}),U=()=>{var e;return!y.enabled||L<=1?null:(0,t.jsxs)("div",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6",children:[(0,t.jsxs)("div",{className:"flex-1 flex justify-between sm:hidden",children:[(0,t.jsx)("button",{onClick:()=>F(k-1),disabled:1===k,className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),(0,t.jsx)("button",{onClick:()=>F(k+1),disabled:k===L,className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),(0,t.jsxs)("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[(0,t.jsx)("div",{children:(0,t.jsxs)("p",{className:"text-sm text-gray-700",children:["Showing ",(0,t.jsx)("span",{className:"font-medium",children:A})," to"," ",(0,t.jsx)("span",{className:"font-medium",children:R})," of"," ",(0,t.jsx)("span",{className:"font-medium",children:D})," results"]})}),(0,t.jsxs)("div",{className:"flex items-center space-x-4",children:[y.showPageSizeSelector&&(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("span",{className:"text-sm text-gray-700",children:"Show:"}),(0,t.jsx)("select",{value:j,onChange:e=>{N(Number(e.target.value)),w(1)},className:"border border-gray-300 rounded-md px-2 py-1 text-sm",children:null==(e=y.pageSizeOptions)?void 0:e.map(e=>(0,t.jsx)("option",{value:e,children:e},e))})]}),(0,t.jsxs)("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[(0,t.jsx)("button",{onClick:()=>F(k-1),disabled:1===k,className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:(0,t.jsx)(n.ChevronLeft,{className:"h-5 w-5"})}),(()=>{let e=[];if(L<=5)for(let t=1;t<=L;t++)e.push(t);else{let t=Math.max(1,k-2),a=Math.min(L,t+5-1);t>1&&(e.push(1),t>2&&e.push("..."));for(let r=t;r<=a;r++)e.push(r);a<L&&(a<L-1&&e.push("..."),e.push(L))}return e})().map((e,a)=>(0,t.jsx)("button",{onClick:()=>"number"==typeof e&&F(e),disabled:"number"!=typeof e,className:"relative inline-flex items-center px-4 py-2 border text-sm font-medium ".concat(e===k?"z-10 bg-blue-50 border-blue-500 text-blue-600":"..."===e?"bg-white border-gray-300 text-gray-700 cursor-default":"bg-white border-gray-300 text-gray-500 hover:bg-gray-50"),children:e},a)),(0,t.jsx)("button",{onClick:()=>F(k+1),disabled:k===L,className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:(0,t.jsx)(i.ChevronRight,{className:"h-5 w-5"})})]})]})]})]})};return(0,t.jsx)("div",{className:"bg-white rounded-lg shadow-sm ".concat(d),children:x?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"hidden md:block",children:[(0,t.jsx)(P,{}),y.enabled&&(0,t.jsx)(U,{})]}),(0,t.jsx)("div",{className:"md:hidden",children:(0,t.jsx)(()=>(0,t.jsxs)("div",{className:"space-y-4",children:[O.map((e,a)=>{let r=m.length>0&&m.some(t=>!t.condition||t.condition(e)),s=u.find(e=>"actions"===e.key),n=s&&s.mobileRender;return(0,t.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-4 shadow-sm relative",children:["top-right"===p&&(r||n)&&(0,t.jsx)("div",{className:"absolute top-3 right-3 z-10",children:n?(null==s?void 0:s.mobileRender)&&s.mobileRender(e[s.key],e,a):(0,t.jsx)("div",{className:"flex flex-wrap gap-1",children:m.map((a,r)=>{if(a.condition&&!a.condition(e))return null;let s=a.icon;return(0,t.jsx)("button",{onClick:()=>a.onClick(e),title:a.title||a.label,className:"inline-flex items-center p-2 border text-sm font-medium rounded-md transition-colors duration-200 ".concat({primary:"bg-blue-50 text-blue-700 border-blue-200 hover:bg-blue-100",secondary:"bg-gray-50 text-gray-700 border-gray-200 hover:bg-gray-100",success:"bg-green-50 text-green-700 border-green-200 hover:bg-green-100",danger:"bg-red-50 text-red-700 border-red-200 hover:bg-red-100",warning:"bg-yellow-50 text-yellow-700 border-yellow-200 hover:bg-yellow-100",info:"bg-blue-50 text-blue-700 border-blue-200 hover:bg-blue-100"}[a.variant]," ").concat(a.className||""),children:(0,t.jsx)(s,{className:"h-4 w-4"})},r)})})}),(0,t.jsxs)("div",{className:"space-y-3 ".concat("top-right"===p&&(r||n)?"pr-16":""),children:[u.map((r,s)=>{if(r.hideOnMobile||"actions"===r.key)return null;let n="index"===r.key?a+1:e[r.key];return(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("div",{className:"text-xs font-medium text-gray-500 mb-1",children:r.label}),(0,t.jsx)("div",{className:"text-sm text-gray-900",children:r.mobileRender?r.mobileRender(n,e,a):r.render?r.render(n,e,a):String(n||"-")})]},s)}),"bottom"===p&&(r||n)&&(0,t.jsx)("div",{className:"pt-3 border-t border-gray-200",children:n?(null==s?void 0:s.mobileRender)&&s.mobileRender(e[s.key],e,a):(0,t.jsx)("div",{className:"flex flex-wrap gap-2",children:m.map((a,r)=>{if(a.condition&&!a.condition(e))return null;let s=a.icon;return(0,t.jsxs)("button",{onClick:()=>a.onClick(e),title:a.title||a.label,className:"inline-flex items-center px-3 py-2 border text-sm font-medium rounded-md transition-colors duration-200 ".concat({primary:"bg-blue-50 text-blue-700 border-blue-200",secondary:"bg-gray-50 text-gray-700 border-gray-200",success:"bg-green-50 text-green-700 border-green-200",danger:"bg-red-50 text-red-700 border-red-200",warning:"bg-yellow-50 text-yellow-700 border-yellow-200",info:"bg-blue-50 text-blue-700 border-blue-200"}[a.variant]," ").concat(a.className||""),children:[(0,t.jsx)(s,{className:"h-4 w-4 mr-2"}),a.label]},r)})})})]})]},a)}),z&&(0,t.jsx)("div",{className:"flex justify-center py-6",children:(0,t.jsxs)("div",{className:"flex flex-col items-center space-y-3",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"w-12 h-12 border-4 border-amber-200 rounded-full animate-spin border-t-amber-500"}),(0,t.jsx)("div",{className:"absolute inset-0 w-12 h-12 border-4 border-transparent rounded-full animate-ping border-t-amber-400 opacity-75"})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("p",{className:"text-sm font-medium bg-gradient-to-r from-amber-500 to-yellow-500 bg-clip-text text-transparent",children:"Loading more content..."}),(0,t.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[T.length-O.length," items remaining"]})]}),(0,t.jsx)("div",{className:"w-32 h-1 bg-gray-200 rounded-full overflow-hidden",children:(0,t.jsx)("div",{className:"h-full bg-gradient-to-r from-blue-500 to-purple-500 rounded-full animate-pulse"})})]})}),!z&&O.length>0&&(0,t.jsx)("div",{className:"flex justify-center py-8",children:(0,t.jsxs)("div",{className:"flex flex-col items-center space-y-3",children:[(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:(0,t.jsx)("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,t.jsx)("div",{className:"absolute inset-0 w-12 h-12 bg-green-200 rounded-full animate-ping opacity-20"})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-900",children:"🎉 Selamat! Anda telah memuat semua data"}),(0,t.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Semua ",O.length," item telah ditampilkan"]})]}),(0,t.jsx)("div",{className:"w-24 h-0.5 bg-gradient-to-r from-green-400 to-blue-400 rounded-full"})]})})]}),{})})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(P,{}),y.enabled&&(0,t.jsx)(U,{})]})})}},78894,e=>{"use strict";e.s(["AlertTriangle",()=>t],78894);let t=(0,e.i(75254).default)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},16715,e=>{"use strict";e.s(["RefreshCw",()=>t],16715);let t=(0,e.i(75254).default)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]])},14,e=>{"use strict";e.s(["BIKE_OPTIONS",()=>t,"RENTAL_STATUS",()=>a,"RentalTypes",()=>r]);let t={honda_scoopy:"Honda Scoopy",honda_beat:"Honda Beat",yamaha_nmax:"Yamaha Nmax",yamaha_fazzio:"Yamaha Fazzio",yamaha_gear:"Yamaha Gear",smooth_zuzu:"Smooth Zuzu",smooth_tempur:"Smooth Tempur"},a={available:"Tersedia",returned:"Selesai Direntalkan",being_rented_out:"Sedang Direntalkan",maintenance:"Dalam Perawatan",extend:"Perpanjang",extendNotPayment:"Perpanjang Tapi Belum Bayar"},r={driver_days:"Driver (Ojol)",days:"Harian",weeks:"Mingguan",months:"Bulanan"}},75650,e=>{"use strict";e.s(["default",()=>N],75650);var t=e.i(43476),a=e.i(71645),r=e.i(95116),s=e.i(63209),n=e.i(87130),i=e.i(16715),l=e.i(40921),o=e.i(69638),c=e.i(3116),d=e.i(14812),u=e.i(54808),m=e.i(14),h=e.i(51199);function x(e){let{data:a,bikeTypeMap:s,onMaintenanceAction:n,isLoading:i=!1}=e,c=e=>{switch(e){case"available":return"bg-green-100 text-green-800";case"maintenance":return"bg-red-100 text-red-800";case"being_rented_out":return"bg-yellow-100 text-yellow-800";case"returned":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},d=e=>m.RENTAL_STATUS[e]||e,u=e=>s[e]?s[e]:m.BIKE_OPTIONS[e]||e,x={columns:[{key:"licence_plat_number",label:"Nomor Kendaraan",render:(e,a)=>(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"h-10 w-10 bg-gray-200 rounded-lg flex items-center justify-center",children:(0,t.jsx)(l.Bike,{className:"h-6 w-6 text-gray-400"})}),(0,t.jsx)("div",{className:"ml-4",children:(0,t.jsx)("div",{className:"text-sm font-medium text-gray-900",children:a.licence_plat_number||"-"})})]}),mobileRender:(e,a)=>(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"h-12 w-12 bg-gray-200 rounded-lg flex items-center justify-center",children:(0,t.jsx)(l.Bike,{className:"h-6 w-6 text-gray-400"})}),(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-gray-900 truncate",children:a.licence_plat_number||"No License Plate"}),(0,t.jsxs)("div",{className:"mt-1 flex items-center space-x-2",children:[(0,t.jsx)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:u(a.bike_type||"")}),(0,t.jsx)("span",{className:"text-xs text-gray-500",children:a.bike_year||"No Year"})]}),(0,t.jsx)("div",{className:"mt-2",children:(0,t.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(c(a.status||"")),children:d(a.status||"")})})]})]})},{key:"bike_type",label:"Tipe Motor",render:(e,a)=>(0,t.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:u(a.bike_type||"")}),hideOnMobile:!0},{key:"bike_year",label:"Tahun Keluaran",render:e=>e||"-",hideOnMobile:!0},{key:"status",label:"Status",render:e=>(0,t.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(c(e||"")),children:d(e||"")}),hideOnMobile:!0}],actions:[{key:"maintenance",label:"Lakukan Maintenance",icon:r.Wrench,variant:"danger",onClick:e=>n(e,"maintenance"),condition:e=>"available"===e.status,className:"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500"},{key:"complete",label:"Selesaikan Maintenance",icon:o.CheckCircle,variant:"success",onClick:e=>n(e,"available"),condition:e=>"maintenance"===e.status,className:"inline-flex items-center px-3 py-1.5 border border-transparent text-xs font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500"}],showRowNumbers:!1,responsive:!0,loading:i,emptyState:{icon:r.Wrench,title:"No maintenance data found",description:"No bikes available for maintenance."}};return(0,t.jsx)(h.CustomTable,{data:a,config:x,isLoading:i})}var b=e.i(37727),g=e.i(78894);function p(e){let{isOpen:a,onClose:s,onConfirm:n,bikeInfo:i,action:l,isLoading:c=!1}=e;if(!a)return null;let d="start"===l?{icon:r.Wrench,iconColor:"text-red-600",iconBg:"bg-red-100",title:"Konfirmasi Maintenance",message:"Apakah Anda yakin ingin melakukan maintenance pada motor ".concat(i.licence_plat_number,"?"),warning:"Motor ini akan tidak dapat disewakan selama dalam status maintenance.",confirmText:"Ya, Lakukan Maintenance",confirmButtonClass:"bg-red-600 hover:bg-red-700 text-white",showWarning:!0}:{icon:o.CheckCircle,iconColor:"text-green-600",iconBg:"bg-green-100",title:"Konfirmasi Selesai Maintenance",message:"Apakah motor ".concat(i.licence_plat_number," sudah selesai di-maintenance dengan baik?"),warning:"Pastikan motor sudah siap untuk disewakan kembali.",confirmText:"Ya, Siap untuk Disewakan",confirmButtonClass:"bg-green-600 hover:bg-green-700 text-white",showWarning:!0},u=d.icon;return(0,t.jsxs)("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4",onClick:e=>{e.target===e.currentTarget&&s()},children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-black/20 backdrop-blur-sm"}),(0,t.jsxs)("div",{className:"relative bg-white rounded-xl shadow-2xl max-w-md w-full mx-4 transform transition-all duration-300 ease-out",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 ".concat(d.iconBg," rounded-full flex items-center justify-center"),children:(0,t.jsx)(u,{className:"h-5 w-5 ".concat(d.iconColor)})}),(0,t.jsx)("div",{children:(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:d.title})})]}),(0,t.jsx)("button",{onClick:s,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors","aria-label":"Tutup modal",disabled:c,children:(0,t.jsx)(b.X,{className:"h-5 w-5 text-gray-400"})})]}),(0,t.jsx)("div",{className:"p-6",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("p",{className:"text-gray-700 mb-4",children:d.message}),(0,t.jsx)("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:(0,t.jsxs)("div",{className:"text-sm text-gray-600 space-y-1",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium",children:"Nomor Kendaraan:"})," ",i.licence_plat_number||"-"]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium",children:"Tipe Motor:"})," ",i.bike_type||"-"]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium",children:"Tahun:"})," ",i.bike_year||"-"]})]})}),d.showWarning&&(0,t.jsxs)("div",{className:"flex items-start space-x-2 p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:[(0,t.jsx)(g.AlertTriangle,{className:"h-4 w-4 text-yellow-600 mt-0.5 flex-shrink-0"}),(0,t.jsx)("p",{className:"text-sm text-yellow-800",children:d.warning})]})]})}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 p-6 pt-0",children:[(0,t.jsx)("button",{onClick:s,className:"flex-1 px-4 py-2.5 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg font-medium transition-colors",disabled:c,children:"Batal"}),(0,t.jsx)("button",{onClick:n,className:"flex-1 px-4 py-2.5 rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed ".concat(d.confirmButtonClass),disabled:c,children:c?"Memproses...":d.confirmText})]})]})]})}function y(e){let{isOpen:a,onClose:r,bikeInfo:s,action:n}=e;if(!a)return null;let i="start"===n?{title:"Maintenance Dimulai",message:"Motor ".concat(s.licence_plat_number," berhasil diubah statusnya menjadi maintenance."),details:"Motor ini sekarang tidak dapat disewakan hingga maintenance selesai.",buttonText:"Baik, Mengerti"}:{title:"Maintenance Selesai",message:"Motor ".concat(s.licence_plat_number," berhasil diubah statusnya menjadi tersedia."),details:"Motor ini sekarang sudah siap untuk disewakan kembali.",buttonText:"Baik, Mengerti"};return(0,t.jsxs)("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4",onClick:e=>{e.target===e.currentTarget&&r()},children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-black/20 backdrop-blur-sm"}),(0,t.jsxs)("div",{className:"relative bg-white rounded-xl shadow-2xl max-w-md w-full mx-4 transform transition-all duration-300 ease-out",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:(0,t.jsx)(o.CheckCircle,{className:"h-5 w-5 text-green-600"})}),(0,t.jsx)("div",{children:(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:i.title})})]}),(0,t.jsx)("button",{onClick:r,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors","aria-label":"Tutup modal",children:(0,t.jsx)(b.X,{className:"h-5 w-5 text-gray-400"})})]}),(0,t.jsx)("div",{className:"p-6",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("p",{className:"text-gray-700 mb-4",children:i.message}),(0,t.jsx)("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:(0,t.jsxs)("div",{className:"text-sm text-gray-600 space-y-1",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium",children:"Nomor Kendaraan:"})," ",s.licence_plat_number||"-"]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium",children:"Tipe Motor:"})," ",s.bike_type||"-"]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"font-medium",children:"Tahun:"})," ",s.bike_year||"-"]})]})}),(0,t.jsxs)("div",{className:"flex items-start space-x-2 p-3 bg-green-50 border border-green-200 rounded-lg",children:[(0,t.jsx)(o.CheckCircle,{className:"h-4 w-4 text-green-600 mt-0.5 flex-shrink-0"}),(0,t.jsx)("p",{className:"text-sm text-green-800",children:i.details})]})]})}),(0,t.jsx)("div",{className:"flex justify-center p-6 pt-0",children:(0,t.jsx)("button",{onClick:r,className:"px-6 py-2.5 text-white bg-green-600 hover:bg-green-700 rounded-lg font-medium transition-colors",children:i.buttonText})})]})]})}var f=e.i(18342),v=e.i(2849),k=e.i(96945),w=e.i(46472),j=e.i(52962);let N=()=>{var e,h,b,g,N,_;let{isSuperAdmin:B,getCurrentBranchId:E,userRole:C}=(0,j.useAuth)(),[S,T]=(0,a.useState)([]),[M,D]=(0,a.useState)([]),[L,A]=(0,a.useState)({}),[R,F]=(0,a.useState)(!1),[O,z]=(0,a.useState)(""),[I,P]=(0,a.useState)("all"),[U,K]=(0,a.useState)("all"),[q,H]=(0,a.useState)({show:!1,message:"",type:"success"}),[W,Y]=(0,a.useState)({isOpen:!1,bike:null,action:null}),[X,G]=(0,a.useState)({isOpen:!1,bike:null,action:null}),Z=E(),J=B(),Q=async()=>{try{let e=await u.BikeTypeService.getBikeTypes(),t={};e.forEach(e=>{e.id&&e.bike_type&&(t[e.id]=e.bike_type)}),A(t)}catch(e){console.error("Error loading bike types:",e)}},V=async()=>{if(C)try{F(!0),console.log("Maintenance bike list loading with params:",{currentBranchId:Z,isSuperAdminUser:J,branchFilter:U,userRole:null==C?void 0:C.role});let e=await d.BikeService.getBikes({searchTerm:"",filterType:"all",filterStatus:"all",filterYear:"all",filterRentType:"all",filterBranch:"all"!==U?U:void 0},Z,J);console.log("Maintenance bike list loaded bikes:",e.length,"bikes"),console.log("Maintenance bike list bikes data:",e.map(e=>({id:e.id,branchId:e.branchId,licence_plat_number:e.licence_plat_number}))),T(e),D(e)}catch(e){console.error("Error loading bikes:",e),H({show:!0,message:"Error loading bikes data",type:"error"})}finally{F(!1)}};(0,a.useEffect)(()=>{C&&(Q(),V())},[C]),(0,a.useEffect)(()=>{C&&V()},[U,C]),(0,a.useEffect)(()=>{(()=>{let e=S;O&&(e=e.filter(e=>{var t,a,r,s;return(null==(t=e.licence_plat_number)?void 0:t.toLowerCase().includes(O.toLowerCase()))||(null==(a=e.bike_type)?void 0:a.toLowerCase().includes(O.toLowerCase()))||(null==(r=e.bike_year)?void 0:r.toString().includes(O))||(null==(s=m.BIKE_OPTIONS[e.bike_type])?void 0:s.toLowerCase().includes(O.toLowerCase()))})),"all"!==I&&(e=e.filter(e=>e.status===I)),D(e)})()},[O,I,S]);let $=async()=>{if(W.bike&&W.action)try{if(!W.bike.id)return void H({show:!0,message:"ID Tidak ditemukan, silahkan hubungi teknisi",type:"error"});F(!0);let e="start"===W.action?"maintenance":"available";await d.BikeService.updateBikeRental(W.bike.id,{status:e}),Y({isOpen:!1,bike:null,action:null}),G({isOpen:!0,bike:W.bike,action:W.action}),await V()}catch(e){console.error("Error updating maintenance status:",e),H({show:!0,message:"Terjadi Masalah saat mengambil data di server, silahkan hubungi admin",type:"error"})}finally{F(!1)}},ee=(0,a.useMemo)(()=>{let e=S.length,t=S.filter(e=>"available"===e.status).length;return{totalBikes:e,availableBikes:t,maintenanceBikes:S.filter(e=>"maintenance"===e.status).length,rentedBikes:S.filter(e=>"being_rented_out"===e.status).length}},[S]);return(0,a.useEffect)(()=>{if(q.show){let e=setTimeout(()=>{H(e=>({...e,show:!1}))},3e3);return()=>clearTimeout(e)}},[q.show]),(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[q.show&&(0,t.jsx)("div",{className:"fixed top-4 right-4 z-50 p-4 rounded-lg shadow-lg ".concat("success"===q.type?"bg-green-500 text-white":"bg-red-500 text-white"),children:(0,t.jsxs)("div",{className:"flex items-center",children:["success"===q.type?(0,t.jsx)(o.CheckCircle,{className:"h-5 w-5 mr-2"}):(0,t.jsx)(s.AlertCircle,{className:"h-5 w-5 mr-2"}),q.message]})}),(0,t.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,t.jsx)("div",{className:"mb-8",children:(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 flex items-center",children:[(0,t.jsx)(r.Wrench,{className:"h-6 w-6 sm:h-8 sm:w-8 mr-3 text-blue-600"}),"List Maintenance Kendaraan"]}),(0,t.jsx)("p",{className:"mt-2 text-gray-600",children:"Kelola status maintenance untuk semua kendaraan"})]}),(0,t.jsx)("div",{className:"flex justify-end sm:justify-start",children:(0,t.jsxs)("button",{onClick:V,disabled:R,className:"inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50",children:[(0,t.jsx)(i.RefreshCw,{className:"h-4 w-4 mr-2 ".concat(R?"animate-spin":"")}),"Refresh"]})})]})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,t.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)(l.Bike,{className:"h-8 w-8 text-blue-600"})}),(0,t.jsxs)("div",{className:"ml-4",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Total Kendaraan"}),(0,t.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:ee.totalBikes})]})]})}),(0,t.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)(o.CheckCircle,{className:"h-8 w-8 text-green-600"})}),(0,t.jsxs)("div",{className:"ml-4",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Tersedia"}),(0,t.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:ee.availableBikes})]})]})}),(0,t.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)(r.Wrench,{className:"h-8 w-8 text-red-600"})}),(0,t.jsxs)("div",{className:"ml-4",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Maintenance"}),(0,t.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:ee.maintenanceBikes})]})]})}),(0,t.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)(c.Clock,{className:"h-8 w-8 text-yellow-600"})}),(0,t.jsxs)("div",{className:"ml-4",children:[(0,t.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Sedang Direntalkan"}),(0,t.jsx)("p",{className:"text-2xl font-semibold text-gray-900",children:ee.rentedBikes})]})]})})]}),(0,t.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-6 mb-6",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[(0,t.jsx)(f.SearchField,{value:O,onChange:z,placeholder:"Cari berdasarkan plat nomor, tipe motor, atau tahun..."}),(0,t.jsx)(v.SelectDropdown,{value:I,onChange:P,options:[{value:"all",label:"Semua Status"},{value:"available",label:"Tersedia"},{value:"maintenance",label:"Maintenance"},{value:"being_rented_out",label:"Sedang Direntalkan"},{value:"returned",label:"Selesai Direntalkan"}],icon:(0,t.jsx)(n.Filter,{className:"h-5 w-5"})}),B()&&(0,t.jsx)(w.default,{value:U,onChange:K,showAllOption:!0,placeholder:"Pilih cabang..."})]})}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:[(0,t.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,t.jsxs)("h3",{className:"text-lg font-medium text-gray-900",children:["Maintenance Kendaraan (",M.length,")"]})}),(0,t.jsx)(x,{data:M,bikeTypeMap:L,onMaintenanceAction:(e,t)=>{Y({isOpen:!0,bike:e,action:"maintenance"===t?"start":"complete"})},isLoading:R})]})]}),(0,t.jsx)(p,{isOpen:W.isOpen,onClose:()=>{Y({isOpen:!1,bike:null,action:null})},onConfirm:$,bikeInfo:{licence_plat_number:null==(e=W.bike)?void 0:e.licence_plat_number,bike_type:null==(h=W.bike)?void 0:h.bike_type,bike_year:null==(b=W.bike)?void 0:b.bike_year},action:W.action||"start",isLoading:R}),(0,t.jsx)(y,{isOpen:X.isOpen,onClose:()=>{G({isOpen:!1,bike:null,action:null})},bikeInfo:{licence_plat_number:null==(g=X.bike)?void 0:g.licence_plat_number,bike_type:null==(N=X.bike)?void 0:N.bike_type,bike_year:null==(_=X.bike)?void 0:_.bike_year},action:X.action||"start"}),(0,t.jsx)(k.default,{})]})}}]);