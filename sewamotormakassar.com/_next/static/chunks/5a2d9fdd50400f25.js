(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,2849,e=>{"use strict";e.s(["SelectDropdown",()=>s]);var t=e.i(43476),a=e.i(64659);function s(e){let{value:s,onChange:r,options:n,placeholder:i="Pilih...",icon:l,className:o=""}=e;return(0,t.jsxs)("div",{className:"relative ".concat(o),children:[l&&(0,t.jsx)("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 pointer-events-none",children:l}),(0,t.jsxs)("select",{value:s,onChange:e=>r(e.target.value),className:"w-full border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 text-sm appearance-none bg-white hover:border-gray-400 ".concat(l?"pl-10 pr-10 py-2.5":"px-3 py-2.5 pr-10"),children:[(0,t.jsx)("option",{value:"",disabled:!0,children:i}),n.map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},e.value))]}),(0,t.jsx)(a.ChevronDown,{className:"h-4 w-4 absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 pointer-events-none"})]})}},87130,18342,e=>{"use strict";e.s(["Filter",()=>t],87130);let t=(0,e.i(75254).default)("funnel",[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]]);e.s(["SearchField",()=>r],18342);var a=e.i(43476),s=e.i(55436);function r(e){let{value:t,onChange:r,placeholder:n="Cari...",className:i=""}=e;return(0,a.jsxs)("div",{className:"relative ".concat(i),children:[(0,a.jsx)(s.Search,{className:"h-5 w-5 absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 pointer-events-none"}),(0,a.jsx)("input",{type:"text",placeholder:n,value:t,onChange:e=>r(e.target.value),className:"w-full pl-10 pr-4 py-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 text-sm placeholder-gray-500 hover:border-gray-400"})]})}},27612,e=>{"use strict";e.s(["Trash2",()=>t],27612);let t=(0,e.i(75254).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])},55900,e=>{"use strict";e.s(["ChevronUp",()=>t],55900);let t=(0,e.i(75254).default)("chevron-up",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]])},55436,e=>{"use strict";e.s(["Search",()=>t],55436);let t=(0,e.i(75254).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]])},96945,e=>{"use strict";e.s(["default",()=>r]);var t=e.i(43476),a=e.i(71645),s=e.i(55900);let r=function(e){let{threshold:r=300,className:n="",position:i="left"}=e,[l,o]=(0,a.useState)(!1);return((0,a.useEffect)(()=>{let e=()=>{o(window.scrollY>r)};return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)},[r]),l)?(0,t.jsxs)("button",{onClick:()=>{window.scrollTo({top:0,behavior:"smooth"})},className:"fixed bottom-6 z-50 bg-gradient-to-r from-amber-500 to-yellow-500 hover:from-amber-600 hover:to-yellow-600 text-white p-3 rounded-full shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-110 group ".concat("left"===i?"left-6":"right-6"," ").concat(n),"aria-label":"Scroll to top",children:[(0,t.jsx)(s.ChevronUp,{className:"w-5 h-5"}),(0,t.jsxs)("div",{className:"absolute left-full ml-3 top-1/2 transform -translate-y-1/2 bg-gray-900 text-white text-sm px-3 py-2 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-300 whitespace-nowrap pointer-events-none",children:["Scroll to top",(0,t.jsx)("div",{className:"absolute right-full top-1/2 transform -translate-y-1/2 border-4 border-transparent border-r-gray-900"})]})]}):null}},7233,88511,e=>{"use strict";e.s(["Plus",()=>a],7233);var t=e.i(75254);let a=(0,t.default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);e.s(["Edit",()=>s],88511);let s=(0,t.default)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},12482,e=>{"use strict";e.s(["RENTAL_STATUS",()=>a,"RENTAL_STATUS_COLORS",()=>t,"RentalTypes",()=>s,"calculateEndDate",()=>d,"calculateRemainingRentalDays",()=>u,"convertPhoneNumber",()=>p,"convertToDate",()=>l,"convertToTime",()=>o,"formatCurrency",()=>n,"formatRupiah",()=>r,"generatePickupMessage",()=>f,"generateWhatsAppMessage",()=>x,"getFormattedDuration",()=>m,"getFormattedRentalPrice",()=>h,"parseCurrency",()=>i,"removeSeconds",()=>c,"sortByDropoffTime",()=>g]);let t={available:"bg-green-100 text-green-800",returned:"bg-green-100 text-green-800",being_rented_out:"bg-yellow-100 text-yellow-800",maintenance:"bg-red-100 text-red-800",extend:"bg-blue-100 text-blue-800",extendNotPayment:"bg-gray-100 text-gray-800"},a={available:"Tersedia",returned:"Selesai Direntalkan",being_rented_out:"Sedang Direntalkan",maintenance:"Dalam Perawatan",extend:"Perpanjang",extendNotPayment:"Perpanjang Tapi Belum Bayar"},s={driver_days:"Driver (Ojol)",days:"Harian",weeks:"Mingguan",months:"Bulanan"},r=e=>{let t="string"==typeof e?parseFloat(e):e;return isNaN(t)?"Rp 0":"Rp ".concat(t.toString().replace(/\B(?=(\d{3})+(?!\d))/g,"."))},n=e=>e?e.toString().replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,"."):"0",i=e=>e?parseInt(e.replace(/\./g,""),10):0,l=e=>{let t=new Date(e),a=t.getDate(),s=["Januari","Februari","Maret","April","Mei","Juni","Juli","Agustus","September","Oktober","November","Desember"][t.getMonth()],r=t.getFullYear();return"".concat(a," ").concat(s," ").concat(r)},o=e=>{if(!e)return"-";try{return new Date(e).toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"})}catch(e){return"-"}},c=e=>{let t=e.split(":");return 2===t.length?e:3===t.length?"".concat(t[0],":").concat(t[1]):e};function d(e,t,a){let s=new Date(e);switch(a){case"weeks":s.setDate(s.getDate()+7*t);break;case"months":s.setMonth(s.getMonth()+t);break;default:s.setDate(s.getDate()+t)}return s.toISOString().split("T")[0]}function u(e,t,a){let s=new Date(e);switch(a){case"weeks":s.setDate(s.getDate()+7*t);break;case"months":s.setMonth(s.getMonth()+t);break;default:s.setDate(s.getDate()+t)}let r=new Date;return r.setHours(0,0,0,0),s.setHours(0,0,0,0),Math.ceil((s.getTime()-r.getTime())/864e5)}function m(e,t){let a="string"==typeof e?Number(e):e,s=function(e){switch(e){case"weeks":return"Minggu";case"months":return"Bulan";default:return"Hari"}}(t);return"".concat(a," ").concat(s)}let h=(e,t)=>{let a;switch(e){case"weeks":a=t.weeks;break;case"months":a=t.months;break;case"driver_days":a=Number(t.days)-Number(t.driver_deduction_days);break;case"days":a=t.days;break;default:a=0}return Number(a)},p=e=>e.startsWith("0")?"62"+e.slice(1):e.startsWith("62")?e:null,g=e=>e.sort((e,t)=>{let a=e.dropoff_time?e.dropoff_time:"00:00:00",s=t.dropoff_time?t.dropoff_time:"00:00:00";return a.localeCompare(s)}),x=(e,t)=>{var a,s,r,n,i,l;return"reminder"===t?"Selamat Siang, Bapak/Ibu *".concat(null!=(a=null==e?void 0:e.renter_name)?a:"Nama Customer","*%0A%0ASaya ingin mengingatkan bahwa penyewaan motor *").concat(null!=(s=e.bike_type_name)?s:"Merk Kendaraan","* dengan nomor kendaraan *").concat(null!=(r=null==e?void 0:e.licence_plat_number)?r:"PLAT NOT RECOGNIZED","* Anda akan segera berakhir pada pukul *").concat((null==e?void 0:e.dropoff_time)?c(null==e?void 0:e.dropoff_time):"TBD","*.%0A%0AMohon untuk konfirmasi jika ingin melanjutkan. Jika tidak, kami akan melakukan penjemputan sesuai jam pengantaran.%0A%0ATerima kasih sebelumnya."):"Selamat Siang, Bapak/Ibu *".concat(null!=(n=null==e?void 0:e.renter_name)?n:"Nama Customer","*%0A%0ATerima kasih telah menggunakan layanan penyewaan motor kami. Kami harap Anda puas dengan motor *").concat(null!=(i=e.bike_type_name)?i:"Merk Kendaraan","* dengan nomor kendaraan *").concat(null!=(l=null==e?void 0:e.licence_plat_number)?l:"DD DICOBA BB","* yang telah Anda sewa.%0A%0AJika Anda membutuhkan layanan penyewaan motor lagi di masa mendatang, jangan ragu untuk menghubungi kami. Kami siap melayani dengan armada motor yang terawat dan harga yang kompetitif.%0A%0A*Terima kasih atas kepercayaannya, semoga hari Anda menyenangkan.*")},f=(e,t)=>{let a="List Penjemputan Hari ini tanggal ".concat(e,"%0A%0A%0A");return t.forEach(e=>{a+="".concat(e.renter_name,", "),a+="".concat(e.bike_type_name,", "),a+="".concat(Number(e.rent_duration)," Hari, "),a+="Jumlah Helm: *".concat(Number(e.total_helm)||"-","*, "),a+="Jam Pengantaran: *".concat(c(e.dropoff_time||""),"*, "),a+="Lokasi: *".concat(e.renter_address,"*, "),a+="Nomor Telefon: ".concat(e.phone_number,", "),a+="Tim Penjemput: ,%0A%0A",a+="------------------------------ %0A%0A"}),a}},63209,e=>{"use strict";e.s(["AlertCircle",()=>t],63209);let t=(0,e.i(75254).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},69638,e=>{"use strict";e.s(["CheckCircle",()=>t],69638);let t=(0,e.i(75254).default)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},43782,e=>{"use strict";e.s(["AlertModal",()=>n]);var t=e.i(43476),a=e.i(37727),s=e.i(69638),r=e.i(63209);function n(e){let{isOpen:n,onClose:i,title:l,message:o,type:c,buttonText:d="Tutup"}=e;if(!n)return null;let u="success"===c,m=u?s.CheckCircle:r.AlertCircle;return(0,t.jsxs)("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4",onClick:e=>{e.target===e.currentTarget&&i()},children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-black/20 backdrop-blur-sm"}),(0,t.jsxs)("div",{className:"relative bg-white rounded-xl shadow-2xl max-w-md w-full mx-4 transform transition-all duration-300 ease-out",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)("div",{className:"w-10 h-10 ".concat(u?"bg-green-100":"bg-red-100"," rounded-full flex items-center justify-center"),children:(0,t.jsx)(m,{className:"h-5 w-5 ".concat(u?"text-green-600":"text-red-600")})}),(0,t.jsx)("div",{children:(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:l})})]}),(0,t.jsx)("button",{onClick:i,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors","aria-label":"Tutup modal",children:(0,t.jsx)(a.X,{className:"h-5 w-5 text-gray-400"})})]}),(0,t.jsx)("div",{className:"p-6",children:(0,t.jsx)("div",{className:"text-center",children:(0,t.jsx)("p",{className:"text-gray-700 mb-4",children:o})})}),(0,t.jsx)("div",{className:"flex justify-end p-6 pt-0 border-t border-gray-200",children:(0,t.jsx)("button",{onClick:i,className:"px-6 py-2 ".concat(u?"bg-green-600 hover:bg-green-700":"bg-red-600 hover:bg-red-700"," text-white font-medium rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 ").concat(u?"focus:ring-green-500":"focus:ring-red-500"),children:d})})]})]})}},82164,e=>{"use strict";e.s(["DiscountService",()=>r]),e.i(36180);var t=e.i(98925),a=e.i(59141);let s="discount_list";class r{static async getDiscounts(){try{let e=await (0,t.getDocs)((0,t.collection)(a.db,s)),r=[];return console.log("📊 Fetching discounts from collection:",s),console.log("📊 Found documents:",e.size),e.forEach(e=>{var t,a,s,n;let i=e.data();console.log("📊 Document data:",e.id,i),r.push({id:e.id,...i,start_date:null==(t=i.start_date)?void 0:t.toDate(),end_date:null==(a=i.end_date)?void 0:a.toDate(),createdAt:null==(s=i.createdAt)?void 0:s.toDate(),updatedAt:null==(n=i.updatedAt)?void 0:n.toDate()})}),console.log("discountsdiscounts1",r),r.sort((e,t)=>e.createdAt&&t.createdAt?t.createdAt.getTime()-e.createdAt.getTime():e.name.localeCompare(t.name)),console.log("discountsdiscounts2",r),console.log("📊 Processed discounts:",r),r}catch(e){throw console.error("Error getting discounts:",e),Error("Failed to fetch discounts")}}static async getActiveDiscount(){try{let e=new Date,r=await (0,t.getDocs)((0,t.collection)(a.db,s));if(r.empty)return null;let n=[];return r.forEach(t=>{var a,s,r,i;let l=t.data(),o=null==(a=l.start_date)?void 0:a.toDate(),c=null==(s=l.end_date)?void 0:s.toDate();l.isActive&&o&&c&&o<=e&&c>=e&&n.push({id:t.id,...l,start_date:o,end_date:c,createdAt:null==(r=l.createdAt)?void 0:r.toDate(),updatedAt:null==(i=l.updatedAt)?void 0:i.toDate()})}),n.length>0?n[0]:null}catch(e){throw console.error("Error getting active discount:",e),Error("Failed to fetch active discount")}}static async getActiveDiscountsForDropdown(){try{let e=new Date,r=await (0,t.getDocs)((0,t.collection)(a.db,s)),n=[];return r.forEach(t=>{var a,s,r,i;let l=t.data(),o=null==(a=l.start_date)?void 0:a.toDate(),c=null==(s=l.end_date)?void 0:s.toDate();l.isActive&&c&&c>=e&&n.push({id:t.id,...l,start_date:o,end_date:c,createdAt:null==(r=l.createdAt)?void 0:r.toDate(),updatedAt:null==(i=l.updatedAt)?void 0:i.toDate()})}),n.sort((e,t)=>e.end_date.getTime()-t.end_date.getTime())}catch(e){throw console.error("Error getting active discounts for dropdown:",e),Error("Failed to fetch active discounts")}}static async getDiscount(e){try{let o=(0,t.doc)(a.db,s,e),c=await (0,t.getDoc)(o);if(c.exists()){var r,n,i,l;let e=c.data();return{id:c.id,...e,start_date:null==(r=e.start_date)?void 0:r.toDate(),end_date:null==(n=e.end_date)?void 0:n.toDate(),createdAt:null==(i=e.createdAt)?void 0:i.toDate(),updatedAt:null==(l=e.updatedAt)?void 0:l.toDate()}}return null}catch(e){throw console.error("Error getting discount:",e),Error("Failed to fetch discount")}}static async createDiscount(e,r){try{console.log("🚀 Creating discount with data:",e);let n={name:e.name,discount_type:e.discount_type,discount_amount:e.discount_amount,start_date:new Date(e.start_date),end_date:new Date(e.end_date),isActive:e.isActive,motor_types:e.motor_types||[],image_url:e.image_url||"",createdAt:(0,t.serverTimestamp)(),createdBy:r||"",updatedAt:(0,t.serverTimestamp)(),updatedBy:r||""};console.log("📊 Creating document with data:",n);let i=await (0,t.addDoc)((0,t.collection)(a.db,s),n);if(console.log("✅ Document created with ID:",i.id),e.isActive){console.log("🔄 Deactivating other active discounts...");let e=(0,t.query)((0,t.collection)(a.db,s),(0,t.where)("isActive","==",!0)),n=await (0,t.getDocs)(e),l=(0,t.writeBatch)(a.db);n.forEach(e=>{if(e.id!==i.id){let n=(0,t.doc)(a.db,s,e.id);l.update(n,{isActive:!1,updatedAt:(0,t.serverTimestamp)(),updatedBy:r||""})}}),n.size>1&&(await l.commit(),console.log("✅ Other active discounts deactivated"))}return i.id}catch(e){throw console.error("❌ Error creating discount:",e),console.error("Error details:",e),Error("Failed to create discount")}}static async updateDiscount(e,r,n){try{let i=(0,t.writeBatch)(a.db);if(r.isActive){let r=(0,t.query)((0,t.collection)(a.db,s),(0,t.where)("isActive","==",!0));(await (0,t.getDocs)(r)).forEach(r=>{if(r.id!==e){let e=(0,t.doc)(a.db,s,r.id);i.update(e,{isActive:!1,updatedAt:(0,t.serverTimestamp)(),updatedBy:n||""})}})}let l=(0,t.doc)(a.db,s,e),o={name:r.name,discount_type:r.discount_type,discount_amount:r.discount_amount,start_date:new Date(r.start_date),end_date:new Date(r.end_date),isActive:r.isActive,motor_types:r.motor_types||[],image_url:r.image_url||"",updatedAt:(0,t.serverTimestamp)(),updatedBy:n||""};i.update(l,o),await i.commit()}catch(e){throw console.error("Error updating discount:",e),Error("Failed to update discount")}}static async deleteDiscount(e){try{let r=(0,t.doc)(a.db,s,e);await (0,t.deleteDoc)(r)}catch(e){throw console.error("Error deleting discount:",e),Error("Failed to delete discount")}}static calculateDiscountAmount(e,t){return"percent"===t.discount_type?Math.round(e*(t.discount_amount/100)):t.discount_amount}static calculateDiscountedPrice(e,t){let a=this.calculateDiscountAmount(e,t);return Math.max(0,e-a)}static isDiscountValid(e){let t=new Date;return e.isActive&&e.start_date<=t&&e.end_date>=t}static doesDiscountApplyToMotorType(e,t){return!e.motor_types||0===e.motor_types.length||e.motor_types.includes(t)}}},73565,e=>{"use strict";e.s(["default",()=>y]);var t=e.i(43476),a=e.i(71645),s=e.i(18566),r=e.i(7233),n=e.i(87130),i=e.i(37727),l=e.i(57086),o=e.i(88511),c=e.i(27612),d=e.i(82164),u=e.i(43782),m=e.i(18342),h=e.i(2849),p=e.i(96945),g=e.i(86993),x=e.i(52962),f=e.i(12482);function y(){let e=(0,s.useRouter)(),{user:y,userRole:b,isAuthenticated:v,loading:w}=(0,x.useAuth)(),[j,k]=(0,a.useState)([]),[N,D]=(0,a.useState)(!1),[A,_]=(0,a.useState)(!1),[T,S]=(0,a.useState)(""),[C,E]=(0,a.useState)("all"),[M,P]=(0,a.useState)("all"),[B,F]=(0,a.useState)(!1),[L,R]=(0,a.useState)({title:"",message:"",type:"success"}),[H,O]=(0,a.useState)(!1),[I,z]=(0,a.useState)(null),J=(e,t,a)=>{R({title:e,message:t,type:a}),F(!0)},K=(0,a.useCallback)(async()=>{try{D(!0);let e=await d.DiscountService.getDiscounts();console.log("getDiscounts",e),k(e),_(!0)}catch(e){console.error("Error fetching discounts:",e),J("Error","Gagal memuat data diskon. Silakan coba lagi.","error"),_(!0)}finally{D(!1)}},[]);(0,a.useEffect)(()=>{!w&&v&&K()},[K,v,w]);let U=(0,a.useMemo)(()=>j.filter(e=>{let t=!T||e.name.toLowerCase().includes(T.toLowerCase()),a="all"===C||"active"===C&&d.DiscountService.isDiscountValid(e)||"inactive"===C&&!d.DiscountService.isDiscountValid(e),s="all"===M||e.discount_type===M;return t&&a&&s}),[j,T,C,M]),V=async()=>{if(I)try{D(!0),await d.DiscountService.deleteDiscount(I.id),await K(),O(!1),z(null),J("Berhasil","Diskon berhasil dihapus","success")}catch(e){console.error("Error deleting discount:",e),J("Error","Gagal menghapus diskon. Silakan coba lagi.","error")}finally{D(!1)}},q=e=>"percent"===e.discount_type?"".concat(e.discount_amount,"%"):(0,f.formatRupiah)(e.discount_amount),G=e=>{let a=d.DiscountService.isDiscountValid(e),s=new Date;return a?(0,t.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800",children:"Aktif"}):e.end_date<s?(0,t.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-red-100 text-red-800",children:"Berakhir"}):e.start_date>s?(0,t.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800",children:"Terjadwal"}):(0,t.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-gray-100 text-gray-800",children:"Tidak Aktif"})};return(0,t.jsxs)("div",{className:"space-y-6",children:[N&&(0,t.jsx)(g.default,{message:"Memuat Data Diskon...",size:"lg",fullscreen:!0,showProgress:!1}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Kelola Diskon"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Kelola diskon dan promosi untuk motor rental"})]}),(0,t.jsxs)("button",{onClick:()=>e.push("/discount-management/create"),className:"mt-4 sm:mt-0 inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors",children:[(0,t.jsx)(r.Plus,{className:"h-5 w-5 mr-2"}),"Tambah Diskon"]})]}),(0,t.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:(0,t.jsx)("div",{className:"flex flex-col space-y-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,t.jsx)(m.SearchField,{value:T,onChange:S,placeholder:"Cari berdasarkan nama diskon..."}),(0,t.jsx)(h.SelectDropdown,{value:C,onChange:E,options:[{value:"all",label:"Semua Status"},{value:"active",label:"Aktif"},{value:"inactive",label:"Tidak Aktif"}],icon:(0,t.jsx)(n.Filter,{className:"h-5 w-5"})}),(0,t.jsx)(h.SelectDropdown,{value:M,onChange:P,options:[{value:"all",label:"Semua Tipe"},{value:"percent",label:"Persentase"},{value:"fixed",label:"Nominal Tetap"}],icon:(0,t.jsx)(l.Percent,{className:"h-5 w-5"})}),(T||"all"!==C||"all"!==M)&&(0,t.jsx)("div",{className:"flex items-center",children:(0,t.jsxs)("button",{onClick:()=>{S(""),E("all"),P("all")},className:"w-full inline-flex items-center justify-center px-4 py-2 text-sm font-medium text-white bg-red-600 border border-red-600 rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors",children:[(0,t.jsx)(i.X,{className:"h-4 w-4 mr-2"}),"Clear Filters"]})})]})})}),(0,t.jsx)("div",{className:"hidden lg:block bg-white rounded-lg shadow-sm overflow-hidden",children:(0,t.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,t.jsx)("thead",{className:"bg-gray-50",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nama Diskon"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tipe & Jumlah"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Periode"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,t.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aktif"}),(0,t.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Aksi"})]})}),(0,t.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:U.map(a=>(0,t.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,t.jsx)("div",{className:"text-sm font-medium text-gray-900",children:a.name})}),(0,t.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,t.jsx)("div",{className:"text-sm text-gray-900",children:"percent"===a.discount_type?"Persentase":"Nominal Tetap"}),(0,t.jsx)("div",{className:"text-sm text-gray-500",children:q(a)})]}),(0,t.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,t.jsx)("div",{className:"text-sm text-gray-900",children:a.start_date.toLocaleDateString("id-ID")}),(0,t.jsxs)("div",{className:"text-sm text-gray-500",children:["s/d ",a.end_date.toLocaleDateString("id-ID")]})]}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:G(a)}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,t.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(a.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:a.isActive?"Ya":"Tidak"})}),(0,t.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,t.jsxs)("div",{className:"flex items-center justify-end space-x-2",children:[(0,t.jsx)("button",{onClick:()=>e.push("/discount-management/edit/".concat(a.id)),className:"text-blue-600 hover:text-blue-900 p-1 rounded-full hover:bg-blue-100 transition-colors",title:"Edit",children:(0,t.jsx)(o.Edit,{className:"h-4 w-4"})}),(0,t.jsx)("button",{onClick:()=>{z(a),O(!0)},className:"text-red-600 hover:text-red-900 p-1 rounded-full hover:bg-red-100 transition-colors",title:"Hapus",children:(0,t.jsx)(c.Trash2,{className:"h-4 w-4"})})]})})]},a.id))})]})}),(0,t.jsx)("div",{className:"lg:hidden space-y-4",children:U.map(a=>(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-sm p-4 border border-gray-200",children:[(0,t.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:a.name}),(0,t.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[G(a),(0,t.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(a.isActive?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"),children:a.isActive?"Aktif":"Tidak Aktif"})]})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)("button",{onClick:()=>e.push("/discount-management/edit/".concat(a.id)),className:"text-blue-600 hover:text-blue-900 p-2 rounded-full hover:bg-blue-100 transition-colors",children:(0,t.jsx)(o.Edit,{className:"h-4 w-4"})}),(0,t.jsx)("button",{onClick:()=>{z(a),O(!0)},className:"text-red-600 hover:text-red-900 p-2 rounded-full hover:bg-red-100 transition-colors",children:(0,t.jsx)(c.Trash2,{className:"h-4 w-4"})})]})]}),(0,t.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Tipe:"}),(0,t.jsx)("span",{className:"font-medium",children:"percent"===a.discount_type?"Persentase":"Nominal Tetap"})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Jumlah:"}),(0,t.jsx)("span",{className:"font-medium",children:q(a)})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-gray-600",children:"Periode:"}),(0,t.jsxs)("span",{className:"font-medium",children:[a.start_date.toLocaleDateString("id-ID")," - ",a.end_date.toLocaleDateString("id-ID")]})]})]})]},a.id))}),0===U.length&&!N&&A&&(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(l.Percent,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Tidak ada diskon ditemukan"}),(0,t.jsx)("p",{className:"text-gray-600 mb-4",children:"Coba sesuaikan kriteria pencarian atau filter Anda."}),(0,t.jsxs)("button",{onClick:()=>e.push("/discount-management/create"),className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:[(0,t.jsx)(r.Plus,{className:"h-5 w-5 mr-2"}),"Tambah Diskon Pertama"]})]}),(0,t.jsx)(u.AlertModal,{isOpen:H,onClose:()=>{O(!1),z(null)},onConfirm:V,title:"Hapus Diskon",message:'Apakah Anda yakin ingin menghapus diskon "'.concat(null==I?void 0:I.name,'"? Tindakan ini tidak dapat dibatalkan.'),type:"error",confirmText:"Hapus",cancelText:"Batal"}),(0,t.jsx)(u.AlertModal,{isOpen:B,onClose:()=>F(!1),title:L.title,message:L.message,type:L.type}),(0,t.jsx)(p.default,{})]})}}]);