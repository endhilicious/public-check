(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,60029,e=>{"use strict";e.s(["default",()=>Y],60029);var a=e.i(43476),t=e.i(71645),n=e.i(40921),r=e.i(87130),l=e.i(94983),s=e.i(3116),i=e.i(37727),o=e.i(87316),d=e.i(14812),m=e.i(54808);function c(e){let{isOpen:t,onClose:n,title:r,children:l,childrenFooter:s,maxWidth:o="max-w-lg"}=e;return t?(0,a.jsxs)("div",{className:"fixed inset-0 z-[60] flex items-center justify-center p-4",onClick:e=>{e.target===e.currentTarget&&n()},children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-black/20 backdrop-blur-sm"}),(0,a.jsxs)("div",{className:"relative bg-white rounded-xl shadow-2xl ".concat(o," w-full mx-4 max-h-[90vh] transform transition-all duration-300 ease-out flex flex-col"),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 flex-shrink-0",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:r}),(0,a.jsx)("button",{onClick:n,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors","aria-label":"Tutup modal",children:(0,a.jsx)(i.X,{className:"h-5 w-5 text-gray-400"})})]}),(0,a.jsx)("div",{className:"p-6 overflow-y-auto flex-1",children:l}),s&&(0,a.jsx)("div",{className:"flex flex-col sm:flex-row gap-3 p-6 pt-0 border-t border-gray-200 flex-shrink-0",children:s})]})]}):null}var u=e.i(91318),x=e.i(43782),p=e.i(12482),h=e.i(74080),b=e.i(86536),y=e.i(7233),g=e.i(88511),f=e.i(69638),j=e.i(23585),v=e.i(41071);function N(e){let{bike:n,onViewDetail:r,onRentBike:i,onRemindCustomer:o,onEditCustomer:d,onExtendRental:m,onFinishRental:c,variant:u="desktop"}=e,[x,p]=(0,t.useState)(!1),[N,_]=(0,t.useState)({top:0,left:0,right:0,bottom:0}),[k,w]=(0,t.useState)("bottom"),T=(0,t.useRef)(null),S=(0,t.useRef)(null),C=()=>{let e=[{icon:b.Eye,label:"Lihat Detail",action:()=>P(()=>r(n)),className:"text-blue-600 hover:bg-blue-50"}];return"available"===n.status&&e.push({icon:y.Plus,label:"Sewakan Motor",action:()=>P(()=>i(n)),className:"text-green-600 hover:bg-green-50"}),"being_rented_out"===n.status&&e.push({icon:l.MessageCircle,label:"Ingatkan Customer",action:()=>P(()=>o(n)),className:"text-green-600 hover:bg-green-50"},{icon:g.Edit,label:"Edit Data Penyewa",action:()=>P(()=>d(n)),className:"text-yellow-600 hover:bg-yellow-50"},{icon:s.Clock,label:"Perpanjang Penyewaan",action:()=>P(()=>m(n)),className:"text-blue-600 hover:bg-blue-50"},{icon:f.CheckCircle,label:"Selesaikan Penyewaan",action:()=>P(()=>c(n)),className:"text-red-600 hover:bg-red-50"}),e},D=()=>{if(!T.current)return;let e=T.current.getBoundingClientRect(),a=window.innerHeight,t=window.innerWidth,n=Math.min(40*C().length+16,200),r=a-e.bottom,l=e.top,s=t-e.right,i=e.left,o=r<n&&l>r,d=0,m=0,c=0,x=0;if(d=o?Math.max(8,e.top-n-4):Math.min(a-n-8,e.bottom+4),x="auto","desktop"===u)s>=200?(m=e.left,c="auto"):i>=200?(c=t-e.right,m="auto"):(m=Math.max(8,e.right-200+8),c="auto");else{let a=e.left+e.width/2-100;a<8?(m=8,c="auto"):a+200>t-8?(c=8,m="auto"):(m=a,c="auto")}_({top:d,left:m,right:c,bottom:x}),w(o?"top":"bottom")};(0,t.useEffect)(()=>{function e(e){T.current&&!T.current.contains(e.target)&&S.current&&!S.current.contains(e.target)&&p(!1)}if(x)return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[x]),(0,t.useEffect)(()=>{if(x){D();let e=()=>D(),a=()=>D();return window.addEventListener("resize",e),window.addEventListener("scroll",a,!0),()=>{window.removeEventListener("resize",e),window.removeEventListener("scroll",a,!0)}}},[x,u]);let P=e=>{e(),p(!1)},M=C(),B="mobile"===u?j.MoreVertical:v.MoreHorizontal;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("button",{ref:T,onClick:()=>{x||D(),p(!x)},className:"p-1 rounded-md hover:bg-gray-100 transition-colors ".concat("mobile"===u?"text-gray-500":"text-gray-400"),title:"Aksi",children:(0,a.jsx)(B,{className:"h-4 w-4"})}),x?(0,h.createPortal)((0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"fixed inset-0 z-[9998]",onClick:()=>p(!1)}),(0,a.jsx)("div",{ref:S,className:"fixed z-[9999] bg-white rounded-md shadow-xl border border-gray-200 min-w-[200px] max-w-[300px]",style:{top:N.top,left:N.left,right:N.right,bottom:N.bottom},children:(0,a.jsx)("div",{className:"py-1",children:M.map((e,t)=>{let n=e.icon;return(0,a.jsxs)("button",{onClick:e.action,className:"w-full flex items-center px-4 py-2 text-sm whitespace-nowrap ".concat(e.className," hover:bg-opacity-10 transition-colors first:rounded-t-md last:rounded-b-md"),children:[(0,a.jsx)(n,{className:"h-4 w-4 mr-3 flex-shrink-0"}),(0,a.jsx)("span",{className:"text-left",children:e.label})]},t)})})})]}),document.body):null]})}var _=e.i(51199);function k(e){let{data:t,onViewDetail:n,onRentBike:r,onRemindCustomer:l,onEditCustomer:s,onExtendRental:i,onFinishRental:o}=e;return(0,a.jsx)(_.CustomTable,{data:t,config:{mobileActionsPosition:"top-right",columns:[{key:"actions",label:"Actions",render:(e,t)=>(0,a.jsx)("div",{className:"flex justify-start",children:(0,a.jsx)(N,{bike:t,onViewDetail:n,onRentBike:r,onRemindCustomer:l,onEditCustomer:s,onExtendRental:i,onFinishRental:o,variant:"desktop"})}),mobileRender:(e,t)=>(0,a.jsx)(N,{bike:t,onViewDetail:n,onRentBike:r,onRemindCustomer:l,onEditCustomer:s,onExtendRental:i,onFinishRental:o,variant:"mobile"}),hideOnMobile:!1,width:"w-24"},{key:"licence_plat_number",label:"Nomor Kendaraan",render:e=>e||"-",sortable:!0,mobileRender:(e,t)=>(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:t.licence_plat_number||"N/A"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:t.bike_type_name||"-"})]})},{key:"bike_type_name",label:"Tipe Motor",render:e=>e||"-",hideOnMobile:!0,sortable:!0},{key:"renter_name",label:"Nama Penyewa",render:e=>(0,a.jsx)("span",{className:"text-sm font-bold text-gray-900",children:e||"-"}),sortable:!0,mobileRender:(e,t)=>(0,a.jsxs)("div",{className:"space-y-2 mb-4",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Nama Penyewa:"}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-900",children:t.renter_name||"-"})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Nomor HP:"}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-900",children:t.phone_number||"-"})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Tipe Sewa:"}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-900",children:p.RentalTypes[t.rent_type]||"-"})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Lama Sewa:"}),(0,a.jsx)("span",{className:"text-sm font-medium text-gray-900",children:t.rent_duration?(0,p.getFormattedDuration)(t.rent_duration,t.rent_type):"-"})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Sisa Sewa:"}),(0,a.jsx)("span",{className:"text-sm font-medium ".concat(t.start_date_rent&&t.rent_duration?(()=>{let e=(0,p.calculateEndDate)(t.start_date_rent,Number(t.rent_duration),t.rent_type),a=new Date;return 0>Math.ceil((new Date(e).getTime()-a.getTime())/864e5)?"text-red-600":"text-gray-900"})():"text-gray-900"),children:t.start_date_rent&&t.rent_duration?(()=>{let e=(0,p.calculateEndDate)(t.start_date_rent,Number(t.rent_duration),t.rent_type),a=new Date,n=Math.ceil((new Date(e).getTime()-a.getTime())/864e5);return n<0?"Lewat ".concat(Math.abs(n)," hari"):"".concat(n," Hari")})():"-"})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Total Bayar:"}),(0,a.jsx)("span",{className:"text-sm font-medium text-green-600",children:t.total_payment?(0,p.formatRupiah)(Number(t.total_payment)):"-"})]})]})},{key:"renter_address",label:"Alamat",render:e=>(0,a.jsx)("span",{className:"text-sm text-gray-900 max-w-xs truncate",children:e||"-"}),hideOnMobile:!0},{key:"phone_number",label:"Nomor HP/WA",render:e=>e||"-",hideOnMobile:!0},{key:"rent_type",label:"Tipe Penyewa",render:e=>p.RentalTypes[e]||"-",hideOnMobile:!0},{key:"start_date_rent",label:"Tanggal Mulai",render:e=>e?(0,a.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-blue-100 text-blue-800",children:(0,p.convertToDate)(e)}):"-",hideOnMobile:!0,sortable:!0},{key:"dropoff_time",label:"Jam Pengantaran",render:e=>e?(0,p.removeSeconds)(e):"-",hideOnMobile:!0},{key:"rent_duration",label:"Lama Sewa",render:(e,a)=>e?(0,p.getFormattedDuration)(e,a.rent_type):"-",hideOnMobile:!0},{key:"end_date",label:"Tanggal Selesai",render:(e,t)=>{let n=t.start_date_rent&&t.rent_duration?(0,p.calculateEndDate)(t.start_date_rent,Number(t.rent_duration),t.rent_type):null,r=new Date,l=n?new Date(n):null;return n?(0,a.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(l&&l<r?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"),children:(0,p.convertToDate)(n)}):"-"},hideOnMobile:!0},{key:"remaining_days",label:"Sisa Sewa",render:(e,t)=>{let n=t.start_date_rent&&t.rent_duration?(0,p.calculateEndDate)(t.start_date_rent,Number(t.rent_duration),t.rent_type):null,r=new Date,l=n?new Date(n):null,s=l?Math.ceil((l.getTime()-r.getTime())/864e5):0;return t.start_date_rent&&t.rent_duration?(0,a.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(s<0?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"),children:s<0?"Lewat ".concat(Math.abs(s)," hari"):"".concat(s," Hari")}):"-"},hideOnMobile:!0},{key:"total_payment",label:"Total Pembayaran",render:e=>e?(0,a.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-green-100 text-green-800",children:(0,p.formatRupiah)(Number(e))}):"-",hideOnMobile:!0,sortable:!0,sortKey:"total_payment"},{key:"status",label:"Status",render:e=>(0,a.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(p.RENTAL_STATUS_COLORS[e]||"bg-gray-100 text-gray-800"),children:p.RENTAL_STATUS[e]||"-"}),mobileRender:e=>(0,a.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(p.RENTAL_STATUS_COLORS[e]||"bg-gray-100 text-gray-800"),children:p.RENTAL_STATUS[e]||"-"})}],actions:[],showRowNumbers:!0,responsive:!0,loading:!1,pagination:{enabled:!0,pageSize:10,pageSizeOptions:[5,10,25,50],showPageSizeSelector:!0},emptyState:{title:"Tidak ada data ditemukan",description:"Coba sesuaikan kriteria pencarian atau filter Anda."}}})}var w=e.i(18342),T=e.i(2849),S=e.i(96945),C=e.i(46472),D=e.i(86993),P=e.i(52962),M=e.i(53145),B=e.i(80202);e.i(65652);var R=e.i(62821),E=e.i(3709),A=e.i(65957),I=e.i(25850),H=e.i(39380),O=e.i(99683);let L=/^(0|62)[0-9]{8,13}$/,q=O.object({bikeId:O.string().required("Pilih motor yang akan disewakan"),bikeType:O.string().required("Tipe motor harus dipilih"),renterName:O.string().required("Nama penyewa wajib diisi").min(2,"Nama minimal 2 karakter").max(100,"Nama maksimal 100 karakter"),phoneNumber:O.string().required("Nomor HP wajib diisi").matches(L,"Format nomor HP tidak valid (contoh: 08229344xxxx atau 628229344xxxx)"),phoneNumberEmergency:O.string().nullable().transform(e=>""===e?null:e).test("phone-format","Format nomor HP darurat tidak valid (contoh: 08229344xxxx atau 628229344xxxx)",function(e){return!e||""===e||L.test(e)}),renterAddress:O.string().required("Alamat penyewa wajib diisi").min(10,"Alamat minimal 10 karakter").max(500,"Alamat maksimal 500 karakter"),rentType:O.string().required("Tipe penyewaan wajib dipilih").oneOf(["driver_days","days","weeks","months"],"Tipe penyewaan tidak valid"),securityDeposit:O.string().required("Jaminan wajib dipilih").oneOf(["ktp","bpjs","npwp","sim","kk"],"Jenis jaminan tidak valid"),rentDuration:O.number().required("Durasi penyewaan wajib diisi").min(1,"Durasi minimal 1 hari").max(365,"Durasi maksimal 365 hari").integer("Durasi harus berupa angka bulat"),totalHelm:O.number().required("Jumlah helm wajib diisi").min(1,"Minimal 1 helm").max(6,"Maksimal 6 helm").integer("Jumlah helm harus berupa angka bulat"),additionalPayment:O.number().min(0,"Biaya tambahan tidak boleh negatif").required("Biaya tambahan wajib diisi"),startDateRent:O.string().required("Tanggal mulai sewa wajib diisi"),dropoffTime:O.string().optional()}),F=O.object({additionalDuration:O.number().required("Durasi tambahan wajib diisi").min(1,"Durasi minimal 1 hari").max(30,"Durasi maksimal 30 hari").integer("Durasi harus berupa angka bulat"),additionalPayment:O.number().min(0,"Biaya tambahan tidak boleh negatif").required("Biaya tambahan wajib diisi"),statusPayment:O.string().required("Status pembayaran wajib dipilih").oneOf(["paid","not_paid"],"Status pembayaran tidak valid")}),K=O.object({extraCost:O.number().min(0,"Biaya tambahan tidak boleh negatif").required("Biaya tambahan wajib diisi"),anotherInformation:O.string().max(1e3,"Keterangan maksimal 1000 karakter").optional()});var z=e.i(82164);let J=e=>{let{onSubmit:n,onCancel:r,initialData:l,availableBikes:s,selectedBikeType:i,isEditing:o=!1,isLoading:d=!1,disableBikeSelection:m=!1}=e,[c,u]=(0,t.useState)([]),[x,h]=(0,t.useState)(null),{control:b,handleSubmit:y,watch:g,formState:{errors:f,isSubmitting:j,isValid:v}}=(0,M.useForm)({resolver:(0,B.yupResolver)(q),mode:"onChange",defaultValues:{bikeId:(null==l?void 0:l.id)&&(null==l?void 0:l.bike_type)?"".concat(l.id,"[BIKE_TYPE]").concat(l.bike_type):"",bikeType:(null==l?void 0:l.bike_type)||"",renterName:(null==l?void 0:l.renter_name)||"",phoneNumber:(null==l?void 0:l.phone_number)||"",phoneNumberEmergency:(null==l?void 0:l.phone_number_emergency)||"",renterAddress:(null==l?void 0:l.renter_address)||"",rentType:(null==l?void 0:l.rent_type)||"",securityDeposit:(null==l?void 0:l.security_deposit)||"",rentDuration:(null==l?void 0:l.rent_duration)?Number(l.rent_duration):1,totalHelm:(null==l?void 0:l.total_helm)?Number(l.total_helm):1,additionalPayment:(null==l?void 0:l.additional_payment)?Number(l.additional_payment):0,startDateRent:(null==l?void 0:l.start_date_rent)||"",dropoffTime:(null==l?void 0:l.dropoff_time)||""}}),N=g("rentType"),_=g("rentDuration"),k=g("additionalPayment");(0,t.useEffect)(()=>{(async()=>{try{let e=await z.DiscountService.getActiveDiscountsForDropdown();u(e)}catch(e){console.error("Error loading active discounts:",e)}})()},[]);let w=()=>{if(!i||!N||!_)return 0;let e=0;switch(N){case"weeks":e=Number(i.weeks);break;case"months":e=Number(i.months);break;case"driver_days":e=Number(i.days)-Number(i.driver_deduction_days);break;case"days":e=Number(i.days);break;default:e=0}let a=e*_,t=x?z.DiscountService.calculateDiscountAmount(a,x):0;return a-t+(k||0)},T=(()=>{if(!i||!N||!_)return 0;let e=0;switch(N){case"weeks":e=Number(i.weeks);break;case"months":e=Number(i.months);break;case"driver_days":e=Number(i.days)-Number(i.driver_deduction_days);break;case"days":e=Number(i.days);break;default:e=0}return e*_+(k||0)})(),S=x&&i?z.DiscountService.calculateDiscountAmount(T-(k||0),x):0,C=s.filter(e=>"available"===e.status).map(e=>({value:"".concat(e.id,"[BIKE_TYPE]").concat(e.bike_type),label:"".concat(e.bike_type_name," (").concat(e.licence_plat_number,")")})),D=[{value:"driver_days",label:"Driver (Ojol)"},{value:"days",label:"Harian"},{value:"weeks",label:"Mingguan"},{value:"months",label:"Bulanan"}],P=[{value:"ktp",label:"KTP"},{value:"bpjs",label:"BPJS"},{value:"npwp",label:"NPWP"},{value:"sim",label:"SIM"},{value:"kk",label:"KK"}],O=[{value:"",label:"Tidak ada diskon"},...c.filter(e=>null==i||!i.id||z.DiscountService.doesDiscountApplyToMotorType(e,i.id)).map(e=>({value:e.id,label:"".concat(e.name," (").concat("percent"===e.discount_type?"".concat(e.discount_amount,"%"):(0,p.formatRupiah)(e.discount_amount),")")}))];return(0,a.jsxs)("form",{onSubmit:y(e=>{console.log("test",e);let[a,t]=e.bikeId.split("[BIKE_TYPE]");n({...e,bikeId:a,bikeType:t})}),className:"space-y-6",children:[(0,a.jsx)(M.Controller,{name:"bikeId",control:b,render:e=>{var t;let{field:n}=e;return(0,a.jsx)(E.Select,{...n,label:"Tipe Motor Yang Tersedia",options:C,placeholder:"Pilih motor yang tersedia",error:null==(t=f.bikeId)?void 0:t.message,disabled:o||m,required:!0})}}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsx)(M.Controller,{name:"renterName",control:b,render:e=>{var t;let{field:n}=e;return(0,a.jsx)(R.Input,{...n,label:"Nama Penyewa Motor",placeholder:"Masukkan nama lengkap",error:null==(t=f.renterName)?void 0:t.message,required:!0})}}),(0,a.jsx)(M.Controller,{name:"phoneNumber",control:b,render:e=>{var t;let{field:n}=e;return(0,a.jsx)(I.PhoneInput,{...n,label:"Nomor HP (WA)",placeholder:"08229344xxxx",error:null==(t=f.phoneNumber)?void 0:t.message,helperText:"Format: 08xx atau 62xx",required:!0})}})]}),(0,a.jsx)(M.Controller,{name:"phoneNumberEmergency",control:b,render:e=>{var t;let{field:n}=e;return(0,a.jsx)(I.PhoneInput,{...n,value:n.value||"",label:"Nomor HP (WA) - Darurat",placeholder:"08229344xxxx",error:null==(t=f.phoneNumberEmergency)?void 0:t.message,helperText:"Opsional - untuk kontak darurat"})}}),(0,a.jsx)(M.Controller,{name:"renterAddress",control:b,render:e=>{var t;let{field:n}=e;return(0,a.jsx)(A.Textarea,{...n,label:"Alamat Penyewaan Motor",placeholder:"Masukkan alamat lengkap",error:null==(t=f.renterAddress)?void 0:t.message,rows:4,required:!0})}}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsx)(M.Controller,{name:"rentType",control:b,render:e=>{var t;let{field:n}=e;return(0,a.jsx)(E.Select,{...n,label:"Tipe Penyewaan",options:D,placeholder:"Pilih tipe penyewaan",error:null==(t=f.rentType)?void 0:t.message,required:!0})}}),(0,a.jsx)(M.Controller,{name:"securityDeposit",control:b,render:e=>{var t;let{field:n}=e;return(0,a.jsx)(E.Select,{...n,label:"Jaminan",options:P,placeholder:"Pilih jenis jaminan",error:null==(t=f.securityDeposit)?void 0:t.message,required:!0})}})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsx)(M.Controller,{name:"rentDuration",control:b,render:e=>{var t;let{field:n}=e;return(0,a.jsx)(R.Input,{...n,type:"number",label:(()=>{switch(N){case"driver_days":case"days":default:return"Durasi Penyewaan Motor (Hari)";case"weeks":return"Durasi Penyewaan Motor (Minggu)";case"months":return"Durasi Penyewaan Motor (Bulan)"}})(),placeholder:"Contoh: 6",min:1,max:365,error:null==(t=f.rentDuration)?void 0:t.message,helperText:"Minimal 1 hari, maksimal 365 hari",required:!0})}}),(0,a.jsx)(M.Controller,{name:"totalHelm",control:b,render:e=>{var t;let{field:n}=e;return(0,a.jsx)(R.Input,{...n,type:"number",label:"Jumlah Helm",placeholder:"Contoh: 2",min:1,max:6,error:null==(t=f.totalHelm)?void 0:t.message,helperText:"Minimal 1 helm, maksimal 6 helm",required:!0})}})]}),(0,a.jsx)(M.Controller,{name:"additionalPayment",control:b,render:e=>{var t;let{field:n}=e;return(0,a.jsx)(R.Input,{...n,type:"text",label:"Biaya Tambahan",placeholder:"Biaya administrasi dan lain-lain",error:null==(t=f.additionalPayment)?void 0:t.message,helperText:"Biaya tambahan seperti administrasi, dll",value:(0,p.formatCurrency)(n.value),onChange:e=>{let a=(0,p.parseCurrency)(e.target.value);n.onChange(a)},required:!0})}}),c.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Pilih Diskon"}),(0,a.jsx)(E.Select,{value:(null==x?void 0:x.id)||"",onChange:e=>{let a=e.target.value;h(c.find(e=>e.id===a)||null)},options:O,placeholder:"Pilih diskon yang tersedia"}),x&&(0,a.jsxs)("p",{className:"mt-1 text-sm text-green-600",children:["percent"===x.discount_type?"Diskon ".concat(x.discount_amount,"%"):"Potongan ".concat((0,p.formatRupiah)(x.discount_amount))," - ",x.name]})]}),(0,a.jsx)(M.Controller,{name:"startDateRent",control:b,render:e=>{var t;let{field:n}=e;return(0,a.jsx)(H.DateTimeInput,{...n,type:"datetime-local",label:"Tanggal Penyewaan & Waktu Pengantaran",error:null==(t=f.startDateRent)?void 0:t.message,helperText:"Pilih tanggal dan waktu pengantaran motor",required:!0})}}),(0,a.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[x?(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Harga Asli:"}),(0,a.jsx)("span",{className:"text-sm text-gray-500 line-through",children:(0,p.formatCurrency)(T)})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("span",{className:"text-sm text-red-600",children:["Diskon (",x.name,"):"]}),(0,a.jsxs)("span",{className:"text-sm text-red-600",children:["-",(0,p.formatCurrency)(S)]})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center border-t pt-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Total Biaya yang harus dibayarkan:"}),(0,a.jsx)("span",{className:"text-lg font-bold text-green-600",children:(0,p.formatCurrency)(w())})]})]}):(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-gray-700",children:"Total Biaya yang harus dibayarkan:"}),(0,a.jsx)("span",{className:"text-lg font-bold text-green-600",children:(0,p.formatCurrency)(w())})]}),i&&N&&_&&(0,a.jsxs)("div",{className:"mt-2 text-xs text-gray-500",children:["Rincian: ",(0,p.formatCurrency)(w()-(k||0))," (sewa) + ",(0,p.formatCurrency)(k||0)," (tambahan)"]})]}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 pt-4",children:[(0,a.jsx)("button",{type:"button",onClick:r,className:"flex-1 px-4 py-2.5 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg font-medium transition-colors",disabled:j||d,children:"Batal"}),(0,a.jsx)("button",{type:"submit",className:"flex-1 px-4 py-2.5 text-white bg-green-600 hover:bg-green-700 rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:j||d||!v,children:j||d?"Menyimpan...":o?"Simpan Perubahan":"Simpan"})]})]})};var W=e.i(42857);let U=e=>{let{onSubmit:t,onCancel:n,isLoading:r=!1,rentType:l="days"}=e,{control:s,handleSubmit:i,formState:{errors:o,isSubmitting:d}}=(0,M.useForm)({resolver:(0,B.yupResolver)(F),defaultValues:{additionalDuration:1,additionalPayment:0,statusPayment:"paid"}}),m=[{value:"paid",label:"Sudah Bayar",description:"Pembayaran sudah diterima"},{value:"not_paid",label:"Belum Bayar",description:"Pembayaran belum diterima"}];return(0,a.jsxs)("form",{onSubmit:i(t),className:"space-y-6",children:[(0,a.jsx)(M.Controller,{name:"additionalDuration",control:s,render:e=>{var t;let{field:n}=e;return(0,a.jsx)(R.Input,{...n,type:"number",label:(()=>{switch(l){case"driver_days":case"days":default:return"Durasi Penyewaan Motor (Hari)";case"weeks":return"Durasi Penyewaan Motor (Minggu)";case"months":return"Durasi Penyewaan Motor (Bulan)"}})(),placeholder:"Contoh: 1",min:1,max:30,error:null==(t=o.additionalDuration)?void 0:t.message,helperText:"Minimal 1 hari, maksimal 30 hari",required:!0})}}),(0,a.jsx)(M.Controller,{name:"additionalPayment",control:s,render:e=>{var t;let{field:n}=e;return(0,a.jsx)(R.Input,{...n,type:"text",label:"Biaya Tambahan",placeholder:"Biaya administrasi dan lain-lain",error:null==(t=o.additionalPayment)?void 0:t.message,helperText:"Biaya tambahan untuk perpanjangan",value:(0,p.formatCurrency)(n.value),onChange:e=>{let a=(0,p.parseCurrency)(e.target.value);n.onChange(a)},required:!0})}}),(0,a.jsx)(M.Controller,{name:"statusPayment",control:s,render:e=>{var t;let{field:n}=e;return(0,a.jsx)(W.RadioGroup,{...n,label:"Status Pembayaran",options:m,error:null==(t=o.statusPayment)?void 0:t.message,variant:"card",required:!0})}}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 pt-4",children:[(0,a.jsx)("button",{type:"button",onClick:n,className:"flex-1 px-4 py-2.5 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg font-medium transition-colors",disabled:d||r,children:"Batal"}),(0,a.jsx)("button",{type:"submit",className:"flex-1 px-4 py-2.5 text-white bg-green-600 hover:bg-green-700 rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:d||r,children:d||r?"Menyimpan...":"Simpan"})]})]})},V=e=>{let{onSubmit:t,onCancel:n,isLoading:r=!1,bikeData:l}=e,{control:s,handleSubmit:i,formState:{errors:o,isSubmitting:d}}=(0,M.useForm)({resolver:(0,B.yupResolver)(K),defaultValues:{extraCost:0,anotherInformation:""}});return(0,a.jsxs)("form",{onSubmit:i(t),className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-blue-800 mb-2",children:"Informasi Penyelesaian"}),(0,a.jsx)("p",{className:"text-sm text-blue-700",children:"Selesaikan penyewaan motor ini. Masukkan biaya tambahan jika ada dan keterangan yang diperlukan."})]}),l&&(0,a.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:[(0,a.jsx)("h3",{className:"text-sm font-medium text-gray-800 mb-3",children:"Informasi Penyewaan yang akan Diselesaikan"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium text-gray-600",children:"Motor:"}),(0,a.jsxs)("p",{className:"text-gray-900",children:[l.bike_type_name," (",l.licence_plat_number,")"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium text-gray-600",children:"Tahun:"}),(0,a.jsx)("p",{className:"text-gray-900",children:l.bike_year})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium text-gray-600",children:"Penyewa:"}),(0,a.jsx)("p",{className:"text-gray-900",children:l.renter_name})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium text-gray-600",children:"No. HP:"}),(0,a.jsx)("p",{className:"text-gray-900",children:l.phone_number})]}),(0,a.jsxs)("div",{className:"md:col-span-2",children:[(0,a.jsx)("span",{className:"font-medium text-gray-600",children:"Alamat:"}),(0,a.jsx)("p",{className:"text-gray-900",children:l.renter_address})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium text-gray-600",children:"Tipe Sewa:"}),(0,a.jsx)("p",{className:"text-gray-900",children:"driver_days"===l.rent_type?"Driver (Ojol)":"days"===l.rent_type?"Harian":"weeks"===l.rent_type?"Mingguan":"months"===l.rent_type?"Bulanan":l.rent_type})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium text-gray-600",children:"Durasi:"}),(0,a.jsxs)("p",{className:"text-gray-900",children:[l.rent_duration," ","weeks"===l.rent_type?"Minggu":"months"===l.rent_type?"Bulan":"Hari"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium text-gray-600",children:"Tanggal Mulai:"}),(0,a.jsx)("p",{className:"text-gray-900",children:l.start_date_rent})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium text-gray-600",children:"Total Pembayaran:"}),(0,a.jsx)("p",{className:"text-gray-900 font-semibold",children:(0,p.formatCurrency)(Number(l.total_payment||0))})]})]})]}),(0,a.jsx)(M.Controller,{name:"extraCost",control:s,render:e=>{var t;let{field:n}=e;return(0,a.jsx)(R.Input,{...n,type:"text",label:"Biaya Tambahan",placeholder:"Biaya administrasi dan lain-lain",error:null==(t=o.extraCost)?void 0:t.message,helperText:"Biaya tambahan seperti denda, kerusakan, dll (opsional)",value:(0,p.formatCurrency)(n.value),onChange:e=>{let a=(0,p.parseCurrency)(e.target.value);n.onChange(a)}})}}),(0,a.jsx)(M.Controller,{name:"anotherInformation",control:s,render:e=>{var t;let{field:n}=e;return(0,a.jsx)(A.Textarea,{...n,label:"Keterangan Tambahan",placeholder:"Masukkan keterangan bila diperlukan...",rows:4,error:null==(t=o.anotherInformation)?void 0:t.message,helperText:"Keterangan tentang kondisi motor, denda, atau informasi penting lainnya (opsional)"})}}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 pt-4",children:[(0,a.jsx)("button",{type:"button",onClick:n,className:"flex-1 px-4 py-2.5 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg font-medium transition-colors",disabled:d||r,children:"Batal"}),(0,a.jsx)("button",{type:"submit",className:"flex-1 px-4 py-2.5 text-white bg-green-600 hover:bg-green-700 rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",disabled:d||r,children:d||r?"Menyelesaikan...":"Selesaikan"})]})]})};function Y(){var e;let{isSuperAdmin:h,getCurrentBranchId:b,userRole:y}=(0,P.useAuth)(),[g,f]=(0,t.useState)([]),[j,v]=(0,t.useState)(!1),[N,_]=(0,t.useState)(""),[M,B]=(0,t.useState)("all"),[R,E]=(0,t.useState)("all"),[A,I]=(0,t.useState)("all"),[H,O]=(0,t.useState)("all"),[L,q]=(0,t.useState)(!1),[F,K]=(0,t.useState)(!1),[z,W]=(0,t.useState)(!1),[Y,X]=(0,t.useState)(!1),[G,Q]=(0,t.useState)({}),[$,Z]=(0,t.useState)({}),[ee,ea]=(0,t.useState)(null),[et,en]=(0,t.useState)(!1),[er,el]=(0,t.useState)({title:"",message:"",type:"success"}),es=b(),ei=h(),eo=(0,t.useCallback)(async()=>{if(y)try{v(!0),console.log("Rent bike list loading with params:",{currentBranchId:es,isSuperAdminUser:ei,branchFilter:H,userRole:null==y?void 0:y.role});let e=await d.BikeService.getBikes({searchTerm:"",filterType:"all",filterStatus:"all",filterYear:"all",filterRentType:"all",filterBranch:"all"!==H?H:void 0},es,ei);console.log("Rent bike list loaded bikes:",e.length,"bikes"),console.log("Rent bike list bikes data:",e.map(e=>({id:e.id,branchId:e.branchId,licence_plat_number:e.licence_plat_number}))),f(e)}catch(e){console.error("Error fetching bikes:",e)}finally{v(!1)}},[y,es,ei,H]);(0,t.useEffect)(()=>{y&&eo()},[eo,y]);let ed=(0,t.useMemo)(()=>g.filter(e=>{var a,t,n,r;let l=!N||(null==(a=e.renter_name)?void 0:a.toLowerCase().includes(N.toLowerCase()))||(null==(t=e.licence_plat_number)?void 0:t.toLowerCase().includes(N.toLowerCase()))||(null==(n=e.bike_type_name)?void 0:n.toLowerCase().includes(N.toLowerCase()))||(null==(r=e.phone_number)?void 0:r.includes(N)),s="all"===M||e.status===M,i="all"===R||e.rent_type===R,o=!0;if("all"!==A)if(["being_rented_out","extend","extendNotPayment"].includes(e.status||""))if(e.start_date_rent&&e.rent_duration){let a=(0,p.calculateRemainingRentalDays)(e.start_date_rent,Number(e.rent_duration),e.rent_type||void 0);switch(A){case"expiring_today":o=0===a;break;case"overdue":o=a<0;break;case"expiring_or_overdue":o=a<=0;break;default:o=!0}}else o=!1;else o=!1;return l&&s&&i&&o}),[g,N,M,R,A]),em=(e,a,t)=>{el({title:e,message:a,type:t}),en(!0)},ec=async e=>{try{if(v(!0),console.log("Form data received:",e),!e.bikeId)return void em("Error","Data gagal ditemukan, silahkan menghubungi admin","error");let a=(0,p.getFormattedRentalPrice)(e.rentType,$),t=Number(a)*Number(e.rentDuration),n=Number(e.additionalPayment)+t,r=e.startDateRent.split("T"),l=r[0]||"",s=r[1]||"",i={total_payment:String(n),renter_name:e.renterName,rental_rate:String(t),additional_payment:String(e.additionalPayment),renter_address:e.renterAddress,phone_number:e.phoneNumber,phone_number_emergency:e.phoneNumberEmergency||"",rent_type:e.rentType,start_date_rent:l,total_helm:String(e.totalHelm),security_deposit:e.securityDeposit,rent_duration:String(e.rentDuration),dropoff_time:s,status:"being_rented_out"};console.log("Query data to be sent:",i),console.log("Bike ID:",e.bikeId),await d.BikeService.updateBikeRental(e.bikeId,i),await eo(),K(!1),Q({}),em("Berhasil","Data penyewaan berhasil ditambahkan","success")}catch(e){console.error(e),em("Error","Terjadi masalah saat mengambil data di server, silahkan hubungi admin","error")}finally{v(!1)}},eu=async e=>{try{if(v(!0),!ee)return;await d.BikeService.finishRental(ee,{another_information:e.anotherInformation||null,extra_cost:e.extraCost||0}),em("Berhasil","Penyewaan berhasil diselesaikan","success"),await eo(),Q({}),X(!1),ea(null)}catch(e){console.error(e),em("Error","Terjadi masalah saat mengambil data di server, silahkan hubungi admin","error")}finally{v(!1)}},ex=async e=>{try{if(v(!0),!ee)return;await d.BikeService.extendRental(ee,String(e.additionalDuration),String(e.additionalPayment),e.statusPayment),em("Berhasil","Durasi penyewaan berhasil ditambahkan","success"),await eo(),Q({}),ep()}catch(e){console.error(e),em("Error","Terjadi masalah saat mengambil data di server, silahkan hubungi admin","error")}finally{v(!1)}},ep=()=>{W(!1),Z({}),ea(null)},eh=()=>{ea(null),X(!1),Q({}),Z({})},eb=()=>{q(!1),Q({})},ey=()=>{K(!1),ea(null)},eg=async()=>{let e=new Date,a=new Date(e.getTime()-6e4*e.getTimezoneOffset()).toISOString().split("T")[0],t=g.filter(e=>{if(e.start_date_rent&&e.rent_duration){let t=parseInt(e.rent_duration,10);return(0,p.calculateEndDate)(e.start_date_rent,t,e.rent_type||void 0)===a}return!1}),n=(0,p.sortByDropoffTime)(t.map(e=>({...e,dropoff_time:e.dropoff_time||void 0})));if(n.length>0){let e=(0,p.generatePickupMessage)((0,p.convertToDate)(a),n);window.open("https://wa.me/6282293449317?text=".concat(e),"_blank")}else em("Info","Tidak ada penjemputan untuk hari ini.","error")};return(0,a.jsxs)("div",{className:"space-y-6",children:[j&&(0,a.jsx)(D.default,{message:"Memuat Data Rental...",size:"lg",fullscreen:!0,showProgress:!1}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"List Penyewa Kendaraan"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Kelola dan lihat daftar penyewaan motor"})]}),(0,a.jsxs)("button",{onClick:eg,className:"mt-4 sm:mt-0 inline-flex items-center px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 transition-colors",children:[(0,a.jsx)(l.MessageCircle,{className:"h-5 w-5 mr-2"}),"Reminder Penjemputan Hari ini"]})]}),(0,a.jsx)("div",{className:"bg-white rounded-lg shadow-sm p-6",children:(0,a.jsx)("div",{className:"flex flex-col space-y-4",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-6 gap-4",children:[(0,a.jsx)(w.SearchField,{value:N,onChange:_,placeholder:"Cari berdasarkan nama, plat, atau nomor HP..."}),(0,a.jsx)(T.SelectDropdown,{value:M,onChange:B,options:[{value:"all",label:"Semua Status"},{value:"available",label:"Tersedia"},{value:"being_rented_out",label:"Sedang Direntalkan"},{value:"maintenance",label:"Dalam Perawatan"},{value:"extend",label:"Perpanjang"},{value:"extendNotPayment",label:"Perpanjang Belum Bayar"}],icon:(0,a.jsx)(r.Filter,{className:"h-5 w-5"})}),(0,a.jsx)(T.SelectDropdown,{value:R,onChange:E,options:[{value:"all",label:"Semua Tipe Sewa"},{value:"driver_days",label:"Driver (Ojol)"},{value:"days",label:"Harian"},{value:"weeks",label:"Mingguan"},{value:"months",label:"Bulanan"}],icon:(0,a.jsx)(o.Calendar,{className:"h-5 w-5"})}),(0,a.jsx)(T.SelectDropdown,{value:A,onChange:I,options:[{value:"all",label:"Tampilan Semua Durasi Penyewaan"},{value:"expiring_today",label:"Habis Hari Ini (H-0)"},{value:"overdue",label:"Sudah Lewat"},{value:"expiring_or_overdue",label:"Habis Hari Ini & Lewat"}],icon:(0,a.jsx)(s.Clock,{className:"h-5 w-5"})}),h()&&(0,a.jsx)(C.default,{value:H,onChange:O,showAllOption:!0,placeholder:"Pilih cabang..."}),(N||"all"!==M||"all"!==R||"all"!==A||"all"!==H)&&(0,a.jsx)("div",{className:"flex items-center",children:(0,a.jsxs)("button",{onClick:()=>{_(""),B("all"),E("all"),I("all"),O("all")},className:"w-full inline-flex items-center justify-center px-4 py-2 text-sm font-medium text-white bg-red-600 border border-red-600 rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors",children:[(0,a.jsx)(i.X,{className:"h-4 w-4 mr-2"}),"Clear Filters"]})})]})})}),(0,a.jsx)(k,{data:ed,onViewDetail:e=>{q(!0),Q(e)},onRentBike:async e=>{Z(await m.BikeTypeService.getBikeType(e.bike_type||"")||{}),K(!0),Q(e)},onRemindCustomer:e=>((e,a)=>{let t=(0,p.generateWhatsAppMessage)(e,a),n=(0,p.convertPhoneNumber)(String(null==e?void 0:e.phone_number));if(n){let e="https://wa.me/".concat(n,"?text=").concat(t);window.open(e,"_blank")}})(e,"reminder"),onEditCustomer:e=>{K(!0),Q(e)},onExtendRental:async e=>{Z(await m.BikeTypeService.getBikeType(e.bike_type||"")||{}),Q(e),ea(e.id||null),W(!0)},onFinishRental:e=>{ea(e.id||null),Q(e),X(!0)}}),0===ed.length&&!j&&(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(n.Bike,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Tidak ada data ditemukan"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Coba sesuaikan kriteria pencarian atau filter Anda."})]}),(0,a.jsx)(u.FormModal,{isOpen:F,onClose:ey,title:"Tambah Customer Penyewaan Motor",maxWidth:"max-w-2xl",children:(0,a.jsx)(J,{onSubmit:ec,onCancel:ey,initialData:G,availableBikes:g,selectedBikeType:$,isEditing:!!ee,isLoading:j,disableBikeSelection:!!(G.id&&G.bike_type)})}),(0,a.jsx)(c,{isOpen:z,onClose:ep,title:"Perpanjang Penyewaan",children:(0,a.jsx)(U,{onSubmit:ex,onCancel:ep,isLoading:j,rentType:G.rent_type||void 0})}),(0,a.jsx)(c,{isOpen:Y,onClose:eh,title:"Form Selesaikan Penyewaan",children:(0,a.jsx)(V,{onSubmit:eu,onCancel:eh,isLoading:j,bikeData:G})}),(0,a.jsx)(u.FormModal,{isOpen:L,onClose:eb,title:"Detail Motor ".concat(G.licence_plat_number),maxWidth:"max-w-2xl",childrenFooter:(0,a.jsx)("button",{onClick:eb,className:"w-full px-4 py-2.5 text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg font-medium transition-colors",children:"Tutup"}),children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("div",{className:"flex items-center space-x-2",children:(0,a.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat(p.RENTAL_STATUS_COLORS[G.status]||"bg-gray-100 text-gray-800"),children:p.RENTAL_STATUS[G.status]||"-"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium",children:"Tipe Motor:"})," ",(0,a.jsx)("span",{className:"font-bold",children:G.bike_type_name||"-"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium",children:"Tahun Keluaran Motor:"})," ",(0,a.jsx)("span",{className:"font-bold",children:G.bike_year||"-"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium",children:"Plat Motor:"})," ",(0,a.jsx)("span",{className:"font-bold",children:G.licence_plat_number||"-"})]}),G.renter_name&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("hr",{className:"my-4"}),(0,a.jsx)("h3",{className:"font-bold text-lg",children:"Biodata Customer"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium",children:"Nama Penyewa:"})," ",(0,a.jsx)("span",{className:"font-bold",children:G.renter_name||"-"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium",children:"Alamat Penyewa:"})," ",(0,a.jsx)("span",{className:"font-bold",children:G.renter_address||"-"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium",children:"Nomor HP/WA:"})," ",(0,a.jsx)("span",{className:"font-bold",children:G.phone_number||"-"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium",children:"Nomor HP/WA (Darurat):"})," ",(0,a.jsx)("span",{className:"font-bold",children:G.phone_number_emergency||"-"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium",children:"Tipe Penyewa:"})," ",(0,a.jsx)("span",{className:"font-bold",children:p.RentalTypes[G.rent_type]||"-"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium",children:"Tanggal Mulai Sewa:"})," ",(0,a.jsx)("span",{className:"font-bold",children:G.start_date_rent?(0,p.convertToDate)(G.start_date_rent):"-"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium",children:"Jam Pengantaran:"})," ",(0,a.jsx)("span",{className:"font-bold",children:G.dropoff_time?(0,p.removeSeconds)(G.dropoff_time):"-"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium",children:"Lama Sewa:"})," ",(0,a.jsx)("span",{className:"font-bold",children:G.rent_duration?(0,p.getFormattedDuration)(G.rent_duration,G.rent_type):"-"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium",children:"Jumlah Helm:"})," ",(0,a.jsx)("span",{className:"font-bold",children:G.total_helm?"".concat(Number(G.total_helm)," Helm"):"-"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium",children:"Tanggal Selesai Sewa:"})," ",(0,a.jsx)("span",{className:"font-bold",children:G.start_date_rent&&G.rent_duration?(0,a.jsxs)(a.Fragment,{children:[(0,p.convertToDate)((0,p.calculateEndDate)(G.start_date_rent,Number(G.rent_duration),G.rent_type||void 0)),new Date((0,p.calculateEndDate)(G.start_date_rent,Number(G.rent_duration),G.rent_type||void 0))<new Date&&(0,a.jsx)("span",{className:"text-red-600",children:" (Sudah Lewat)"})]}):"-"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium",children:"Jaminan:"})," ",(0,a.jsx)("span",{className:"font-bold",children:(null==(e=G.security_deposit)?void 0:e.toUpperCase())||"-"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium",children:"Tarif Penyewaan:"})," ",(0,a.jsx)("span",{className:"font-bold",children:G.rental_rate?(0,p.formatRupiah)(Number(G.rental_rate)):"0"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium",children:"Biaya Tambahan:"})," ",(0,a.jsx)("span",{className:"font-bold",children:G.additional_payment?(0,p.formatRupiah)(Number(G.additional_payment)):"0"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium",children:"Total Pembayaran:"})," ",(0,a.jsx)("span",{className:"font-bold",children:G.total_payment?(0,p.formatRupiah)(Number(G.total_payment)):"-"})]})]})]})}),(0,a.jsx)(x.AlertModal,{isOpen:et,onClose:()=>en(!1),title:er.title,message:er.message,type:er.type}),(0,a.jsx)(S.default,{})]})}}]);